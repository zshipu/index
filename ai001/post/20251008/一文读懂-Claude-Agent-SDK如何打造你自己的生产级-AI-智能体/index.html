<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>一文读懂 Claude Agent SDK：如何打造你自己的生产级 AI 智能体 --知识铺 | 知识铺的博客</title>
    <meta property="og:title" content="一文读懂 Claude Agent SDK：如何打造你自己的生产级 AI 智能体 --知识铺 - 知识铺的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2025-10-08T03:23:19&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2025-10-08T03:23:19&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,知识铺,java,android,博客,项目管理,python,软件架构,公众号,小程序">
    <meta name="description" content="一文读懂 Claude Agent SDK：如何打造你自己的生产级 AI 智能体 --知识铺">
        
    <meta name="author" content="知识铺">
    <meta property="og:url" content="https://index.zshipu.com/ai001/post/20251008/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-Claude-Agent-SDK%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E7%94%9F%E4%BA%A7%E7%BA%A7-AI-%E6%99%BA%E8%83%BD%E4%BD%93/">
    <link rel="shortcut icon" href='/ai001/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/ai001/css/normalize.css'>
    <link rel="stylesheet" href='/ai001/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    <script data-ad-client="ca-pub-2874221941555456" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    
    
    
    
    
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WLWJSST');</script>
    
</head>


<body>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLWJSST"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://index.zshipu.com/ai001/">
                        知识铺的博客
                    </a>
                
                <p class="description">专注于Android、Java、Go语言(golang)、移动互联网、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://index.zshipu.com/ai001/">首页</a>
                    
                    <a  href="https://index.zshipu.com/ai/" title="AI总站">AI总站</a>
                    
                    <a  href="https://index.zshipu.com" title="总站">总站</a>
                    
                    <a  href="https://index.zshipu.com/ai001/archives/" title="归档">归档</a>
                    
                    <a  href="https://index.zshipu.com/ai001/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#一快速上手安装与环境准备">一、快速上手：安装与环境准备</a></li>
        <li><a href="#1-基础要求">1. 基础要求</a></li>
        <li><a href="#2-安装claude-agent-sdk">2. 安装 <strong>Claude Agent SDK</strong></a></li>
        <li><a href="#二使用教程两种核心交互模式与代码细节">二、使用教程：两种核心交互模式与代码细节</a></li>
        <li><a href="#1-模式一单次交互与流式输出-query">1. 模式一：单次交互与流式输出 (<code>query()</code>)</a></li>
        <li><a href="#2-模式二持续对话与高级控制-claudesdkclient">2. 模式二：持续对话与高级控制 (<code>ClaudeSDKClient</code>)</a></li>
        <li><a href="#三claude-agent-sdk深入开发细节赋能智能体">三、 <strong>Claude Agent SDK</strong> 深入开发细节：赋能智能体</a></li>
        <li><a href="#1-配置智能体行为claudeagentoptions">1. 配置智能体行为：<code>ClaudeAgentOptions</code></a></li>
        <li><a href="#2-自定义工具进程内-mcp-服务器in-process-sdk-mcp-servers">2. 自定义工具：进程内 MCP 服务器（In-Process SDK MCP Servers）</a></li>
        <li><a href="#3-智能体安全与控制钩子hooks">3. 智能体安全与控制：钩子（Hooks）</a></li>
        <li><a href="#4-代理claude-codedemo">4. 代理claude codeDEMO</a></li>
        <li><a href="#四总结为什么选择claude-agent-sdk">四、总结：为什么选择 <strong>Claude Agent SDK</strong>？</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if(leftPos<220){
                postToc.css({"width":leftPos-10,"margin-left":(0-leftPos)})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">一文读懂 Claude Agent SDK：如何打造你自己的生产级 AI 智能体 --知识铺</h1>
        </header>
        <date class="post-meta meta-date">
            2025年10月8日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>你是否厌倦了仅仅“聊天”的 AI 助手？是否梦想着让 AI 拥有类似人类程序员的能力，能够自己看文件、跑代码、执行复杂任务？Anthropic 发布的 <strong>Claude Agent SDK</strong> 正是帮你实现这一目标的强大工具！</p>
<p>这款 SDK（Software Development Kit）是 Anthropic 官方推出的 Python/TypeScript 工具包，用于与 Claude Agent（原 Claude Code）进行深度交互。它将 Claude Agent 背后强大的智能体框架能力，包括上下文管理、工具调用、错误处理等，带入了你的 Python 应用程序中。</p>
<p>今天，我们就来手把手学习如何使用 <strong>Claude Agent SDK</strong>，并深入了解它那些让你事半功倍的开发细节！</p>
<hr>
<h3 id="一快速上手安装与环境准备">一、快速上手：安装与环境准备</h3>
<p>要开始使用 <strong>Claude Agent SDK</strong> 强大的智能体功能，准备工作非常简单：</p>
<h3 id="1-基础要求">1. 基础要求</h3>
<p>使用 Python 版本的 <strong>Claude Agent SDK</strong> 需要满足以下先决条件：</p>
<ul>
<li>
<p><strong>Python 3.10+</strong></p>
</li>
<li>
<p><strong>Node.js</strong></p>
</li>
<li>
<p><strong>Claude Code CLI</strong></p>
<p> (2.0.0+): 需要通过 <code>npm install -g @anthropic-ai/claude-code</code> 进行安装。</p>
</li>
</ul>
<h3 id="2-安装claude-agent-sdk">2. 安装 <strong>Claude Agent SDK</strong></h3>
<p>使用 <code>pip</code> 即可安装官方的 Python 工具包（注意：原 <code>claude-code-sdk</code> 已更名为 <code>claude-agent-sdk</code>）：</p>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;# 安装 Claude Agent SDK Python 包&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;pip install claude-agent-sdk&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;# 设置 API 密钥（必须）&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;export ANTHROPIC_API_KEY=&#34;your-key-here&#34;&lt;span leaf=&#34;&#34;&gt;  
</code></pre><hr>
<h3 id="二使用教程两种核心交互模式与代码细节">二、使用教程：两种核心交互模式与代码细节</h3>
<p><strong>Claude Agent SDK</strong> 提供了两种主要的交互方式，以适应不同的应用场景：<code>query()</code> 函数（单次任务）和 <code>ClaudeSDKClient</code> 类（持续对话）。</p>
<h3 id="1-模式一单次交互与流式输出-query">1. 模式一：单次交互与流式输出 (<code>query()</code>)</h3>
<p><code>query()</code> 函数是开始使用 <strong>Claude Agent SDK</strong> 最简单快捷的方式。它为每一次交互创建新的会话，没有历史记忆，并返回一个异步迭代器，非常适合处理流式响应。</p>
<p><strong>核心代码示例：基础查询</strong></p>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import query, AssistantMessage, TextBlock&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def basic_query_example():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # 使用 query() 发送一个单次问题&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    async for message in query(prompt=&#34;你好，请问你是谁？&#34;):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 实时处理流式消息&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        if isinstance(message, AssistantMessage):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            for block in message.content:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                if isinstance(block, TextBlock):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    print(block.text, end=&#34;&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print()&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(basic_query_example())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><h3 id="2-模式二持续对话与高级控制-claudesdkclient">2. 模式二：持续对话与高级控制 (<code>ClaudeSDKClient</code>)</h3>
<p>如果你需要构建一个能“记住”之前对话内容、支持中断、并且能使用自定义工具的智能体，那么你需要使用 <code>ClaudeSDKClient</code>。</p>
<p><strong>ClaudeSDKClient 的关键特性</strong>：</p>
<ul>
<li>
<p><strong>会话连续性</strong></p>
<p>：在多次 <code>query()</code> 调用中保持对话上下文。</p>
</li>
<li>
<p><strong>支持中断</strong></p>
<p>：可以在智能体执行中途停止任务（通过 <code>client.interrupt()</code>）。</p>
</li>
<li>
<p><strong>自定义工具与钩子（Hooks）</strong></p>
<p>：支持我们在应用中定义进程内工具和钩子，这是 <code>query()</code> 模式所不具备的。</p>
</li>
</ul>
<p><strong>核心代码示例：持续对话</strong></p>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import ClaudeSDKClient, AssistantMessage, TextBlock&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def continuous_conversation_example():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # 使用上下文管理器自动管理连接和断开&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    async with ClaudeSDKClient() as client:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 第一次查询&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        await client.query(&#34;告诉我法国的首都是哪里？&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 处理响应&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        async for message in client.receive_response():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            # ... 打印消息逻辑 ...&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            pass&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 第二次查询，Claude Agent SDK 会记住之前的上下文&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        await client.query(&#34;那个城市的人口是多少？&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 处理后续响应&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        async for message in client.receive_response():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            # ... 打印消息逻辑 ...&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            pass&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(continuous_conversation_example())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><hr>
<h3 id="三claude-agent-sdk深入开发细节赋能智能体">三、 <strong>Claude Agent SDK</strong> 深入开发细节：赋能智能体</h3>
<p><strong>Claude Agent SDK</strong> 的强大之处在于它允许开发者通过配置 <code>ClaudeAgentOptions</code>、自定义工具（MCP Server）和钩子（Hooks）来精细控制智能体的行为和安全。</p>
<h3 id="1-配置智能体行为claudeagentoptions">1. 配置智能体行为：<code>ClaudeAgentOptions</code></h3>
<p><code>ClaudeAgentOptions</code> 是配置 <strong>Claude Agent SDK</strong> 行为的核心数据类。你可以通过它来设置系统提示、允许使用的工具列表、权限模式和工作目录。</p>
<p><strong>代码细节：权限与环境设置</strong></p>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import ClaudeAgentOptions, query&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def options_example():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    options = ClaudeAgentOptions(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 1. 设置智能体的角色和行为&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        system_prompt=&#34;你是一名专业的 Python 开发者&#34;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 2. 允许使用内置工具 (Read, Write, Bash)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        allowed_tools=[&#34;Read&#34;, &#34;Write&#34;, &#34;Bash&#34;],&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 3. 设置权限模式：&#39;acceptEdits&#39; 自动接受文件编辑，加速自动化&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        permission_mode=&#39;acceptEdits&#39;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 4. 设置当前工作目录（CWD），方便文件操作&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        cwd=&#34;/home/user/my_agent_project&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    )&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    async for message in query(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        prompt=&#34;创建一个名为 &#39;server.py&#39; 的 Python Web 服务器&#34;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        options=options&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    ):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # ... 处理响应 ...&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        pass&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(options_example())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><h3 id="2-自定义工具进程内-mcp-服务器in-process-sdk-mcp-servers">2. 自定义工具：进程内 MCP 服务器（In-Process SDK MCP Servers）</h3>
<p><strong>Claude Agent SDK</strong> 最超赞的功能之一是能够通过 <code>@tool</code> 装饰器定义自定义 Python 函数，并在你的应用程序进程内运行它们，无需外部进程（MCP 服务器），极大地降低了 IPC（进程间通信）开销和部署复杂性。</p>
<p><strong>代码细节：定义和集成自定义工具</strong></p>
<ol>
<li>
<p><strong>定义工具</strong></p>
<p>：使用 <code>@tool</code> 装饰器定义工具名称、描述和输入参数模式。</p>
</li>
<li>
<p><strong>创建 MCP 服务器</strong></p>
<p>：使用 <code>create_sdk_mcp_server()</code> 将工具函数打包成进程内服务器。</p>
</li>
<li>
<p><strong>集成到 Options</strong></p>
<p>：将服务器配置传递给 <code>ClaudeAgentOptions</code> 的 <code>mcp_servers</code> 属性。</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import tool, create_sdk_mcp_server, ClaudeAgentOptions, ClaudeSDKClient&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;from typing import Any&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;# 1. 定义自定义工具 &#39;get_time&#39;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;@tool(&#34;get_time&#34;, &#34;获取当前的系统时间&#34;, {})&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def get_time(args: dict[str, Any]) -&amp;gt; dict[str, Any]:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    &#34;&#34;&#34;工具输入参数为空 {}&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    from datetime import datetime&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    current_time = datetime.now().strftime(&#34;%Y-%m-%d %H:%M:%S&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    return {&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        &#34;content&#34;: [{&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            &#34;type&#34;: &#34;text&#34;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            &#34;text&#34;: f&#34;当前时间：{current_time}&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        }]&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    }&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;# 2. 创建 SDK MCP 服务器&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;time_server = create_sdk_mcp_server(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    name=&#34;system_utilities&#34;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    version=&#34;1.0.0&#34;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    tools=[get_time] # 传入自定义工具函数&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def custom_tool_session():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # 3. 配置 Claude Agent Options&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    options = ClaudeAgentOptions(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 映射服务器名（&#39;utils&#39;）到服务器配置&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        mcp_servers={&#34;utils&#34;: time_server},&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 允许 Claude 使用我们定义的工具。名称格式为: mcp__&amp;lt;server_name&amp;gt;__&amp;lt;tool_name&amp;gt;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        allowed_tools=[&#34;mcp__utils__get_time&#34;]&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    )&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    async with ClaudeSDKClient(options=options) as client:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        await client.query(&#34;现在是几点几分？&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 智能体将识别并调用我们自定义的 get_time 工具&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        async for message in client.receive_response():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            print(message)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(custom_tool_session())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><h3 id="3-智能体安全与控制钩子hooks">3. 智能体安全与控制：钩子（Hooks）</h3>
<p>钩子（Hooks）是 <strong>Claude Agent SDK</strong> 中用于在智能体执行周期的特定点（例如，工具使用前或用户提示提交时）拦截和修改行为的确定性回调函数。这是确保安全性和增强可观察性的关键。</p>
<p><strong>代码细节：在工具使用前进行安全检查 (</strong><code>**PreToolUse**</code><strong>)</strong></p>
<p>我们可以定义一个钩子，用于在 <strong>Claude Agent SDK</strong> 尝试执行 Bash 命令前，阻止危险的命令（如 <code>rm -rf /</code>）。</p>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import ClaudeAgentOptions, ClaudeSDKClient, HookMatcher, HookContext&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;from typing import Any&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def block_dangerous_bash(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    input_data: dict[str, Any],&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    tool_use_id: str | None,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    context: HookContext&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;) -&amp;gt; dict[str, Any]:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    &#34;&#34;&#34;在 Bash 工具执行前进行验证&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    tool_name = input_data.get(&#39;tool_name&#39;, &#39;&#39;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    if tool_name == &#34;Bash&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        command = input_data[&#39;tool_input&#39;].get(&#39;command&#39;, &#39;&#39;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        if &#39;rm -rf /&#39; in command:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            print(&#34;[安全警告] 危险命令被阻止！&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            return {&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                &#39;hookSpecificOutput&#39;: {&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    &#39;hookEventName&#39;: &#39;PreToolUse&#39;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    # 阻止操作&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    &#39;permissionDecision&#39;: &#39;deny&#39;,&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    &#39;permissionDecisionReason&#39;: &#39;危险命令被阻止&#39;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                }&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            }&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    return {}&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def hooks_example():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    options = ClaudeAgentOptions(&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        allowed_tools=[&#34;Bash&#34;],&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        hooks={&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            # 在工具使用前调用钩子&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            &#39;PreToolUse&#39;: [&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                HookMatcher(matcher=&#39;Bash&#39;, hooks=[block_dangerous_bash]) # 仅匹配 Bash 工具&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            ]&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        }&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    )&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    async with ClaudeSDKClient(options=options) as client:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # 尝试运行一个将被阻止的危险命令&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        await client.query(&#34;使用 Bash 执行命令 rm -rf /&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        async for message in client.receive_response():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            # 智能体将被钩子阻止，并返回系统消息&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            print(message)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(hooks_example())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><h3 id="4-代理claude-codedemo">4. 代理claude codeDEMO</h3>
<pre tabindex="0"><code>&lt;span leaf=&#34;&#34;&gt;#!/usr/bin/env python3&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;# -*- coding: utf-8 -*-&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;Claude Agent SDK Basic Test Script&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;Test the simplest SDK call functionality&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;import asyncio&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;import os&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;from claude_agent_sdk import query, AssistantMessage, TextBlock&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def basic_query_example():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    &#34;&#34;&#34;Basic query example - test single interaction&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print(&#34;Starting Claude Agent SDK test...&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print(&#34;=&#34; * 60)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    try:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # Send a simple test question&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        prompt = &#34;Hello! Please introduce yourself in one sentence.&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(f&#34;Prompt: {prompt}\n&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(&#34;AI Response:&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(&#34;-&#34; * 60)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        # Use query() to send single question and handle streaming response&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        async for message in query(prompt=prompt):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            # Process streaming messages in real-time&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;            if isinstance(message, AssistantMessage):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                for block in message.content:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                    if isinstance(block, TextBlock):&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;                        print(block.text, end=&#34;&#34;, flush=True)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(&#34;\n&#34; + &#34;-&#34; * 60)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(&#34;Test completed successfully!&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    except Exception as e:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(f&#34;\nTest failed: {str(e)}&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        print(f&#34;Error type: {type(e).__name__}&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;        raise&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;async def main():&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    &#34;&#34;&#34;Main function - set environment variables and run test&#34;&#34;&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # Set environment variables (using user-provided credentials)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    os.environ[&#34;ANTHROPIC_API_KEY&#34;] = &#34;API KEY&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    os.environ[&#34;ANTHROPIC_BASE_URL&#34;] = &#34;代理地址&#34;&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print(&#34;\nEnvironment Configuration:&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print(f&#34;   API Key: {os.environ[&#39;ANTHROPIC_API_KEY&#39;][:20]}...&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    print(f&#34;   Base URL: {os.environ[&#39;ANTHROPIC_BASE_URL&#39;]}\n&#34;)&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # Run basic test&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    await basic_query_example()&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;if __name__ == &#34;__main__&#34;:&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    # Run async main function&lt;span leaf=&#34;&#34;&gt;  
&lt;span leaf=&#34;&#34;&gt;    asyncio.run(main())&lt;span leaf=&#34;&#34;&gt;  
</code></pre><h3 id="四总结为什么选择claude-agent-sdk">四、总结：为什么选择 <strong>Claude Agent SDK</strong>？</h3>
<p><strong>Claude Agent SDK</strong> 不仅仅是一个 API 包装器，它是一套用于构建真正自主 AI 系统的基础设施。它建立在为 Claude Code 提供支持的强大代理框架之上。</p>
<ul>
<li>
<p><strong>真正的自主性</strong></p>
<p>：<strong>Claude Agent SDK</strong> 实现了“给 AI 一台电脑”的核心理念，支持金融、客服、SRE 运维等多种复杂应用场景。</p>
</li>
<li>
<p><strong>工程级就绪</strong></p>
<p>：它提供了生产环境所需的内置错误处理、会话管理、权限控制和自动上下文压缩功能，让你无需担心上下文溢出或不可靠的执行。</p>
</li>
<li>
<p><strong>灵活的工具生态系统</strong></p>
<p>：通过 Model Context Protocol (MCP) 和进程内 SDK MCP 服务器，你可以无缝地将自定义 Python 函数暴露给 Claude Agent 使用，实现低开销、高效率的工具调用。</p>
</li>
</ul>
<p>如果你希望构建一个能够持久运行、安全可靠、并且能够通过工具集成到你的现有系统的 AI 智能体，那么 <strong>Claude Agent SDK</strong> 绝对是你的首选框架。快去尝试这些超赞的功能吧！</p>

        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="https://index.zshipu.com/ai001/">知识铺</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="https://index.zshipu.com/ai001/post/20251008/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-Claude-Agent-SDK%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E7%94%9F%E4%BA%A7%E7%BA%A7-AI-%E6%99%BA%E8%83%BD%E4%BD%93/">https://index.zshipu.com/ai001/post/20251008/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82-Claude-Agent-SDK%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E7%94%9F%E4%BA%A7%E7%BA%A7-AI-%E6%99%BA%E8%83%BD%E4%BD%93/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
        <li><strong>免责声明：</strong>本页面内容均来源于站内编辑发布，部分信息来源互联网，并不意味着本站赞同其观点或者证实其内容的真实性，如涉及版权等问题，请立即联系客服进行更改或删除，保证您的合法权益。转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。也可以邮件至 sblig@126.com</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/ai001/post/20251008/Claude-Code-%E5%B0%86%E7%99%BB%E5%BD%95-Claude-App/">Claude Code 将登录 Claude App --知识铺</a></li>
        
        <li><a href="/ai001/post/20251008/%E5%90%8A%E7%82%B8%E5%A4%A9%E7%9A%84Claude%E5%8F%88%E5%87%BA%E6%96%B0%E6%A8%A1%E5%9E%8B%E5%9B%BD%E5%86%85%E6%80%8E%E4%B9%88%E7%94%A82025107/">吊炸天的Claude又出新模型，国内怎么用？（2025107） --知识铺</a></li>
        
        <li><a href="/ai001/post/20251008/AMD%E5%8D%95%E6%97%A5%E6%9A%B4%E6%B6%A8634%E4%BA%BF%E7%BE%8E%E5%85%83OpenAI%E4%B8%BA%E4%BD%95%E6%8A%9B%E5%BC%83%E8%8B%B1%E4%BC%9F%E8%BE%BE/">AMD单日暴涨634亿美元：OpenAI为何抛弃英伟达？ --知识铺</a></li>
        
        <li><a href="/ai001/post/20251008/%E7%9C%8B%E5%AE%8COpenAI%E5%B9%B4%E5%BA%A6%E5%8F%91%E5%B8%83%E4%BC%9A%E7%AA%81%E7%84%B6%E6%84%9F%E8%A7%89%E4%B8%96%E7%95%8C%E5%B0%B1%E6%98%AF%E4%B8%AA%E5%B7%A8%E5%A4%A7%E7%9A%84%E8%B1%86%E5%8C%85/">看完OpenAI年度发布会，突然感觉世界就是个巨大的豆包 --知识铺</a></li>
        
        <li><a href="/ai001/post/20251008/%E7%AA%81%E5%8F%91%E9%87%8D%E7%A3%85%E5%B7%A8%E5%A4%B4%E5%8F%B2%E8%AF%97%E7%BA%A7%E7%8B%82%E9%A3%99/">突发重磅！巨头史诗级狂飙 --知识铺</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            没有标签
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "zshipu/zshipu-index"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2025 <a href="https://index.zshipu.com/ai001/">知识铺的博客 By 知识铺</a>
        
        | <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">浙 ICP 备19032823号-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/ai001/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://index.zshipu.com/ai001/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://index.zshipu.com/ai001/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Sora-2-%E6%9C%80%E4%BD%B3%E6%8F%90%E7%A4%BA2025-%E5%B9%B4-AI-%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97-Cursor-IDE-%E5%8D%9A%E5%AE%A2---Sora-2-Best-Prompts-Complete-Guide-to-AI-Video-Generation-in-2025-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Sora 2 最佳提示：2025 年 AI 视频生成完整指南 - Cursor IDE 博客 --- Sora 2 Best Prompts Complete Guide to AI Video Generation in 2025 - Cursor IDE 博客 --知识铺">Sora 2 最佳提示：2025 年 AI 视频生成完整指南 - Cursor IDE 博客 --- Sora 2 Best Prompts Complete Guide to AI Video Generation in 2025 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/%E6%9E%84%E5%BB%BA-ChatGPT-%E5%BA%94%E7%94%A8%E4%B8%8E-OpenAI-Apps-SDK%E5%AE%8C%E6%95%B4%E5%BC%80%E5%8F%91%E8%80%85%E6%8C%87%E5%8D%97-Cursor-IDE-%E5%8D%9A%E5%AE%A2---Building-ChatGPT-Apps-with-OpenAI-Apps-SDK-Complete-Developer-Guide-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="构建 ChatGPT 应用与 OpenAI Apps SDK：完整开发者指南 - Cursor IDE 博客 --- Building ChatGPT Apps with OpenAI Apps SDK Complete Developer Guide - Cursor IDE 博客 --知识铺">构建 ChatGPT 应用与 OpenAI Apps SDK：完整开发者指南 - Cursor IDE 博客 --- Building ChatGPT Apps with OpenAI Apps SDK Complete Developer Guide - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Banana-Prompts-%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97-2025Bananaprompts.xyz-%E5%B9%B3%E5%8F%B0-vs-Nano-Banana-%E5%B7%A5%E5%85%B7%E5%85%A8%E8%A7%A3%E6%9E%90-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Banana Prompts 完整指南 2025：Bananaprompts.xyz 平台 vs Nano Banana 工具全解析 - Cursor IDE 博客 --知识铺">Banana Prompts 完整指南 2025：Bananaprompts.xyz 平台 vs Nano Banana 工具全解析 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Claude-Sonnet-4.5-vs-GPT-52025%E5%B9%B4AI%E6%A8%A1%E5%9E%8B%E6%B7%B1%E5%BA%A6%E5%AF%B9%E6%AF%94%E4%B8%8E%E9%80%89%E6%8B%A9%E6%8C%87%E5%8D%97-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Claude Sonnet 4.5 vs GPT-5：2025年AI模型深度对比与选择指南 - Cursor IDE 博客 --知识铺">Claude Sonnet 4.5 vs GPT-5：2025年AI模型深度对比与选择指南 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Sora-V2-API-0.15%E5%AE%9A%E4%BB%B7%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97%E7%AC%AC%E4%B8%89%E6%96%B9vs%E5%AE%98%E6%96%B9%E5%AF%B9%E6%AF%94%E4%B8%8E%E4%B8%AD%E5%9B%BD%E7%94%A8%E6%88%B7%E6%96%B9%E6%A1%88-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Sora V2 API $0.15定价完全指南：第三方vs官方对比与中国用户方案 - Cursor IDE 博客 --知识铺">Sora V2 API $0.15定价完全指南：第三方vs官方对比与中国用户方案 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Sora-Text-to-Video-API-%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%972025%E6%9C%80%E6%96%B0%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95%E4%B8%8E%E6%88%90%E6%9C%AC%E5%88%86%E6%9E%90-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Sora Text to Video API 完整指南：2025最新访问方法与成本分析 - Cursor IDE 博客 --知识铺">Sora Text to Video API 完整指南：2025最新访问方法与成本分析 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Sora-Image-to-Video-API-%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97%E5%9B%BE%E7%89%87%E5%8A%A8%E7%94%BB%E5%8C%96%E5%AE%9E%E6%88%98%E4%B8%8E%E6%88%90%E6%9C%AC%E5%88%86%E6%9E%90-2025-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Sora Image to Video API 完整指南：图片动画化实战与成本分析 2025 - Cursor IDE 博客 --知识铺">Sora Image to Video API 完整指南：图片动画化实战与成本分析 2025 - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/OpenAI-Agent-Builder%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97AgentKit%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A2025-Cursor-IDE-%E5%8D%9A%E5%AE%A2-1/" title="OpenAI Agent Builder完整指南：AgentKit从入门到精通（2025） - Cursor IDE 博客 (1) --知识铺">OpenAI Agent Builder完整指南：AgentKit从入门到精通（2025） - Cursor IDE 博客 (1) --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/OpenAI-Agent-Builder%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97AgentKit%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A2025-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="OpenAI Agent Builder完整指南：AgentKit从入门到精通（2025） - Cursor IDE 博客 --知识铺">OpenAI Agent Builder完整指南：AgentKit从入门到精通（2025） - Cursor IDE 博客 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai001/post/20251008/Sora-by-OpenAI-APK%E5%AE%8C%E6%95%B4%E5%AE%89%E5%85%A8%E6%8C%87%E5%8D%97-amp-2025-%E5%B9%B4-Android-%E8%AE%BF%E9%97%AE%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-Cursor-IDE-%E5%8D%9A%E5%AE%A2---Sora-by-OpenAI-APK-Complete-Safety-Guide-amp-Android-Access-Solutions-2025-Cursor-IDE-%E5%8D%9A%E5%AE%A2/" title="Sora by OpenAI APK：完整安全指南 &amp;amp; 2025 年 Android 访问解决方案 - Cursor IDE 博客 --- Sora by OpenAI APK Complete Safety Guide &amp;amp; Android Access Solutions 2025 - Cursor IDE 博客 --知识铺">Sora by OpenAI APK：完整安全指南 &amp;amp; 2025 年 Android 访问解决方案 - Cursor IDE 博客 --- Sora by OpenAI APK Complete Safety Guide &amp;amp; Android Access Solutions 2025 - Cursor IDE 博客 --知识铺</a>
    </li>
    
</ul>
    </section>

    
<section class="widget">
    <h3 class="widget-title" style="color:red">福利派送</h3>
    <ul class="widget-list">
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【2019双12】ALL IN CLoud 低至1折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1_rYHo7P2gK0jSZPxXXacQpXa-690-388.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="助力产业智慧升级，云服务器首年88元起，更有千元代金券礼包免费领！" target="_blank" style="color:red">
                
                    <img src="https://upload-dianshi-1255598498.file.myqcloud.com/345-7c71532bd4935fbdd9a67c1a71e577b1767b805c.200%E7%89%88%E6%9C%ACB.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【渠道专享低折扣】11月特惠 限时2折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1hblJl7Y2gK0jSZFgXXc5OFXa-750-400.jpg">
                
            </a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title"><a href='/ai001/categories/'>分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/ai001/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://index.zshipu.com/ai001/tags/Adobe%E9%9B%86%E6%88%90/">Adobe集成</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AgentKit/">AgentKit</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AI/">AI</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AI%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90/">AI图像生成</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AI%E5%BA%94%E7%94%A8%E6%9E%84%E5%BB%BA/">AI应用构建</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AI%E6%99%BA%E8%83%BD%E4%BD%93/">AI智能体</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AI%E6%A8%A1%E5%9E%8B%E6%B5%8B%E8%AF%95/">AI模型测试</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AltStore/">AltStore</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AMD/">AMD</a>
    
    <a href="https://index.zshipu.com/ai001/tags/AMD%E5%90%88%E4%BD%9C/">AMD合作</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Apps-SDK/">Apps SDK</a>
    
    <a href="https://index.zshipu.com/ai001/tags/ChatGPT/">ChatGPT</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Claude/">Claude</a>
    
    <a href="https://index.zshipu.com/ai001/tags/DevDay-2025/">DevDay 2025</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Epic-Games/">Epic Games</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Fediverse%E9%9B%86%E6%88%90/">Fediverse集成</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Gemini-2.5-Flash/">Gemini 2.5 Flash</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Gemini-3/">Gemini 3</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Google-Labs/">Google Labs</a>
    
    <a href="https://index.zshipu.com/ai001/tags/GPU/">GPU</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Instagram%E9%A3%8E%E6%A0%BC%E7%95%8C%E9%9D%A2/">Instagram风格界面</a>
    
    <a href="https://index.zshipu.com/ai001/tags/iPhone%E6%9B%BF%E4%BB%A3%E5%BA%94%E7%94%A8%E5%B8%82%E5%9C%BA/">IPhone替代应用市场</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Nano-Banana/">Nano Banana</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Opal/">Opal</a>
    
    <a href="https://index.zshipu.com/ai001/tags/OpenAI/">OpenAI</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Pace-Capital/">Pace Capital</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Sam-Altman/">Sam Altman</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Sora/">Sora</a>
    
    <a href="https://index.zshipu.com/ai001/tags/Sundar-Pichai/">Sundar Pichai</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E5%85%A8%E7%90%83%E6%89%A9%E5%BC%A0/">全球扩张</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E5%9B%BE%E5%83%8F%E7%BC%96%E8%BE%91/">图像编辑</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E5%BA%94%E7%94%A8%E5%95%86%E5%BA%97%E5%9E%84%E6%96%AD/">应用商店垄断</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E5%BA%94%E7%94%A8%E6%94%B9%E7%89%88/">应用改版</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7/">开发者工具</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E6%95%B0%E5%AD%97%E5%B8%82%E5%9C%BA%E6%B3%95/">数字市场法</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E6%97%A0%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91/">无代码开发</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E7%B1%B3%E6%AD%87%E5%B0%94%E5%BE%B7%E6%B2%83%E9%9B%B7/">米歇尔·德沃雷</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E7%BA%A6%E7%BF%B0%E5%85%8B%E6%8B%89%E5%85%8B/">约翰·克拉克</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E7%BA%A6%E7%BF%B0%E9%A9%AC%E8%92%82%E5%B0%BC%E6%96%AF/">约翰·马蒂尼斯</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B/">自然语言编程</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E8%AF%BA%E8%B4%9D%E5%B0%94%E7%89%A9%E7%90%86%E5%AD%A6%E5%A5%96/">诺贝尔物理学奖</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E8%B0%B7%E6%AD%8C/">谷歌</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E8%B0%B7%E6%AD%8C%E9%87%8F%E5%AD%90%E9%9C%B8%E6%9D%83/">谷歌量子霸权</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E9%87%8F%E5%AD%90%E7%94%B5%E8%B7%AF/">量子电路</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E9%87%8F%E5%AD%90%E8%AE%A1%E7%AE%97/">量子计算</a>
    
    <a href="https://index.zshipu.com/ai001/tags/%E9%87%8F%E5%AD%90%E9%9A%A7%E7%A9%BF/">量子隧穿</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://blog.zshipu.com//" title="知识铺的博客">知识铺的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://index.zshipu.com/ai001/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>