<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>院内心电监测系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #4f46e5;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
        }

        .nav-tab {
            padding: 10px 20px;
            background: transparent;
            border: 2px solid #e5e7eb;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-tab.active,
        .nav-tab:hover {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
            transform: translateY(-2px);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            margin-bottom: 20px;
        }

        .monitoring-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .ecg-display {
            background: #000;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            height: 300px;
            position: relative;
            overflow: hidden;
        }

        .ecg-wave {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: #00ff41;
            animation: ecgPulse 2s infinite linear;
        }

        @keyframes ecgPulse {
            0% {
                transform: translateX(-100%) scaleY(1);
            }

            10% {
                transform: translateX(-90%) scaleY(3);
            }

            15% {
                transform: translateX(-85%) scaleY(1);
            }

            20% {
                transform: translateX(-80%) scaleY(-2);
            }

            25% {
                transform: translateX(-75%) scaleY(1);
            }

            30% {
                transform: translateX(-70%) scaleY(4);
            }

            35% {
                transform: translateX(-65%) scaleY(1);
            }

            100% {
                transform: translateX(0%) scaleY(1);
            }
        }

        .grid-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 255, 65, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.2) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .patient-sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .patient-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .patient-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
        }

        .patient-card.active {
            border: 3px solid #fff;
        }

        .patient-card.critical {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .vital-signs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .vital-sign {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            color: white;
            transition: all 0.3s ease;
        }

        .vital-sign:hover {
            transform: translateY(-3px);
        }

        .vital-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .vital-label {
            font-size: 12px;
            opacity: 0.9;
        }

        .controls-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .control-btn {
            padding: 15px;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .control-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .control-btn:hover:before {
            left: 100%;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-start {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: white;
        }

        .btn-stop {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .btn-defibrillate {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 20px #f59e0b;
            }

            to {
                box-shadow: 0 0 30px #f59e0b, 0 0 40px #f59e0b;
            }
        }

        .btn-ai {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
        }

        .alerts-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            z-index: 1000;
        }

        .alert {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border-left: 5px solid;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .alert.critical {
            border-left-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .alert.warning {
            border-left-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }

        .alert.info {
            border-left-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 2000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .ai-analysis {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .device-status {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4ade80;
            animation: blink 2s infinite;
        }

        .status-indicator.offline {
            background: #ef4444;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0.3;
            }
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .data-chart {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            height: 2px;
            background: linear-gradient(90deg, #4f46e5, #06b6d4);
            transform-origin: left center;
            animation: chartGrow 3s ease-in-out infinite;
        }

        @keyframes chartGrow {

            0%,
            100% {
                transform: scaleX(0.3) scaleY(1);
            }

            50% {
                transform: scaleX(1) scaleY(2);
            }
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 10px;
            }

            .alerts-panel {
                position: relative;
                width: 100%;
                top: auto;
                right: auto;
            }

            .control-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .floating-action:hover {
            transform: scale(1.1) rotate(180deg);
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- 头部导航 -->
        <div class="header">
            <div class="logo">🏥 心电监测系统</div>
            <div class="nav-tabs">
                <div class="nav-tab active" onclick="showTab('monitoring')">实时监护</div>
                <div class="nav-tab" onclick="showTab('analysis')">AI诊断</div>
                <div class="nav-tab" onclick="showTab('history')">历史数据</div>
                <div class="nav-tab" onclick="showTab('settings')">系统设置</div>
            </div>
        </div>

        <!-- 实时监护页面 -->
        <div id="monitoring" class="tab-content active">
            <div class="main-grid">
                <!-- 主监护面板 -->
                <div class="monitoring-panel">
                    <h3>实时心电监护 - 床位 101</h3>

                    <!-- 设备状态 -->
                    <div class="device-status">
                        <span>12导联ECG</span>
                        <div class="status-indicator"></div>
                        <span>监护仪</span>
                        <div class="status-indicator"></div>
                        <span>除颤器</span>
                        <div class="status-indicator"></div>
                    </div>

                    <!-- ECG波形显示 -->
                    <div class="ecg-display">
                        <div class="grid-lines"></div>
                        <div class="ecg-wave"></div>
                    </div>

                    <!-- 生命体征 -->
                    <div class="vital-signs">
                        <div class="vital-sign">
                            <div class="vital-value" id="heartRate">78</div>
                            <div class="vital-label">心率 BPM</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">120/80</div>
                            <div class="vital-label">血压 mmHg</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">98%</div>
                            <div class="vital-label">血氧 SpO2</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">36.5°</div>
                            <div class="vital-label">体温 ℃</div>
                        </div>
                    </div>
                </div>

                <!-- 患者列表侧栏 -->
                <div class="patient-sidebar">
                    <h3>在线患者 (4/12)</h3>
                    <div class="patient-card active" onclick="selectPatient(this, '101', '张三')">
                        <div><strong>床位 101 - 张三</strong></div>
                        <div>心律正常 | 78 BPM</div>
                        <small>最后更新: 刚刚</small>
                    </div>
                    <div class="patient-card critical" onclick="selectPatient(this, '102', '李四')">
                        <div><strong>床位 102 - 李四</strong></div>
                        <div>⚠️ 心律不齐 | 134 BPM</div>
                        <small>最后更新: 2分钟前</small>
                    </div>
                    <div class="patient-card" onclick="selectPatient(this, '103', '王五')">
                        <div><strong>床位 103 - 王五</strong></div>
                        <div>心律正常 | 65 BPM</div>
                        <small>最后更新: 5分钟前</small>
                    </div>
                    <div class="patient-card" onclick="selectPatient(this, '104', '赵六')">
                        <div><strong>床位 104 - 赵六</strong></div>
                        <div>心律正常 | 82 BPM</div>
                        <small>最后更新: 1分钟前</small>
                    </div>
                </div>
            </div>

            <!-- 控制面板 -->
            <div class="controls-panel">
                <h3>设备控制</h3>
                <div class="control-grid">
                    <button class="control-btn btn-start" onclick="startMonitoring()">开始监护</button>
                    <button class="control-btn btn-stop" onclick="stopMonitoring()">停止监护</button>
                    <button class="control-btn btn-defibrillate" onclick="showDefibrillation()">除颤准备</button>
                    <button class="control-btn btn-ai" onclick="runAIAnalysis()">AI诊断</button>
                    <button class="control-btn" onclick="exportData()">导出数据</button>
                    <button class="control-btn" onclick="showSettings()">阈值设置</button>
                </div>
            </div>
        </div>

        <!-- AI诊断页面 -->
        <div id="analysis" class="tab-content">
            <div class="monitoring-panel">
                <h3>AI辅助诊断结果</h3>
                <div class="ai-analysis">
                    <h4>🤖 智能分析报告</h4>
                    <p><strong>患者:</strong> 床位 101 - 张三</p>
                    <p><strong>分析时间:</strong> <span id="analysisTime">2025-09-22 14:30:25</span></p>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                    <p>诊断准确率: 85%</p>

                    <h5>诊断结果:</h5>
                    <ul>
                        <li>✅ 心律基本正常</li>
                        <li>⚠️ 轻度ST段偏移，建议进一步观察</li>
                        <li>✅ QT间期正常范围</li>
                        <li>✅ 无明显心律失常</li>
                    </ul>

                    <h5>建议:</h5>
                    <p>建议每15分钟重新评估，密切关注ST段变化。如出现胸痛症状请立即通知医师。</p>
                </div>

                <div class="data-chart">
                    <h4>心率趋势图</h4>
                    <div class="chart-line"></div>
                </div>
            </div>
        </div>

        <!-- 历史数据页面 -->
        <div id="history" class="tab-content">
            <div class="monitoring-panel">
                <h3>历史数据管理</h3>
                <div class="ai-analysis">
                    <h4>📊 数据统计</h4>
                    <div class="vital-signs">
                        <div class="vital-sign">
                            <div class="vital-value">156</div>
                            <div class="vital-label">总监护时长(小时)</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">23</div>
                            <div class="vital-label">警报事件</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">4</div>
                            <div class="vital-label">紧急事件</div>
                        </div>
                        <div class="vital-sign">
                            <div class="vital-value">98.2%</div>
                            <div class="vital-label">设备在线率</div>
                        </div>
                    </div>

                    <h5>最近事件记录:</h5>
                    <div style="background: white; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <p>🔴 2025-09-22 13:45 - 床位102心率异常(134 BPM)</p>
                        <p>🟡 2025-09-22 12:30 - 床位103设备离线2分钟</p>
                        <p>🟢 2025-09-22 11:15 - 系统自检完成</p>
                        <p>🔴 2025-09-22 10:22 - 床位101 ST段异常</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 系统设置页面 -->
        <div id="settings" class="tab-content">
            <div class="monitoring-panel">
                <h3>系统设置</h3>
                <div class="ai-analysis">
                    <h4>⚙️ 监护参数设置</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <div>
                            <label>心率警报阈值:</label>
                            <input type="range" min="50" max="150" value="100" style="width: 100%; margin: 10px 0;">
                            <p>当前值: 50-150 BPM</p>
                        </div>
                        <div>
                            <label>血压警报阈值:</label>
                            <input type="range" min="80" max="180" value="140" style="width: 100%; margin: 10px 0;">
                            <p>当前值: 90/60 - 140/90 mmHg</p>
                        </div>
                        <div>
                            <label>血氧警报阈值:</label>
                            <input type="range" min="85" max="100" value="95" style="width: 100%; margin: 10px 0;">
                            <p>当前值: 95% 以上</p>
                        </div>
                    </div>

                    <h4>🔔 通知设置</h4>
                    <div style="background: white; padding: 15px; border-radius: 10px;">
                        <label><input type="checkbox" checked> 短信通知</label><br>
                        <label><input type="checkbox" checked> 邮件通知</label><br>
                        <label><input type="checkbox" checked> 语音警报</label><br>
                        <label><input type="checkbox"> 远程推送</label>
                    </div>

                    <h4>🔒 安全设置</h4>
                    <div style="background: white; padding: 15px; border-radius: 10px;">
                        <p>✅ 数据加密传输已启用</p>
                        <p>✅ 审计日志记录已启用</p>
                        <p>✅ 生物识别登录已启用</p>
                        <button class="control-btn" onclick="showAlert('系统安全检查完成', 'info')">运行安全检查</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 警报面板 -->
    <div class="alerts-panel" id="alertsPanel"></div>

    <!-- 浮动操作按钮 -->
    <button class="floating-action" onclick="emergencyCall()" title="紧急呼叫">🚨</button>

    <!-- 除颤模态框 -->
    <div class="modal" id="defibrillationModal">
        <div class="modal-content">
            <h3>⚡ 除颤器准备</h3>
            <div class="ai-analysis">
                <p><strong>患者:</strong> 床位 101 - 张三</p>
                <p><strong>检测结果:</strong> 室性心动过速</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="defibrillationProgress" style="width: 0%"></div>
                </div>
                <p id="progressText">充电中... 0%</p>
                <div style="margin: 20px 0;">
                    <label>推荐能量: <strong>150J</strong></label><br>
                    <input type="range" min="50" max="360" value="150" style="width: 100%; margin: 10px 0;">
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="control-btn btn-defibrillate" onclick="executeDefibrillation()">执行除颤</button>
                    <button class="control-btn" onclick="closeModal('defibrillationModal')">取消</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 全局变量
        let currentPatient = { bed: '101', name: '张三' };
        let monitoringActive = true;
        let heartRateSimulation;

        // 初始化
        document.addEventListener('DOMContentLoaded', function () {
            startHeartRateSimulation();
            showWelcomeAlert();
            startSystemCheck();
        });

        // 标签页切换
        function showTab(tabName) {
            // 隐藏所有标签页内容
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // 移除所有标签的active类
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // 显示选中的标签页
            document.getElementById(tabName).classList.add('active');

            // 为点击的标签添加active类
            event.target.classList.add('active');
        }

        // 患者选择
        function selectPatient(element, bed, name) {
            // 移除其他患者卡片的active类
            document.querySelectorAll('.patient-card').forEach(card => {
                card.classList.remove('active');
            });

            // 为选中的患者卡片添加active类
            element.classList.add('active');

            // 更新当前患者信息
            currentPatient = { bed, name };

            // 更新显示
            document.querySelector('.monitoring-panel h3').textContent = `实时心电监护 - 床位 ${bed}`;

            showAlert(`已切换到 ${name} (床位 ${bed})`, 'info');
        }

        // 心率模拟
        function startHeartRateSimulation() {
            heartRateSimulation = setInterval(() => {
                if (monitoringActive) {
                    const heartRate = 75 + Math.sin(Date.now() / 1000) * 10 + Math.random() * 6 - 3;
                    document.getElementById('heartRate').textContent = Math.round(heartRate);

                    // 检查异常心率
                    if (heartRate > 100 || heartRate < 60) {
                        showAlert(`心率异常: ${Math.round(heartRate)} BPM`, 'warning');
                    }
                }
            }, 2000);
        }

        // 开始监护
        function startMonitoring() {
            monitoringActive = true;
            showAlert('监护已开始', 'info');
            document.querySelector('.btn-start').style.background = 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)';
        }

        // 停止监护
        function stopMonitoring() {
            monitoringActive = false;
            showAlert('监护已停止', 'warning');
            document.querySelector('.btn-start').style.background = 'linear-gradient(135deg, #4ade80 0%, #22c55e 100%)';
        }

        // 显示除颤界面
        function showDefibrillation() {
            document.getElementById('defibrillationModal').style.display = 'block';
            simulateCharging();
        }

        // 模拟充电过程
        function simulateCharging() {
            let progress = 0;
            const chargingInterval = setInterval(() => {
                progress += 5;
                document.getElementById('defibrillationProgress').style.width = progress + '%';
                document.getElementById('progressText').textContent = `充电中... ${progress}%`;

                if (progress >= 100) {
                    clearInterval(chargingInterval);
                    document.getElementById('progressText').textContent = '准备就绪 - 可执行除颤';
                }
            }, 100);
        }

        // 执行除颤
        function executeDefibrillation() {
            showAlert('⚡ 除颤已执行', 'critical');
            closeModal('defibrillationModal');

            // 模拟除颤后心律恢复
            setTimeout(() => {
                showAlert('心律已恢复正常', 'info');
            }, 3000);
        }

        // AI分析
        function runAIAnalysis() {
            showAlert('AI分析启动中...', 'info');

            // 切换到AI诊断页面
            showTab('analysis');
            document.querySelector('[onclick="showTab(\'analysis\')"]').classList.add('active');

            // 更新分析时间
            document.getElementById('analysisTime').textContent = new Date().toLocaleString('zh-CN');

            setTimeout(() => {
                showAlert('AI诊断完成', 'info');
            }, 2000);
        }

        // 导出数据
        function exportData() {
            showAlert('数据导出中...', 'info');
            setTimeout(() => {
                showAlert('数据已导出到本地', 'info');
            }, 1500);
        }

        // 显示设置
        function showSettings() {
            showTab('settings');
            document.querySelector('[onclick="showTab(\'settings\')"]').classList.add('active');
        }

        // 紧急呼叫
        function emergencyCall() {
            showAlert('🚨 紧急呼叫已发送！医护人员正在赶来...', 'critical');

            // 模拟紧急响应
            setTimeout(() => {
                showAlert('医护团队已到达现场', 'info');
            }, 5000);
        }

        // 显示警报
        function showAlert(message, type = 'info') {
            const alertsPanel = document.getElementById('alertsPanel');
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;

            const icon = type === 'critical' ? '🚨' : type === 'warning' ? '⚠️' : 'ℹ️';
            alert.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span>${icon} ${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; font-size: 18px; cursor: pointer;">×</button>
                </div>
                <small>${new Date().toLocaleTimeString('zh-CN')}</small>
            `;

            alertsPanel.appendChild(alert);

            // 自动移除警报
            setTimeout(() => {
                if (alert.parentElement) {
                    alert.remove();
                }
            }, 5000);
        }

        // 关闭模态框
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // 欢迎警报
        function showWelcomeAlert() {
            setTimeout(() => {
                showAlert('系统已启动，所有设备在线', 'info');
            }, 1000);
        }

        // 系统检查
        function startSystemCheck() {
            setTimeout(() => {
                showAlert('正在进行系统自检...', 'info');

                setTimeout(() => {
                    showAlert('设备自检完成，系统运行正常', 'info');
                }, 3000);
            }, 2000);
        }

        // 点击模态框外部关闭
        window.onclick = function (event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // 键盘快捷键
        document.addEventListener('keydown', function (event) {
            if (event.ctrlKey) {
                switch (event.key) {
                    case '1':
                        event.preventDefault();
                        showTab('monitoring');
                        break;
                    case '2':
                        event.preventDefault();
                        showTab('analysis');
                        break;
                    case '3':
                        event.preventDefault();
                        showTab('history');
                        break;
                    case '4':
                        event.preventDefault();
                        showTab('settings');
                        break;
                }
            }
        });

        // 模拟随机事件
        setInterval(() => {
            if (Math.random() < 0.1) { // 10% 概率
                const events = [
                    { message: '新患者接入监护系统', type: 'info' },
                    { message: '设备电池电量低', type: 'warning' },
                    { message: '数据同步完成', type: 'info' },
                    { message: '检测到轻微信号干扰', type: 'warning' }
                ];

                const event = events[Math.floor(Math.random() * events.length)];
                showAlert(event.message, event.type);
            }
        }, 10000);
    </script>
</body>

</html>