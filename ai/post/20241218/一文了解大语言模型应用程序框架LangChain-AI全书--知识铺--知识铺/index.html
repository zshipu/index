<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>一文了解大语言模型应用程序框架LangChain - AI全书 -- 知识铺 -- 知识铺 | 知识铺的博客</title>
    <meta property="og:title" content="一文了解大语言模型应用程序框架LangChain - AI全书 -- 知识铺 -- 知识铺 - 知识铺的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2024-12-18T08:14:24&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2024-12-18T08:14:24&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,知识铺,java,android,博客,项目管理,python,软件架构,公众号,小程序">
    <meta name="description" content="一文了解大语言模型应用程序框架LangChain - AI全书 -- 知识铺 -- 知识铺">
        <meta name="author" content="知识铺">
        
    <meta property="og:url" content="https://index.zshipu.com/ai/post/20241218/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6LangChain-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA--%E7%9F%A5%E8%AF%86%E9%93%BA/">
    <link rel="shortcut icon" href='/ai/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/ai/css/normalize.css'>
    <link rel="stylesheet" href='/ai/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    <script data-ad-client="ca-pub-2874221941555456" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    
    
    
    
    
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WLWJSST');</script>
    
</head>


<body>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLWJSST"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://index.zshipu.com/ai/">
                        知识铺的博客
                    </a>
                
                <p class="description">专注于Android、Java、Go语言(golang)、移动互联网、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://index.zshipu.com/ai/">首页</a>
                    
                    <a  href="https://index.zshipu.com" title="总站">总站</a>
                    
                    <a  href="https://index.zshipu.com/ai/archives/" title="归档">归档</a>
                    
                    <a  href="https://index.zshipu.com/ai/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#引言">引言</a></li>
    <li><a href="#langchain主要概念与示例">LangChain主要概念与示例</a>
      <ul>
        <li><a href="#模型models"><strong>模型(Models)</strong></a></li>
      </ul>
    </li>
    <li><a href="#输出解析器-outputparsers">输出解析器 (OutputParsers)</a>
      <ul>
        <li><a href="#功能">功能</a></li>
        <li><a href="#主要解析器类型">主要解析器类型</a></li>
        <li><a href="#索引indexes">索引（Indexes）</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#代理agents"><strong>代理（Agents）</strong></a></li>
      </ul>
    </li>
    <li><a href="#langchain代理和工具概述">LangChain代理和工具概述</a>
      <ul>
        <li><a href="#代理类型">代理类型</a></li>
        <li><a href="#工具开发指南">工具开发指南</a></li>
        <li><a href="#langchain应用案例问答系统">LangChain应用案例：问答系统</a></li>
        <li><a href="#langchain生成图片示例">LangChain生成图片示例</a></li>
        <li><a href="#langchain做答疑"><strong>LangChain做答疑</strong></a></li>
        <li><a href="#langchain输出结构化json数据"><strong>Langchain输出结构化JSON数据</strong></a></li>
        <li><a href="#使用langflow构建个性化聊天机器人">使用LangFlow构建个性化聊天机器人</a></li>
      </ul>
    </li>
    <li><a href="#langchain的未来展望">LangChain的未来展望</a></li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if(leftPos<220){
                postToc.css({"width":leftPos-10,"margin-left":(0-leftPos)})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">一文了解大语言模型应用程序框架LangChain - AI全书 -- 知识铺 -- 知识铺</h1>
        </header>
        <date class="post-meta meta-date">
            2024年12月18日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820285.png" />   
    </p>
<p>本文主要面向技术开发读者，介绍了LangChain框架，它能够将大型语言模型与其他计算或知识来源相结合，从而实现功能更加强大的应用。接着，对LangChain的关键概念进行了详细说明，并基于该框架进行了一些案例尝试，旨在帮助读者更轻松地理解LangChain的工作原理。</p>
<h2 id="引言">引言</h2>
<p>近期，大型语言模型(LLM)如GPT系列模型引领了人工智能领域的一场技术革命。开发者们都在利用这些LLM进行各种尝试，虽然已经产生了许多有趣的应用，但是单独使用这些LLM往往难以构建功能强大的实用应用。</p>
<p>LangChain通过将大型语言模型与其他知识库、计算逻辑相结合，实现了功能更加强大的人工智能应用。简单来说，<strong>个人理解LangChain可以被视为开源版的GPT插件，它提供了丰富的大语言模型工具，可以在开源模型的基础上快速增强模型的能力。</strong></p>
<p>在此，我总结了最近对LangChain的学习内容，欢迎各位同学前来交流。LangChain使得语言技术的运用更加活跃多元，它有望在人工智能领域发挥重要作用，推动我们工作效率的变革。我们正处在人工智能爆发的前夜，积极拥抱新技术将会带来全新的体验。</p>
<h2 id="langchain主要概念与示例">LangChain主要概念与示例</h2>
<p>LangChain提供了一系列的工具帮助我们更好的使用大语言模型(LLM)。可以认为主要有6种不同类型的工具：</p>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820333.png" />   
    </p>
<h3 id="模型models"><strong>模型(Models)</strong></h3>
<p>LangChain的一个核心价值就是它提供了标准的模型接口；然后我们可以自由的切换不同的模型，当前主要有两种类型的模型，但是考虑到使用场景，对我们<strong>一般用户来说就是使用一种模型即文本生成模型</strong>。
说到模型，大家就理解模型就是ChatGPT就可以。单纯的模型只能生成文本内容。</p>
<ul>
<li><strong>语言模型(Language Models)</strong>    用于文本生成，文字作为输入，输出也是文字。</li>
</ul>
<ol>
<li>普通LLM：接收文本字符串作为输入，并返回文本字符串作为输出。    2.  聊天模型：将聊天消息列表作为输入，并返回一个聊天消息。</li>
</ol>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.schema import HumanMessage
from langchain.llms import OpenAI
from langchain.chat_models import ChatOpenAI
llm = OpenAI()
chat_model = ChatOpenAI()
print(llm(&#34;say hi!&#34;))
print(chat_model.predict(&#34;say hi!&#34;))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820215.png" />   
    </p>
<ul>
<li><strong>文本嵌入模型(Text Embedding Models)</strong></li>
</ul>
<p>把文字转换为浮点数形式的描述：</p>
<blockquote>
<p>这些模型接收文本作为输入并返回一组浮点数。这些浮点数通常用于表示文本的语义信息，以便进行文本相似性计算、聚类分析等任务。文本嵌入模型可以帮助开发者在文本之间建立更丰富的联系，提高基于大型语言模型的应用的性能。</p>
</blockquote>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.embeddings import OpenAIEmbeddings
embeddings = OpenAIEmbeddings()
text = &#34;This is a test document.&#34;
query_result = embeddings.embed_query(text)
doc_result = embeddings.embed_documents([text])
print(doc_result)&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><ul>
<li><strong>提示词(Prompts)</strong></li>
</ul>
<p>提示词是我们与模型交互的方式，或者是模型的输入，通过提示词可以让模型返回我们期望的内容，比如让模型按照一定的格式返回数据给我们。</p>
<p>LangChain提供了一些工具，可以方便我们更容易的构建出我们想要的提示词，了解这些工具都是更方便的让我们构造提示词就行了。主要工具如下：</p>
<h4 id="提示模板"> 提示模板</h4>
<p>语言模型提示词模板PromptTemplates，提示模板可以让我们重复的生成提示，复用我们的提示。它包含一个文本字符串（“模板”），从用户那里获取一组参数并生成提示，包含：</p>
<ol>
<li>
<p>对语言模型的说明，应该扮演什么角色。</p>
</li>
<li>
<p>一组少量示例，以帮助LLM生成更好的响应。</p>
</li>
<li>
<p>具体的问题。</p>
</li>
</ol>
<p>代码案例：</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain import PromptTemplate


template = &#34;&#34;&#34;
I want you to act as a naming consultant for new companies.
What is a good name for a company that makes {product}?
&#34;&#34;&#34;

prompt = PromptTemplate(
    input_variables=[&#34;product&#34;],
    template=template,
)
prompt.format(product=&#34;colorful socks&#34;)

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><h4 id="聊天提示模板"> 聊天提示模板</h4>
<p>聊天模型提示词模板ChatPrompt Templates，ChatModels接受聊天消息列表作为输入。列表一般是不同的提示，并且每个列表消息一般都会有一个角色。</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.prompts import (
    ChatPromptTemplate,
    PromptTemplate,
    SystemMessagePromptTemplate,
    AIMessagePromptTemplate,
    HumanMessagePromptTemplate,
)
from langchain.schema import (
    AIMessage,
    HumanMessage,
    SystemMessage
)
template=&#34;You are a helpful assistant that translates {input_language} to {output_language}.&#34;
system_message_prompt = SystemMessagePromptTemplate.from_template(template)
human_template=&#34;{text}&#34;
human_message_prompt = HumanMessagePromptTemplate.from_template(human_template)

chat_prompt = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])


print(chat_prompt.format_prompt(input_language=&#34;English&#34;, output_language=&#34;French&#34;, text=&#34;I love programming.&#34;).to_messages())&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820528.png" />   
    </p>
<h4 id="选择器示例">选择器示例</h4>
<p>示例选择器Example Selectors，如果有多个案例的时候，使用ExampleSelectors选择一个案例让提示词使用：</p>
<ol>
<li>自定义的案例选择器。</li>
<li>基于长度的案例选择器，输入长的时候按理会少一点，输入多的时候，案例会多一些。</li>
<li>相关性选择器，选择一个和输入最相关的案例。</li>
</ol>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.prompts.example_selector.base import BaseExampleSelector
from typing import Dict, List
import numpy as np


class CustomExampleSelector(BaseExampleSelector):

    def __init__(self, examples: List[Dict[str, str]]):
        self.examples = examples

    def add_example(self, example: Dict[str, str]) -&amp;gt; None:
        &#34;&#34;&#34;Add new example to store for a key.&#34;&#34;&#34;
        self.examples.append(example)

    def select_examples(self, input_variables: Dict[str, str]) -&amp;gt; List[dict]:
        &#34;&#34;&#34;Select which examples to use based on the inputs.&#34;&#34;&#34;
        return np.random.choice(self.examples, size=2, replace=False)


examples = [
    {&#34;foo&#34;: &#34;1&#34;},
    {&#34;foo&#34;: &#34;2&#34;},
    {&#34;foo&#34;: &#34;3&#34;}
]


example_selector = CustomExampleSelector(examples)

print(example_selector.select_examples({&#34;foo&#34;: &#34;foo&#34;}))


example_selector.add_example({&#34;foo&#34;: &#34;4&#34;})
print(example_selector.examples)


print(example_selector.select_examples({&#34;foo&#34;: &#34;foo&#34;}))
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820265.png" />   
    </p>
<h2 id="输出解析器-outputparsers">输出解析器 (OutputParsers)</h2>
<p>输出解析器能够帮助我们将大型语言模型（LLM）的输出转换为更加结构化和易于处理的信息格式。以下是关于如何使用这些解析器的一些关键点：</p>
<h3 id="功能">功能</h3>
<ul>
<li>
<p><strong>指示模型如何格式化输出</strong>：通过<code>get_format_instructions</code>方法，我们可以告诉模型我们期望的输出格式。</p>
</li>
<li>
<p><strong>将输出解析为所需格式</strong>：利用<code>parse(str)</code>函数，可以将模型的文本输出解析成预设的数据结构。</p>
</li>
</ul>
<h3 id="主要解析器类型">主要解析器类型</h3>
<ol>
<li><strong>CommaSeparatedListOutputParser</strong></li>
</ol>
<ul>
<li>这种解析器让LLM以逗号分隔的形式返回列表项。例如：<code>['Vanilla', 'Chocolate', 'Strawberry', 'Mint Chocolate Chip', 'Cookies and Cream']</code></li>
</ul>
<ol start="2">
<li><strong>StructuredOutputParser</strong></li>
</ol>
<ul>
<li>此解析器允许直接生成结构化的内容，无需事先定义对象。它与<code>PydanticOutputParser</code>类似，但简化了对象定义的步骤。</li>
</ul>
<ol start="3">
<li><strong>PydanticOutputParser</strong></li>
</ol>
<ul>
<li>该解析器要求先定义一个对象模型，然后LLM会根据这个模型来格式化其输出数据。这确保了返回的数据严格遵循预定义的结构。
请注意，当定义了一个像<code>Joke</code>这样的类后，<code>PydanticOutputParser</code>能确保LLM按照我们定义的对象格式返回数据。</li>
</ul>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.prompts import PromptTemplate, ChatPromptTemplate, HumanMessagePromptTemplate
from langchain.llms import OpenAI
from langchain.chat_models import ChatOpenAI

from langchain.output_parsers import PydanticOutputParser
from pydantic import BaseModel, Field, validator
from typing import List
model_name = &#39;text-davinci-003&#39;
temperature = 0.0
model = OpenAI(model_name=model_name, temperature=temperature)



class Joke(BaseModel):
    setup: str = Field(description=&#34;question to set up a joke&#34;)
    punchline: str = Field(description=&#34;answer to resolve the joke&#34;)

    
    @validator(&#39;setup&#39;)
    def question_ends_with_question_mark(cls, field):
        if field[-1] != &#39;?&#39;:
            raise ValueError(&#34;Badly formed question!&#34;)
        return field

parser = PydanticOutputParser(pydantic_object=Joke)
prompt = PromptTemplate(
    template=&#34;Answer the user query.\n{format_instructions}\n{query}\n&#34;,
    input_variables=[&#34;query&#34;],
    partial_variables={&#34;format_instructions&#34;: parser.get_format_instructions()}
)
joke_query = &#34;Tell me a joke.&#34;
_input = prompt.format_prompt(query=joke_query)
output = model(_input.to_string())
print(parser.get_format_instructions())
print(output)
print(parser.parse(output))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820753.png" />   
    </p>
<h3 id="索引indexes">索引（Indexes）</h3>
<p>索引能够帮助我们将文档结构化，使得大型语言模型（LLM）可以更有效地与文档进行交互，例如用于答疑解惑、知识库查询等。LLM首先从文档中提取信息作为答案的基础。
在LangChain中，为了支持数据索引功能，提供了以下主要工具：</p>
<ol>
<li><strong>Document Loaders</strong></li>
</ol>
<ul>
<li>
<p>作用是从多种数据源加载文档。</p>
</li>
<li>
<p>加载器读取的数据需要被转换成<code>Document</code>对象，以便后续处理和使用。</p>
</li>
</ul>
<ol start="2">
<li><strong>Text Splitters</strong></li>
</ol>
<ul>
<li>
<p>实现文本分割功能，这是因为无论是将文本作为提示发送给OpenAI API还是使用其嵌入功能，都存在字符数量的限制。</p>
</li>
<li>
<p>对于超过字符限制的文档（如300页的PDF），必须先通过文本分割器将其分割为适合的大小，然后再进行处理。</p>
</li>
</ul>
<ol start="3">
<li><strong>VectorStores</strong></li>
</ol>
<ul>
<li>
<p>将文档转换为向量格式存储，因为数据的相关性搜索依赖于向量运算。</p>
</li>
<li>
<p>无论我们是使用OpenAI API的嵌入功能还是直接通过向量数据库查询，都需要先将<code>Document</code>数据向量化，以支持向量运算和搜索。</p>
</li>
<li>
<p>向量化过程简单，只需将数据存入对应的向量数据库即可完成转换。</p>
</li>
</ul>
<ol start="4">
<li><strong>Retrievers</strong></li>
</ol>
<ul>
<li>该组件用于从已索引的数据中检索文档。</li>
</ul>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820501.png" />   
    </p>
<p>图中的FAISS是一种向量存储的服务；</p>
<p>给一个案例，了解下不同工具的用法：</p>
<ol>
<li>
<p>首先加载文档；</p>
</li>
<li>
<p>然后分隔文档为不同区块；</p>
</li>
<li>
<p>然后转换为向量存储；</p>
</li>
<li>
<p>将向量存储转换为检索器，交给LangChain，用于问答；</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;import os
from langchain.chains import RetrievalQA
from langchain.document_loaders import TextLoader
from langchain.embeddings import OpenAIEmbeddings
from langchain.indexes import VectorstoreIndexCreator
from langchain.text_splitter import CharacterTextSplitter
from langchain.vectorstores import Chroma
from langchain.llms import OpenAI


os.environ[&#39;HTTP_PROXY&#39;] = &#39;socks5h://127.0.0.1:13659&#39;
os.environ[&#39;HTTPS_PROXY&#39;] = &#39;socks5h://127.0.0.1:13659&#39;


loader = TextLoader(&#39;/Users/aihe/Downloads/demo.txt&#39;, encoding=&#39;utf8&#39;)


documents = loader.load()


text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)
texts = text_splitter.split_documents(documents)


embeddings = OpenAIEmbeddings()


db = Chroma.from_documents(texts, embeddings)


retriever = db.as_retriever()


qa = RetrievalQA.from_chain_type(llm=OpenAI(), chain_type=&#34;stuff&#34;, retriever=retriever)


query = &#34;如何申请租户?&#34;
print(qa.run(query))

print(qa.run(&#34;能否说明下你可以提供的功能？&#34;))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820716.png" />   
    <br>
在默认情况下，Agent和Chain都是无状态的，这意味着每次查询都是独立的，不会记住之前的对话内容。然而，在某些应用中，如聊天应用，记住上一次的会话内容是非常重要的。为了解决这个问题，LangChain提供了一些相关的工具类来帮助实现这一功能。</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain import ConversationChain, OpenAI
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory()
memory.chat_memory.add_user_message(&#34;你好!&#34;)
memory.chat_memory.add_ai_message(&#34;你好吗?&#34;)
llm = OpenAI(temperature=0)
chain = ConversationChain(llm=llm,
                          verbose=True,
                          memory=memory)
chain.predict(input=&#34;最近怎么样!&#34;)
print(chain.predict(input=&#34;感觉很不错，刚和AI做了场对话.&#34;))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181820884.png" />   
    </p>
<h1 id="链链条">链（链条）</h1>
<p>在构建应用程序时，链允许我们将多个组件整合在一起。例如，我们可以设计一条链，它首先接收用户输入，然后使用<code>PromptTemplate</code>将用户输入格式化为提示信息，最后将此提示信息传递给语言模型（LLM）进行处理。
此外，我们还可以组合不同的链，以创建更复杂的应用逻辑。</p>
<p>注意：以上内容描述了链的基本概念及其应用方式，包括如何通过链来连接不同组件，以及链之间如何相互组合以实现更为复杂的操作。<br>

        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821815.png" />   
    </p>
<p>一个简单的案例：</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.chains import LLMChain
from langchain.chat_models import ChatOpenAI
from langchain import PromptTemplate
from langchain.prompts.chat import (
    ChatPromptTemplate,  
    HumanMessagePromptTemplate,  
)


human_message_prompt = HumanMessagePromptTemplate(
        prompt=PromptTemplate(
            template=&#34;给我一个制作{product}的好公司名字?&#34;,  
            input_variables=[&#34;product&#34;],  
        )
    )


chat_prompt_template = ChatPromptTemplate.from_messages([human_message_prompt])


chat = ChatOpenAI(temperature=0.9)


chain = LLMChain(llm=chat, prompt=chat_prompt_template)


print(chain.run(&#34;袜子&#34;))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821523.png" />   
    </p>
<h3 id="代理agents"><strong>代理（Agents）</strong></h3>
<p>代理是使用LLM作为思考工具，决定当前要做什么。我们会给代理一系列的工具，代理根据我们的输入判断用哪些工具可以完成这个目标，然后不断的运行工具，来完成目标。</p>
<p>代理可以看做是增强版的Chain，不仅绑定模板、LLM，还可以给代理添加一些工具。</p>
<p>Agent是一个智能代理，它负责根据用户输入和应用场景，在一系列可用工具中选择合适的工具进行操作。Agent可以根据任务的复杂性，采用不同的策略来决定如何执行操作。</p>
<p>有两种类型的Agent：</p>
<ol>
<li>
<p><strong>动作代理（Action Agents）</strong>：这种代理一次执行一个动作，然后根据结果决定下一步的操作。</p>
</li>
<li>
<p><strong>计划-执行代理（Plan-and-Execute Agents）</strong>：这种代理首先决定一系列要执行的操作，然后根据上面判断的列表逐个执行这些操作。</p>
</li>
</ol>
<p>对于简单的任务，动作代理更为常见且易于实现。对于更复杂或长期运行的任务，计划-执行代理的初始规划步骤有助于维持长期目标并保持关注。但这会以更多调用和较高延迟为代价。这两种代理并非互斥，可以让动作代理负责执行计划-执行代理的计划。</p>
<p>Agent内部涉及的核心概念如下：</p>
<ol>
<li>
<p><strong>代理（Agent）</strong>：这是应用程序主要逻辑。代理暴露一个接口，接受用户输入和代理已执行的操作列表，并返回AgentAction或AgentFinish。</p>
</li>
<li>
<p><strong>工具（Tools）</strong>：这是代理可以采取的动作。比如发起HTTP请求，发邮件，执行命令。</p>
</li>
<li>
<p><strong>工具包（Toolkits）</strong>：这些是为特定用例设计的一组工具。例如，为了让代理以最佳方式与SQL数据库交互，它可能需要一个执行查询的工具和另一个查看表格的工具。可以看做是工具的集合。</p>
</li>
<li>
<p><strong>代理执行器（Agent Executor）</strong>：这将代理与一系列工具包装在一起。它负责迭代运行代理，直到满足停止条件。</p>
</li>
</ol>
<p>代理的执行流程：</p>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821196.png" />   
    </p>
<p>一个案例：</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;from langchain.agents import load_tools  
from langchain.agents import initialize_agent  
from langchain.agents import AgentType  
from langchain.llms import OpenAI  
import os  


llm = OpenAI(temperature=0)


tools = load_tools([&#34;serpapi&#34;, &#34;llm-math&#34;], llm=llm)


agent = initialize_agent(tools, llm, agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=True)


agent.run(&#34;特朗普今年多少岁? 他的年龄除以2是多少?&#34;)&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821973.png" />   
    <br>
在代理初始化阶段，有一个关键的步骤是设置代理类型。代理类型决定了代理如何利用工具、处理输入以及与用户进行交互，从而为用户提供有针对性的服务。在这个例子中，代理被设置为AgentType.ZERO_SHOT_REACT_DESCRIPTION。以下是可以选择的代理类型：</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;initialize_agent(tools, llm, agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=True)&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><h2 id="langchain代理和工具概述">LangChain代理和工具概述</h2>
<h3 id="代理类型">代理类型</h3>
<h4 id="zero-shot-react-description">Zero-Shot React Description</h4>
<p>该代理依赖于ReAct框架，依据对工具的描述来决定使用哪一个工具。它可以处理任意数量的不同工具，要求为每个工具提供详细的描述。</p>
<h4 id="react-docstore">React Docstore</h4>
<p>此代理旨在与文档存储交互，需要确切地配置名为Search（搜索）和Lookup（查找）的两个工具。Search用于在文档中进行搜索，而Lookup则用于在最近找到的文档内查找特定术语。</p>
<h4 id="self-ask-with-search">Self-Ask with Search</h4>
<p>这种代理利用一个称为Intermediate Answer的工具，该工具能够查询事实性问题的答案。它相当于使用谷歌搜索API作为工具的原始self-ask与搜索论文。</p>
<h4 id="conversational-react-description">Conversational React Description</h4>
<p>设计用于对话场景，通过ReAct框架选择适当的工具，并利用内存记住之前的对话内容，以提供更加连贯的帮助。</p>
<h4 id="structured-chat-zero-shot-react-description">Structured Chat Zero-Shot React Description</h4>
<p>在对话环境中可以调用任意工具，并且具有记忆对话上下文的能力。</p>
<h3 id="工具开发指南">工具开发指南</h3>
<p>官方提供的工具箱涵盖了多种功能，例如发送Gmail邮件、数据库查询和JSON处理等。为了创建自定义工具，你需要准备以下内容：</p>
<ul>
<li>
<p><strong>名称</strong>：给你的工具起个名字。</p>
</li>
<li>
<p><strong>工具描述</strong>：解释工具的功能。</p>
</li>
<li>
<p><strong>参数结构</strong>：定义工具接收的输入参数。</p>
</li>
</ul>
<h3 id="langchain应用案例问答系统">LangChain应用案例：问答系统</h3>
<p>构建基于LLM的问答系统，利用LangChain的数据增强能力从指定数据源提取信息回答用户问题。系统可以通过记忆功能保持多次交互的状态，提高效率。此外，还可以通过智能代理实现自动优化，并使用评估提示和链来改进系统的性能。</p>
<h3 id="langchain生成图片示例">LangChain生成图片示例</h3>
<p>实现了文本到图片的生成功能，包括三个主要步骤：</p>
<ol>
<li>random_poem：随机选取中文诗词。</li>
</ol>
<p>prompt_generate：将中文提示转换成英文。</p>
<p>generate_image：根据英文提示生成图片。</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;import base64
import json
import os
from io import BytesIO

import requests
from PIL import Image
from pydantic import BaseModel, Field

from langchain.agents import AgentType, initialize_agent, load_tools
from langchain.chat_models import ChatOpenAI
from langchain.llms import OpenAI
from langchain.tools import BaseTool, StructuredTool, Tool, tool
from langchain import LLMMathChain, SerpAPIWrapper


def generate_image(prompt: str) -&amp;gt; str:
    &#34;&#34;&#34;
    根据提示词生成对应的图片

    Args:
        prompt (str): 英文提示词

    Returns:
        str: 图片的路径
    &#34;&#34;&#34;
    url = &#34;http://127.0.0.1:7860/sdapi/v1/txt2img&#34;
    headers = {
        &#34;accept&#34;: &#34;application/json&#34;,
        &#34;Content-Type&#34;: &#34;application/json&#34;
    }
    data = {
        &#34;prompt&#34;: prompt,
        &#34;negative_prompt&#34;: &#34;(worst quality:2), (low quality:2),disfigured, ugly, old, wrong finger&#34;,
        &#34;steps&#34;: 20,
        &#34;sampler_index&#34;: &#34;Euler a&#34;,
        &#34;sd_model_checkpoint&#34;: &#34;cheeseDaddys_35.safetensors [98084dd1db]&#34;,
        
        &#34;batch_size&#34;: 1,
        &#34;restore_faces&#34;: True
    }

    response = requests.post(url, headers=headers, data=json.dumps(data))

    if response.status_code == 200:
        response_data = response.json()
        images = response_data[&#39;images&#39;]

        for index, image_data in enumerate(images):
            img_data = base64.b64decode(image_data)
            img = Image.open(BytesIO(img_data))
            file_name = f&#34;image_{index}.png&#34;
            file_path = os.path.join(os.getcwd(), file_name)
            img.save(file_path)
            print(f&#34;Generated image saved at {file_path}&#34;)
            return file_path
    else:
        print(f&#34;Request failed with status code {response.status_code}&#34;)


def random_poem(arg: str) -&amp;gt; str:
    &#34;&#34;&#34;
    随机返回中文的诗词

    Returns:
        str: 随机的中文诗词
    &#34;&#34;&#34;
    llm = OpenAI(temperature=0.9)
    text = &#34;&#34;&#34;
        能否帮我从中国的诗词数据库中随机挑选一首诗给我，希望是有风景，有画面的诗：
        比如：山重水复疑无路，柳暗花明又一村。
    &#34;&#34;&#34;
    return llm(text)


def prompt_generate(idea: str) -&amp;gt; str:
    &#34;&#34;&#34;
    生成图片需要对应的英文提示词

    Args:
        idea (str): 中文提示词

    Returns:
        str: 英文提示词
    &#34;&#34;&#34;
    llm = OpenAI(temperature=0, max_tokens=2048)
    res = llm(f&#34;&#34;&#34;
    Stable Diffusion is an AI art generation model similar to DALLE-2.
    Below is a list of prompts that can be used to generate images with Stable Diffusion:

    - portait of a homer simpson archer shooting arrow at forest monster, front game card, drark, marvel comics, dark, intricate, highly detailed, smooth, artstation, digital illustration by ruan jia and mandy jurgens and artgerm and wayne barlowe and greg rutkowski and zdislav beksinski
    - pirate, concept art, deep focus, fantasy, intricate, highly detailed, digital painting, artstation, matte, sharp focus, illustration, art by magali villeneuve, chippy, ryan yee, rk post, clint cearley, daniel ljunggren, zoltan boros, gabor szikszai, howard lyon, steve argyle, winona nelson
    - ghost inside a hunted room, art by lois van baarle and loish and ross tran and rossdraws and sam yang and samdoesarts and artgerm, digital art, highly detailed, intricate, sharp focus, Trending on Artstation HQ, deviantart, unreal engine 5, 4K UHD image
    - red dead redemption 2, cinematic view, epic sky, detailed, concept art, low angle, high detail, warm lighting, volumetric, godrays, vivid, beautiful, trending on artstation, by jordan grimmer, huge scene, grass, art greg rutkowski
    - a fantasy style portrait painting of rachel lane / alison brie hybrid in the style of francois boucher oil painting unreal 5 daz. rpg portrait, extremely detailed artgerm greg rutkowski alphonse mucha greg hildebrandt tim hildebrandt
    - athena, greek goddess, claudia black, art by artgerm and greg rutkowski and magali villeneuve, bronze greek armor, owl crown, d &amp;amp; d, fantasy, intricate, portrait, highly detailed, headshot, digital painting, trending on artstation, concept art, sharp focus, illustration
    - closeup portrait shot of a large strong female biomechanic woman in a scenic scifi environment, intricate, elegant, highly detailed, centered, digital painting, artstation, concept art, smooth, sharp focus, warframe, illustration, thomas kinkade, tomasz alen kopera, peter mohrbacher, donato giancola, leyendecker, boris vallejo
    - ultra realistic illustration of steve urkle as the hulk, intricate, elegant, highly detailed, digital painting, artstation, concept art, smooth, sharp focus, illustration, art by artgerm and greg rutkowski and alphonse mucha

    I want you to write me a list of detailed prompts exactly about the idea written after IDEA. Follow the structure of the example prompts. This means a very short description of the scene, followed by modifiers divided by commas to alter the mood, style, lighting, and more.

    IDEA: {idea}&#34;&#34;&#34;)
    return res


class PromptGenerateInput(BaseModel):
    &#34;&#34;&#34;
    生成英文提示词所需的输入模型类
    &#34;&#34;&#34;
    idea: str = Field()


class GenerateImageInput(BaseModel):
    &#34;&#34;&#34;
    生成图片所需的输入模型类
    &#34;&#34;&#34;
    prompt: str = Field(description=&#34;英文提示词&#34;)


tools = [
    Tool.from_function(
        func=random_poem,
        name=&#34;诗歌获取&#34;,
        description=&#34;随机返回中文的诗词&#34;
    ),
    Tool.from_function(
        func=prompt_generate,
        name=&#34;提示词生成&#34;,
        description=&#34;生成图片需要对应的英文提示词，当前工具可以将输入转换为英文提示词，以便方便生成&#34;,
        args_schema=PromptGenerateInput
    ),
    Tool.from_function(
        func=generate_image,
        name=&#34;图片生成&#34;,
        description=&#34;根据提示词生成对应的图片，提示词需要是英文的，返回是图片的路径&#34;,
        args_schema=GenerateImageInput
    ),
]


def main():
    &#34;&#34;&#34;
    主函数，初始化代理并执行对话
    &#34;&#34;&#34;
    llm = OpenAI(temperature=0)
    agent = initialize_agent(tools, llm, agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=True)
    agent.run(&#34;帮我生成一张诗词的图片?&#34;)


if __name__ == &#39;__main__&#39;:
    main()
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821526.png" />   
    </p>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821048.png" />   
    </p>
<h3 id="langchain做答疑"><strong>LangChain做答疑</strong></h3>
<p>参考上面的索引部分：</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;import os
from langchain.chains import RetrievalQA
from langchain.document_loaders import TextLoader
from langchain.embeddings import OpenAIEmbeddings
from langchain.indexes import VectorstoreIndexCreator
from langchain.text_splitter import CharacterTextSplitter
from langchain.vectorstores import Chroma
from langchain.llms import OpenAI


os.environ[&#39;HTTP_PROXY&#39;] = &#39;socks5h://127.0.0.1:13659&#39;
os.environ[&#39;HTTPS_PROXY&#39;] = &#39;socks5h://127.0.0.1:13659&#39;


loader = TextLoader(&#39;/Users/aihe/Downloads/demo.txt&#39;, encoding=&#39;utf8&#39;)


documents = loader.load()


text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)
texts = text_splitter.split_documents(documents)


embeddings = OpenAIEmbeddings()


db = Chroma.from_documents(texts, embeddings)


retriever = db.as_retriever()


qa = RetrievalQA.from_chain_type(llm=OpenAI(), chain_type=&#34;stuff&#34;, retriever=retriever)


query = &#34;如何申请租户?&#34;
print(qa.run(query))

print(qa.run(&#34;能否说明下你可以提供的功能？&#34;))&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821897.png" />   
    </p>
<h3 id="langchain输出结构化json数据"><strong>Langchain输出结构化JSON数据</strong></h3>
<p>参考上述概念，提示词工具中提供了OutputParser可以把我们的对象转换为提示词，告诉LLM要返回什么结构的内容。</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-python&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;import requests
from langchain.agents import AgentType, initialize_agent
from langchain.chat_models import ChatOpenAI
from langchain.tools import StructuredTool
from pydantic import BaseModel, Field


def post_message(type: str, param: dict) -&amp;gt; str:
    &#34;&#34;&#34;
     当需要生成人群、分析画像、咨询问题时，使用如下的指示：url 固定为：http://localhost:3001/
     如果请求是生成人群，请求的type为crowd; 如果请求是分析画像，请求的type为analyze; 如果是其他或者答疑，请求的type为question;
     请求body的param把用户指定的条件传进来即可
     &#34;&#34;&#34;
    result = requests.post(&#34;http://localhost:3001/&#34;, json={&#34;type&#34;: type, &#34;param&#34;: param})
    return f&#34;Status: {result.status_code} - {result.text}&#34;


class PostInput(BaseModel):
    
    type: str = Field(description=&#34;请求的类型，人群为crowd,画像为analyze&#34;)
    param: dict = Field(description=&#34;请求的具体描述&#34;)


llm = ChatOpenAI(temperature=0)
tools = [
    StructuredTool.from_function(post_message)
]
agent = initialize_agent(tools, llm, agent=AgentType.STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION, verbose=True)
agent.run(&#34;我想生成一个性别为男并且在180天访问过淘特的人群?&#34;)&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821557.png" />   
    </p>
<h3 id="使用langflow构建个性化聊天机器人">使用LangFlow构建个性化聊天机器人</h3>
<p>在创建自己的聊天机器人时，通常需要编写前端代码来搭建用户界面。然而，现在有现成的开源工具可以帮助我们简化这个过程，特别是对于基于LangChain框架的项目。这些工具提供了可视化的界面，允许用户通过简单的拖拽操作来配置和连接LangChain的各种组件，而无需深入了解底层代码。因此，我们可以利用LangFlow这样的工具来快速搭建我们的聊天机器人。</p>
<h4 id="docker运行langflow">Docker运行LangFlow</h4>
<p>如果您发现本地安装的LangChain版本与LangFlow存在冲突，推荐使用Docker来运行LangFlow。这样可以确保环境的独立性和兼容性，避免不同版本之间的冲突问题。具体操作命令如下：</p>
<p>以上步骤将帮助您快速启动一个基于LangChain的聊天机器人开发环境，同时保证了开发过程中的灵活性和效率。</p>
<pre tabindex="0"><code>&lt;div id=&#34;code-lang-yaml&#34;&gt;&lt;p&gt;&lt;code data-highlighted=&#34;yes&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;FROM python:3.10-slim

RUN apt-get update &amp;amp;&amp;amp; apt-get install gcc g++ git make -y
RUN useradd -m -u 1000 user
USER user
ENV HOME=/home/user \
    PATH=/home/user/.local/bin:$PATH

WORKDIR $HOME/app

COPY --chown=user . $HOME/app

RUN pip install langflow&amp;gt;==0.0.71 -U --user
CMD [&#34;langflow&#34;, &#34;--host&#34;, &#34;0.0.0.0&#34;, &#34;--port&#34;, &#34;7860&#34;]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre><p>在界面上配置LangChain的三个组件：在最右下角是对应的聊天窗口，输入下openai的key。</p>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821285.png" />   
    </p>
<p>开始聊天验证下我们的配置：</p>
<p>
        <img class="mx-auto" alt="" src="https://cdn.jsdelivr.net/gh/zshipu/imagesv3/2024/202412181821332.png" />   
    </p>
<p>全程基本上不用怎么写代码，只需要了解LangChain的组件是做什么的，基本上就可以搭出一款简单的聊天机器人。</p>
<p>其它的LangChain组件代理、内存、数据索引也是都可以使用的。</p>
<h2 id="langchain的未来展望">LangChain的未来展望</h2>
<p>LangChain为构建基于大型语言模型的应用提供了一个强大的框架，将逐步的运用到各个领域中，如：智能客服、文本生成、知识图谱构建等。随着更多的工具和资源与LangChain进行集成，大语言模型对人的生产力将会有更大的提升。</p>
<p>应用场景构思：</p>
<ul>
<li>
<p><strong>智能客服</strong>：结合聊天模型、自主智能代理和问答功能，开发智能客服系统，帮助用户解决问题，提高客户满意度。</p>
</li>
<li>
<p><strong>个性化推荐</strong>：利用智能代理与文本嵌入模型，分析用户的兴趣和行为，为用户提供个性化的内容推荐。</p>
</li>
<li>
<p><strong>知识图谱构建</strong>：通过结合问答、文本摘要和实体抽取等功能，自动从文档中提取知识，构建知识图谱。</p>
</li>
<li>
<p><strong>自动文摘和关键信息提取</strong>：利用LangChain的文本摘要和抽取功能，从大量文本中提取关键信息，生成简洁易懂的摘要。</p>
</li>
<li>
<p><strong>代码审查助手</strong>：通过代码理解和智能代理功能，分析代码质量，为开发者提供自动化代码审查建议。</p>
</li>
<li>
<p><strong>搜索引擎优化</strong>：结合文本嵌入模型和智能代理，分析网页内容与用户查询的相关性，提高搜索引擎排名。</p>
</li>
<li>
<p><strong>数据分析与可视化</strong>：通过与API交互和查询表格数据功能，自动分析数据，生成可视化报告，帮助用户了解数据中的洞察信息。</p>
</li>
<li>
<p><strong>智能编程助手</strong>：结合代码理解和智能代理功能，根据用户输入的需求自动生成代码片段，提高开发者的工作效率。</p>
</li>
<li>
<p><strong>在线教育平台</strong>：利用问答和聊天模型功能，为学生提供实时的学术支持，帮助他们解决学习中遇到的问题。</p>
</li>
<li>
<p><strong>自动化测试</strong>：结合智能代理和代理模拟功能，开发自动化测试场景，提高软件测试的效率和覆盖率。</p>
</li>
</ul>
<h2 id="总结">总结</h2>
<p>本文介绍了LangChain框架，它能够将大型语言模型与其他计算或知识来源相结合，从而实现功能更加强大的应用。接着，对LangChain的关键概念进行了详细说明，并基于该框架进行了一些案例尝试，旨在帮助读者更轻松地理解LangChain的工作原理。</p>
<p>展望未来，LangChain有望在各个领域发挥巨大作用，促进我们工作效率的变革。我们正处于AI爆发的前夜，积极拥抱新技术将会带来完全不同的感觉。</p>
<p>参考资料：</p>
<ol>
<li>
<p>Langchain中文入门：https://github.com/liaokongVFX/LangChain-Chinese-Getting-Started-Guide</p>
</li>
<li>
<p>浪链官方文档：https://python.langchain.com/en/latest/modules/indexes/getting_started.html</p>
</li>
<li>
<p>LangFlow，LangChain的可视化编排工具：https://github.com/logspace-ai/langflow</p>
</li>
</ol>
<p>本文转载于阿里云开发者公众号文章《<a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s/P94AvHvQcget9OqblrmD6g">LangChain: 大语言模型的新篇章</a>》</p>

        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="https://index.zshipu.com/ai/">知识铺</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="https://index.zshipu.com/ai/post/20241218/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6LangChain-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA--%E7%9F%A5%E8%AF%86%E9%93%BA/">https://index.zshipu.com/ai/post/20241218/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6LangChain-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA--%E7%9F%A5%E8%AF%86%E9%93%BA/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
        <li><strong>免责声明：</strong>本页面内容均来源于站内编辑发布，部分信息来源互联网，并不意味着本站赞同其观点或者证实其内容的真实性，如涉及版权等问题，请立即联系客服进行更改或删除，保证您的合法权益。转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。也可以邮件至 sblig@126.com</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/ai/post/20241218/%E4%B8%80%E8%A7%88AI%E5%BC%80%E6%BA%90%E5%88%97%E8%A1%A8%E4%B8%9A%E7%95%8C%E6%8E%92%E8%A1%8C%E5%89%8D%E5%88%97%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA/">一览AI开源列表，业界排行前列的项目汇总 - AI全书 -- 知识铺</a></li>
        
        <li><a href="/ai/post/20241218/%E5%85%A8%E9%9D%A2%E8%A7%A3%E8%AF%BB%E5%A4%A7%E6%A8%A1%E5%9E%8BLLM%E7%9A%84%E6%A6%82%E5%BF%B5-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA/">全面解读大模型（LLM）的概念 - AI全书 -- 知识铺</a></li>
        
        <li><a href="/ai/post/20241218/%E4%B8%80%E6%96%87%E5%AD%A6%E4%BC%9APrompt%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7-AI%E5%85%A8%E4%B9%A6--%E7%9F%A5%E8%AF%86%E9%93%BA/">一文学会Prompt编写技巧 - AI全书 -- 知识铺</a></li>
        
        <li><a href="/ai/post/20241218/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82%E4%BB%80%E4%B9%88%E6%98%AFRAG%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90--%E7%9F%A5%E8%AF%86%E9%93%BA/">一文看懂什么是RAG（检索增强生成） -- 知识铺</a></li>
        
        <li><a href="/ai/post/20241218/%E5%90%91%E9%87%8F-AI%E5%85%A8%E4%B9%A6-%E7%9F%A5%E8%AF%86%E9%93%BA--%E7%9F%A5%E8%AF%86%E9%93%BA/">向量 - AI全书 - 知识铺 -- 知识铺</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/ai/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B'>大语言模型</a></li>
                
                <li><a href='/ai/tags/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6'>应用程序框架</a></li>
                
                <li><a href='/ai/tags/LangChain'>LangChain</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "zshipu/zshipu-index"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2025 <a href="https://index.zshipu.com/ai/">知识铺的博客 By 知识铺</a>
        
        | <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">浙 ICP 备19032823号-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/ai/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://index.zshipu.com/ai/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://index.zshipu.com/ai/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://index.zshipu.com/ai/post/202510/%E8%8A%82%E5%89%8D%E9%87%8D%E7%A3%85%E5%BC%80%E6%BA%90%E6%97%97%E8%88%B0%E6%A8%A1%E5%9E%8B%E6%96%B0SOTA%E6%99%BA%E8%B0%B1GLM-4.6%E9%97%AE%E4%B8%96--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="节前重磅：开源旗舰模型新SOTA，智谱GLM-4.6问世 --知识铺">节前重磅：开源旗舰模型新SOTA，智谱GLM-4.6问世 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/202510/%E8%8A%82%E5%89%8D%E9%87%8D%E7%A3%85%E5%BC%80%E6%BA%90%E6%97%97%E8%88%B0%E6%A8%A1%E5%9E%8B%E6%96%B0SOTA%E6%99%BA%E8%B0%B1GLM-4.6%E9%97%AE%E4%B8%96/" title="节前重磅：开源旗舰模型新SOTA，智谱GLM-4.6问世 --知识铺">节前重磅：开源旗舰模型新SOTA，智谱GLM-4.6问世 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/202510/%E6%99%BA%E8%B0%B1-GLM-4.6-%E5%8F%91%E5%B8%83%E7%9C%9F%E5%AE%9E%E7%BC%96%E7%A8%8B%E6%B5%8B%E8%AF%95%E5%B9%B2%E7%BF%BB%E4%BA%86-Claude-Sonnet-4MIT%E5%85%A8%E5%BC%80%E6%BA%90--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="智谱 GLM-4.6 发布，真实编程测试干翻了 Claude Sonnet 4，MIT全开源 --知识铺">智谱 GLM-4.6 发布，真实编程测试干翻了 Claude Sonnet 4，MIT全开源 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/202510/%E6%99%BA%E8%B0%B1-GLM-4.6-%E5%8F%91%E5%B8%83%E7%9C%9F%E5%AE%9E%E7%BC%96%E7%A8%8B%E6%B5%8B%E8%AF%95%E5%B9%B2%E7%BF%BB%E4%BA%86-Claude-Sonnet-4MIT%E5%85%A8%E5%BC%80%E6%BA%90/" title="智谱 GLM-4.6 发布，真实编程测试干翻了 Claude Sonnet 4，MIT全开源 --知识铺">智谱 GLM-4.6 发布，真实编程测试干翻了 Claude Sonnet 4，MIT全开源 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/%E6%B3%8A%E8%88%9F-on-X-%E6%88%91%E8%A7%89%E5%BE%97%E8%BF%99%E4%B8%AA%E6%8E%A8%E8%8D%90%E6%8C%BA%E5%90%88%E7%90%86%E7%AC%A6%E5%90%88%E6%88%91%E5%BF%83%E7%90%86%E9%A2%84%E6%9C%9F-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86-Gemini-2.5-Pro-%E5%86%99%E4%BD%9C-Claude-4.1-Opus-%E7%BC%96%E7%A0%81-GPT-5-Codex-%E6%85%A2%E9%80%9F%E4%BD%86%E4%BC%98%E7%A7%80-Sonnet-4.5-%E5%BF%AB%E9%80%9F%E4%BC%98%E7%A7%80&#43;%E4%BD%86%E8%B4%B5-%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86-Gemini-2.5-Pro-%E6%96%87%E6%9C%AC%E8%BD%AC%E5%9B%BE%E5%83%8F-Seedream-4-High-%E5%9B%BE%E5%83%8F%E7%BC%96%E8%BE%91-Gemini-2.5-Fl--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="泊舟 on X 我觉得这个推荐挺合理，符合我心理预期 文本处理 - Gemini-2.5-Pro 写作 - Claude 4.1 Opus 编码 - GPT-5-Codex (慢速，但优秀)  Sonnet-4.5 (快速，优秀&#43;，但贵) 视觉处理 - Gemini-2.5-Pro 文本转图像 - Seedream-4-High 图像编辑 - Gemini-2.5-Fl --知识铺">泊舟 on X 我觉得这个推荐挺合理，符合我心理预期 文本处理 - Gemini-2.5-Pro 写作 - Claude 4.1 Opus 编码 - GPT-5-Codex (慢速，但优秀)  Sonnet-4.5 (快速，优秀&#43;，但贵) 视觉处理 - Gemini-2.5-Pro 文本转图像 - Seedream-4-High 图像编辑 - Gemini-2.5-Fl --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/%E6%9F%A5%E8%AF%A2Sora2%E4%B8%8E%E5%9B%BD%E4%BA%A7%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E7%9A%84%E7%AB%9E%E4%BA%89%E4%BC%98%E5%8A%BF--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="查询Sora2与国产替代方案的竞争优势 --知识铺">查询Sora2与国产替代方案的竞争优势 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/%E5%8F%8D%E8%BD%AC%E6%9B%BE%E5%8D%96-200-%E5%88%80-%E6%9C%88%E7%9A%84-Comet-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9Perplexity%E8%A6%81%E7%BB%99%E6%89%80%E6%9C%89%E4%BA%BA%E4%B8%80%E4%B8%AA-%E5%B9%B2%E5%87%80%E7%9A%84%E4%BA%92%E8%81%94%E7%BD%91--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="反转！曾卖 200 刀  月的 Comet 浏览器永久免费，Perplexity：要给所有人一个 “干净的互联网” --知识铺">反转！曾卖 200 刀  月的 Comet 浏览器永久免费，Perplexity：要给所有人一个 “干净的互联网” --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/Sora2-%E5%8D%83%E4%BA%BF%E7%AE%97%E5%8A%9B%E5%90%88%E4%BD%9C%E8%90%BD%E5%9C%B0A-%E8%82%A1%E7%AE%97%E5%8A%9B&#43;%E5%BA%94%E7%94%A8%E5%8F%8C%E7%88%86%E5%8F%91%E6%8C%81%E4%BB%93%E5%92%8B%E9%80%89ip%E6%9C%8D%E5%8A%A1%E5%99%A8sora%E6%BB%A1%E8%A1%80%E7%89%88%E6%A8%A1%E5%9E%8BSora%E5%85%AC%E5%8F%B8_%E7%BD%91%E6%98%93%E8%AE%A2%E9%98%85--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="Sora2 千亿算力合作落地！A 股算力&#43;应用双爆发，持仓咋选？ip服务器sora满血版模型Sora(公司)_网易订阅 --知识铺">Sora2 千亿算力合作落地！A 股算力&#43;应用双爆发，持仓咋选？ip服务器sora满血版模型Sora(公司)_网易订阅 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/%E6%8E%A2%E8%AE%A8Sora-2%E5%9C%A8%E5%BD%B1%E8%A7%86%E8%A1%8C%E4%B8%9A%E7%9A%84%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="探讨Sora 2在影视行业的具体应用场景 --知识铺">探讨Sora 2在影视行业的具体应用场景 --知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/ai/post/20251001/%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90AISora-2%E6%98%AF%E4%BB%80%E4%B9%88%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E8%B4%B9%E7%94%A8-AIworker-Inc.--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="视频生成AI“Sora 2”是什么？详细讲解使用方法和费用  AIworker Inc. --知识铺">视频生成AI“Sora 2”是什么？详细讲解使用方法和费用  AIworker Inc. --知识铺</a>
    </li>
    
</ul>
    </section>

    
<section class="widget">
    <h3 class="widget-title" style="color:red">福利派送</h3>
    <ul class="widget-list">
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【2019双12】ALL IN CLoud 低至1折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1_rYHo7P2gK0jSZPxXXacQpXa-690-388.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="助力产业智慧升级，云服务器首年88元起，更有千元代金券礼包免费领！" target="_blank" style="color:red">
                
                    <img src="https://upload-dianshi-1255598498.file.myqcloud.com/345-7c71532bd4935fbdd9a67c1a71e577b1767b805c.200%E7%89%88%E6%9C%ACB.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【渠道专享低折扣】11月特惠 限时2折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1hblJl7Y2gK0jSZFgXXc5OFXa-750-400.jpg">
                
            </a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title"><a href='/ai/categories/'>分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/ai/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://index.zshipu.com/ai/tags/AGI/">AGI</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI/">AI</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E5%85%A8%E4%B9%A6/">AI全书</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E5%86%99%E4%BD%9C%E5%8A%A9%E6%89%8B/">AI写作助手</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">AI开源项目</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E6%8A%80%E6%9C%AF/">AI技术</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E7%BB%98%E7%94%BB/">AI绘画</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B/">AI编程助手</a>
    
    <a href="https://index.zshipu.com/ai/tags/AI%E8%89%BA%E6%9C%AF/">AI艺术</a>
    
    <a href="https://index.zshipu.com/ai/tags/ASR/">ASR</a>
    
    <a href="https://index.zshipu.com/ai/tags/ChatGPT/">ChatGPT</a>
    
    <a href="https://index.zshipu.com/ai/tags/Cursor/">Cursor</a>
    
    <a href="https://index.zshipu.com/ai/tags/Cursor-Rules/">Cursor Rules</a>
    
    <a href="https://index.zshipu.com/ai/tags/iOS%E5%BC%80%E5%8F%91/">IOS开发</a>
    
    <a href="https://index.zshipu.com/ai/tags/LangChain/">LangChain</a>
    
    <a href="https://index.zshipu.com/ai/tags/LDA/">LDA</a>
    
    <a href="https://index.zshipu.com/ai/tags/LLM/">LLM</a>
    
    <a href="https://index.zshipu.com/ai/tags/Next.js/">Next.js</a>
    
    <a href="https://index.zshipu.com/ai/tags/openai/">Openai</a>
    
    <a href="https://index.zshipu.com/ai/tags/Prompt%E7%BC%96%E5%86%99/">Prompt编写</a>
    
    <a href="https://index.zshipu.com/ai/tags/PSO/">PSO</a>
    
    <a href="https://index.zshipu.com/ai/tags/RAG/">RAG</a>
    
    <a href="https://index.zshipu.com/ai/tags/Rules%E7%B3%BB%E7%BB%9F/">Rules系统</a>
    
    <a href="https://index.zshipu.com/ai/tags/SGD/">SGD</a>
    
    <a href="https://index.zshipu.com/ai/tags/StableDiffusion/">StableDiffusion</a>
    
    <a href="https://index.zshipu.com/ai/tags/Suno/">Suno</a>
    
    <a href="https://index.zshipu.com/ai/tags/Tab%E5%8A%9F%E8%83%BD/">Tab功能</a>
    
    <a href="https://index.zshipu.com/ai/tags/Token/">Token</a>
    
    <a href="https://index.zshipu.com/ai/tags/Web%E6%A1%86%E6%9E%B6/">Web框架</a>
    
    <a href="https://index.zshipu.com/ai/tags/whisper/">Whisper</a>
    
    <a href="https://index.zshipu.com/ai/tags/Windows%E9%83%A8%E7%BD%B2/">Windows部署</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E4%B8%AD%E6%96%87/">中文</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">人工智能</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E4%BA%BA%E7%B1%BB%E6%99%BA%E6%85%A7/">人类智慧</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E4%BC%9A%E5%91%98%E9%97%AE%E9%A2%98/">会员问题</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/">使用技巧</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8/">免费使用</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5/">入门概念</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%88%A4%E5%88%AB%E5%BC%8F%E6%A8%A1%E5%9E%8B/">判别式模型</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%90%91%E9%87%8F/">向量</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB/">图像识别</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%9C%BA%E6%99%AF%E5%AE%9E%E4%BE%8B/">场景实例</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/">大模型</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/">大语言模型</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%AD%A6%E4%B9%A0%E5%90%91%E9%87%8F%E9%87%8F%E5%8C%96/">学习向量量化</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%AD%A6%E4%B9%A0%E8%8C%83%E5%9B%B4/">学习范围</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/">安装指南</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6/">应用程序框架</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/">应用领域</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/">开源框架</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%BC%A0%E9%87%8F/">张量</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91/">快速开发</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%8A%80%E6%9C%AF%E6%80%A7%E5%85%B3%E9%94%AE%E8%AF%8D/">技术性关键词</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%8A%80%E6%9C%AF%E7%99%BD%E7%9A%AE%E4%B9%A6/">技术白皮书</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%97%A0GPU/">无GPU</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%99%AE%E5%8F%8A%E5%8C%96/">普及化</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%99%BA%E6%85%A7%E4%BD%93/">智慧体</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%99%BA%E8%83%BD%E4%BD%93/">智能体</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%9C%AA%E6%9D%A5%E7%A7%91%E6%8A%80/">未来科技</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C/">本地运行</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%A0%87%E9%87%8F/">标量</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94/">框架对比</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90/">检索增强生成</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%95%8C%E9%9D%A2%E8%AE%BE%E7%BD%AE/">界面设置</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%B3%BB%E7%BB%9F/">知识库系统</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%9F%A5%E8%AF%86%E9%93%BA/">知识铺</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%9F%A9%E9%98%B5/">矩阵</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%B2%92%E5%AD%90%E7%BE%A4%E4%BC%98%E5%8C%96/">粒子群优化</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%BA%BF%E6%80%A7%E5%88%A4%E5%88%AB%E5%88%86%E6%9E%90/">线性判别分析</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E7%BC%96%E7%A8%8B/">编程</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E8%A7%84%E5%88%99%E5%AE%9A%E4%B9%89/">规则定义</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/">计算机视觉</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E8%AF%AD%E9%9F%B3%E7%AC%94%E8%AE%B0/">语音笔记</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/">语音识别</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E8%AF%AD%E9%9F%B3%E8%BE%93%E5%85%A5%E6%96%87%E6%9C%AC%E6%9C%97%E8%AF%BB/">语音输入文本朗读</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E9%80%9A%E7%94%A8%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">通用人工智能</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E9%9A%8F%E6%9C%BA%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95/">随机梯度下降法</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E9%9A%90%E5%90%AB%E7%8B%84%E5%88%A9%E5%85%8B%E9%9B%B7%E5%88%86%E5%B8%83/">隐含狄利克雷分布</a>
    
    <a href="https://index.zshipu.com/ai/tags/%E9%9F%B3%E4%B9%90%E5%88%9B%E4%BD%9C/">音乐创作</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://blog.zshipu.com//" title="知识铺的博客">知识铺的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://index.zshipu.com/ai/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>