<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-site-verification" content="codeva-odZno92jxn" />
<meta name="360-site-verification" content="b46a7087f21ff6cf8dcee8ee59ee9a61" />
<meta name="sogou_site_verification" content="F2mmMQ4NdU" />

    <title>深入浅出ThreadLocal -- 知识铺 | 知识铺的博客</title>
    <meta property="og:title" content="深入浅出ThreadLocal -- 知识铺 - 知识铺的博客">
    <meta property="og:type" content="article">

    
    <meta property="article:modified_time" content='2024-04-24T11:36:05&#43;08:00'>
    
    <meta name="Keywords" content="golang,go语言,go语言笔记,知识铺,java,android,博客,项目管理,python,软件架构,公众号,小程序">
    <meta name="description" content="深入浅出ThreadLocal -- 知识铺">
    <meta name="author" content="知识铺">
    
    <meta property="og:url" content="https://index.zshipu.com/geek001/post/20240424/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAThreadLocal--%E7%9F%A5%E8%AF%86%E9%93%BA/">
    <link rel="shortcut icon" href='/geek001/favicon.ico' type="image/x-icon">

    <link rel="stylesheet" href='/geek001/css/normalize.css'>
    <link rel="stylesheet" href='/geek001/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    <script data-ad-client="ca-pub-2874221941555456" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    

    

    
    
    
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WLWJSST');</script>
    
</head>

<body>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLWJSST"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://index.zshipu.com/geek001">
                        知识铺的博客
                    </a>
                
                <p class="description">专注于Android、Java、Go语言(golang)、移动互联网、项目管理、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://index.zshipu.com/geek001">首页</a>
                    
                    <a  href="https://index.zshipu.com" title="总站">总站</a>
                    
                    <a  href="https://index.zshipu.com/geek/" title="技术">技术</a>
                    
                    <a  href="https://index.zshipu.com/geek001/archives/" title="归档">归档</a>
                    
                    <a  href="https://index.zshipu.com/geek001/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#本文目录">本文目录</a>
      <ul>
        <li></li>
        <li><a href="#-情况1的解决方案使用弱引用解决key的内存泄露"> - 情况1的解决方案：使用弱引用，解决key的内存泄露</a></li>
        <li><a href="#-情况2的解决方案清理策略解决value内存泄露"> - 情况2的解决方案：清理策略解决value内存泄露</a></li>
      </ul>
    </li>
    <li><a href="#-说在最后有问题找老架构取经"><strong><strong><strong>-</strong></strong> 说在最后：有问题找老架构取经</strong></a>
      <ul>
        <li><a href="#threadlocal的基本使用">ThreadLocal的基本使用</a></li>
        <li><a href="#threadlocal的成员方法">ThreadLocal的成员方法</a></li>
        <li><a href="#threadlocal的作用和优劣势">ThreadLocal的作用和优劣势</a></li>
        <li><a href="#threadlocal的使用场景">ThreadLocal的使用场景</a></li>
        <li><a href="#场景1使用threadlocal进行线程隔离">场景1：使用ThreadLocal进行线程隔离</a></li>
        <li><a href="#场景2使用threadlocal进行跨函数数据传递">场景2：使用ThreadLocal进行跨函数数据传递</a></li>
        <li><a href="#场景3threadlocal在java框架中的应用">场景3：ThreadLocal在Java框架中的应用</a></li>
        <li><a href="#threadlocal综合使用案例">ThreadLocal综合使用案例</a></li>
        <li><a href="#threadlocal-使用总结">ThreadLocal 使用总结</a></li>
      </ul>
    </li>
    <li><a href="#threadlocal的实现原理">ThreadLocal的实现原理</a>
      <ul>
        <li><a href="#threadlocal内部结构演进">ThreadLocal内部结构演进</a></li>
        <li><a href="#threadlocalmap对象和entry是什么">ThreadLocalMap对象和Entry是什么</a></li>
        <li><a href="#threadlocal的结构模型">ThreadLocal的结构模型</a></li>
        <li><a href="#threadlocal源码分析">ThreadLocal源码分析</a></li>
        <li><a href="#threadlocalmap源码分析">ThreadLocalMap源码分析</a></li>
      </ul>
    </li>
    <li><a href="#面试难点threadlocal造成内存泄露的问题">面试难点：ThreadLocal造成内存泄露的问题</a>
      <ul>
        <li><a href="#threadlocal是怎么造成内存泄露的呢">ThreadLocal是怎么造成内存泄露的呢？</a></li>
        <li><a href="#threadlocal-有两个引用链">ThreadLocal 有两个引用链</a></li>
        <li><a href="#情况1key的泄漏">情况1：key的泄漏</a></li>
        <li><a href="#情况2-value的泄漏">情况2： value的泄漏</a></li>
        <li><a href="#情况1的解决方案使用弱引用解决key的内存泄露">情况1的解决方案：使用弱引用，解决key的内存泄露</a></li>
        <li><a href="#情况2的解决方案清理策略解决value内存泄露图片httpsmmbizqpiccnsz_mmbiz_pngxlgvgpaib7wn8ablicickcrra5j7agicyrbjibxueyicdoumgergicsyticklt1o2arwrkue9ohm6bgpvgn6gzvp7ouewa640wx_fmtpngfromappmsg">情况2的解决方案：清理策略解决value内存泄露<img src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJibxueyicDOUmGErgicSyTickLt1O2ArwRkUE9OhM6bgpVgn6GzVP7OuewA/640?wx_fmt=png&amp;from=appmsg" alt="图片"></a></li>
        <li><a href="#源码value的-探测式清理-">源码：value的 探测式清理 ：</a></li>
        <li><a href="#源码value的启发式清理">源码：value的启发式清理：</a></li>
        <li><a href="#业务主动清理手动清除解决内存泄露">业务主动清理：手动清除解决内存泄露</a></li>
      </ul>
    </li>
    <li><a href="#使用threadlocal的性能问题和优化措施">使用ThreadLocal的性能问题和优化措施</a>
      <ul>
        <li><a href="#threadlocal的性能开销">ThreadLocal的性能开销</a></li>
        <li><a href="#编程规范推荐使用-static-final-修饰threadlocal对象">编程规范：推荐使用 static final 修饰ThreadLocal对象</a></li>
        <li><a href="#theadlocal对象实例存在强引用会导致三个彻底失效">TheadLocal对象实例存在强引用，会导致三个彻底失效：</a></li>
      </ul>
    </li>
    <li><a href="#threadlocal升级版1inheritablethreadlocal-可继承本地变量">ThreadLocal升级版1：InheritableThreadLocal 可继承本地变量</a>
      <ul>
        <li><a href="#什么是可继承本地变量inheritablethreadlocalitl">什么是可继承本地变量InheritableThreadLocal（ITL）?</a></li>
        <li><a href="#inheritablethreadlocal的基本使用">InheritableThreadLocal的基本使用</a></li>
        <li><a href="#inheritablethrealocal的原理分析">InheritableThreaLocal的原理分析</a></li>
        <li><a href="#inheritablethrealocal所带来的问题">InheritableThreaLocal所带来的问题</a></li>
      </ul>
    </li>
    <li><a href="#threadlocal升级版2transmittablethreadlocal-可透传本地变量">ThreadLocal升级版2：TransmittableThreadLocal 可透传本地变量</a>
      <ul>
        <li><a href="#什么是transmittablethreadlocalttl">什么是TransmittableThreadLocal（TTL）？</a></li>
        <li><a href="#ttl-使用场景">TTL 使用场景</a></li>
        <li><a href="#transmittablethreadlocal的原理分析">TransmittableThreadLocal的原理分析</a></li>
        <li><a href="#threadlocalinheritablethrealocal与transmittablethreadlocal的比较">ThreadLocal、InheritableThreaLocal与TransmittableThreadLocal的比较</a></li>
        <li><a href="#threadlocal和synchronized之间的比较">ThreadLocal和synchronized之间的比较</a></li>
      </ul>
    </li>
    <li><a href="#fastthreadlocal-ftl的实现原理">FastThreadLocal （FTL）的实现原理</a>
      <ul>
        <li><a href="#什么是fastthreadlocal-ftl">什么是FastThreadLocal （FTL）？</a></li>
        <li><a href="#fastthreadlocal-如何使用">FastThreadLocal 如何使用</a></li>
        <li><a href="#fastthreadlocal-的优势">FastThreadLocal 的优势</a></li>
        <li><a href="#fastthreadlocal-为什么快">FastThreadLocal 为什么快</a></li>
        <li><a href="#fastthreadlocal-源码分析">FastThreadLocal 源码分析</a></li>
        <li><a href="#和threadlocal相比-fastthreadlocal-的优势">和ThreadLocal相比， FastThreadLocal 的优势：</a></li>
      </ul>
    </li>
    <li><a href="#说在最后有问题找老架构取经">说在最后：有问题找老架构取经</a></li>
    <li><a href="#部分历史案例">部分历史案例</a></li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if(leftPos<220){
                postToc.css({"width":leftPos-10,"margin-left":(0-leftPos)})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">深入浅出ThreadLocal -- 知识铺</h1>
        </header>
        <date class="post-meta meta-date">
            2024年4月24日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>在40岁老架构师 尼恩的<strong>读者交流群</strong>(50+)中，很多小伙伴拿到了一线互联网企业如得物、阿里、滴滴、极兔、有赞、希音、百度、网易、美团的面试机会，遇到很多很重要的面试题：</p>
<blockquote>
<p>1.请解释ThreadLocal是什么，以及它的主要用途是什么？</p>
<p>2.ThreadLocal的内部机制是怎样的？请解释一下ThreadLocalMap和Entry。</p>
<p>3.使用ThreadLocal是否会导致内存泄漏？如果是，如何避免？</p>
<p>4.在使用线程池时，ThreadLocal可能会出现什么问题？如何解决？</p>
<p>5.能否解释一下 TransmittableThreadLocal 与ThreadLocal的区别和联系？</p>
<p>6.在父子线程间如何共享数据？ThreadLocal能实现吗？如果不能，那应如何实现？</p>
</blockquote>
<p>最近有小伙伴在面试字节，又遇到了ThreadLocal 相关的面试题。小伙伴懵了，支支吾吾的说了几句，面试官不满意，面试挂了。</p>
<p>所以，尼恩给大家做一下系统化、体系化的梳理，使得大家内力猛增，可以充分展示一下大家雄厚的 “技术肌肉”，<strong>让面试官爱到 “不能自已、口水直流”</strong>，然后实现”offer直提”。</p>
<p>这里，尼恩团队把 ThreadLocal、ITL、TTL、FTL进行了全面的梳理，穿透式的梳理，</p>
<p>梳理为一个PDF文档 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》， 并且持续迭代。</p>
<p>这个文档将成为大家 面试的杀手锏， 此文当最新PDF版本，可以找40岁老架构师尼恩获取。
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJ60OvamylWt5xdfuwriaibNDWGd7xQEREhPOCAJwsPGxusE8G7xUpibtog/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>当然，上面的面试题以及参考答案，也会收入咱们的 《<a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247497474&amp;idx=1&amp;sn=54a7b194a72162e9f13695443eabe186&amp;scene=21#wechat_redirect">尼恩Java面试宝典PDF</a>》V171版本，供后面的小伙伴参考，提升大家的 3高 架构、设计、开发水平。</p>
<blockquote>
<p>最新《尼恩 架构笔记》《尼恩高并发三部曲》《尼恩Java面试宝典》的PDF，请关注本公众号【技术自由圈】获取，回复：领电子书</p>
</blockquote>
<p>本文作者：</p>
<ul>
<li>
<p>第一作者 Moen （负责写初稿 ）</p>
</li>
<li>
<p>第二作者 尼恩 （40岁老架构师， 负责提升此文的 技术高度，让大家有一种 俯视 技术的感觉）</p>
</li>
</ul>
<h2 id="本文目录">本文目录</h2>
<p><strong>- 尼恩说在前面</strong></p>
<p><strong><strong>-</strong> 什么是ThreadLocal（TL）？</strong></p>
<p> - ThreadLocal的基本使用</p>
<p> - ThreadLocal的成员方法</p>
<p> - ThreadLocal的作用和优劣势</p>
<h5 id="-tl作用">    -<strong>TL</strong>作用</h5>
<h5 id="-tl优势">    -<strong>TL</strong>优势 </h5>
<h5 id="-tl劣势">    -<strong>TL</strong>劣势</h5>
<p> - ThreadLocal的使用场景</p>
<p> - 场景1：使用ThreadLocal进行线程隔离</p>
<p> - 场景2：使用ThreadLocal进行跨函数数据传递</p>
<p> - 场景3：ThreadLocal在Java框架中的应用</p>
<p> - ThreadLocal综合使用案例</p>
<p> - ThreadLocal 使用总结</p>
<p><strong><strong><strong>-</strong></strong> ThreadLocal的实现原理</strong></p>
<p> - ThreadLocal内部结构演进</p>
<p> - ThreadLocalMap对象和Entry是什么</p>
<p> - ThreadLocal的结构模型</p>
<p> - ThreadLocal源码分析</p>
<h5 id="-sett-value方法">    -set(T value)方法</h5>
<h5 id="-get-方法">    -get( )方法</h5>
<h5 id="-remove-方法">    -remove( )方法</h5>
<h5 id="-initialvalue--方法">    -initialValue( ) 方法</h5>
<p> - ThreadLocalMap源码分析</p>
<h5 id="-threadlocalmap的主要成员变量">    -ThreadLocalMap的主要成员变量</h5>
<h5 id="-entry的key需要使用弱引用">    -Entry的Key需要使用弱引用</h5>
<p><strong><strong><strong>-</strong></strong> ThreadLocal造成内存泄露的问题</strong></p>
<p> - ThreadLocal是怎么造成内存泄露的呢？</p>
<p> - ThreadLocal 有两个引用链</p>
<p> - 情况1：key的<strong>内存</strong>泄漏</p>
<p> - 情况2：value的<strong>内存</strong>泄漏</p>
<h3 id="-情况1的解决方案使用弱引用解决key的内存泄露"> - 情况1的解决方案：使用弱引用，解决key的内存泄露</h3>
<h3 id="-情况2的解决方案清理策略解决value内存泄露"> - 情况2的解决方案：清理策略解决value内存泄露</h3>
<p> - 源码：value的 探测式清理 ：</p>
<p> - 源码：value的启发式清理：</p>
<p> - 业务主动清理：手动清除解决内存泄露</p>
<p> - ThreadLocal与内存泄露：防范与诊断</p>
<p><strong><strong><strong>-</strong></strong> 使用ThreadLocal的性能问题和优化措施</strong></p>
<p> - ThreadLocal的性能开销</p>
<p> - 编程规范：推荐使用 static final 修饰ThreadLocal对象</p>
<p> - TheadLocal对象实例存在强引用，会导致三个彻底失效：</p>
<p><strong><strong><strong>-</strong></strong> ThreadLocal升级版1：InheritableThreadLocal 可继承本地变量</strong></p>
<p> - 什么是可继承本地变量InheritableThreadLocal（ITL）?</p>
<p> - InheritableThreadLocal的基本使用</p>
<p> - InheritableThreaLocal的原理分析</p>
<p> - InheritableThreaLocal所带来的问题</p>
<p><strong><strong><strong>-</strong></strong> ThreadLocal升级版2：TransmittableThreadLocal 可透传本地变量</strong></p>
<p> - 什么是TransmittableThreadLocal（TTL）？</p>
<p> - TTL 使用场景</p>
<p> - TransmittableThreadLocal的原理分析</p>
<p> - ThreadLocal、InheritableThreaLocal与TransmittableThreadLocal的比较</p>
<p> - ThreadLocal和synchronized之间的比较</p>
<p><strong><strong><strong>-</strong></strong> FastThreadLocal （FTL）高性能本地变量的实现原理</strong></p>
<p> - 什么是FastThreadLocal （FTL）？</p>
<p> - FastThreadLocal 如何使用</p>
<p> - FastThreadLocal 的优势</p>
<p> - FastThreadLocal 为什么快</p>
<p> - FastThreadLocal 源码分析</p>
<h5 id="-fastthreadlocal-的回收机制">    -FastThreadLocal 的回收机制</h5>
<h5 id="-fastthreadlocal-在netty中的应用">    -FastThreadLocal 在Netty中的应用</h5>
<p> - 和ThreadLocal相比， FastThreadLocal 的优势：</p>
<h2 id="-说在最后有问题找老架构取经"><strong><strong><strong>-</strong></strong> 说在最后：有问题找老架构取经</strong></h2>
<p>在Java的多线程并发执行过程中，为保证多个线程对变量的安全访问，可以将变量放到ThreadLocal类型的对象中，使变量在每个线程中都有独立值，不会出现一个线程读取变量时而被另一个线程修改的现象。</p>
<p>ThreadLocal类通常被翻译为“<code>线程本地变量</code>” ，或者“<code>线程局部变量</code>” 。</p>
<p>ThreadLocal的英文字面翻译为“<code>线程本地</code>”，实质上ThreadLocal代表的是线程本地变量，可能将其命名为<code>ThreadLocalVariable</code>会更加容易让人理解。</p>
<p><strong>以下来至官网的解释</strong>：</p>
<blockquote>
<p>This class provides thread-local variables. These variables differ from their normal counterparts in that each thread that accesses one (via its get or set method) has its own, independently initialized copy of the variable. ThreadLocal instances are typically private static fields in classes that wish to associate state with a thread (e.g., a user ID or Transaction ID).</p>
<p>简单翻译如下：</p>
<p>此类提供<code>线程局部变量</code>。这些变量与其正常对应变量的不同之处在于，每个访问一个变量（通过其get或set方法）的线程都有<code>自己的</code>、<code>独立初始化的变量副本</code>。ThreadLocal实例通常是类中的<code>私有静态字段</code>，这些字段希望将状态与线程（例如，用户ID或事务ID）相关联。</p>
</blockquote>
<p><strong>总结重点如下</strong>：</p>
<ol>
<li>
<p>ThreadLocal 提供了一种访问某个变量的特殊方式：访问到的变量属于当前线程，即保证每个线程的变量不一样，而同一个线程在任何地方拿到的变量都是当前这个线程私有的，这就是所谓的线程隔离。</p>
</li>
<li>
<p>如果要使用 ThreadLocal，通常定义为 <code>private static</code> 类型，根据编程范式最好是定义为 <code>private static final</code> 类型。</p>
</li>
</ol>
<h3 id="threadlocal的基本使用">ThreadLocal的基本使用</h3>
<p>ThreadLocal是位于JDK的java.lang核心包中。</p>
<p>如果程序创建了一个ThreadLocal实例，那么在访问这个变量的值时，每个线程都会拥有一个<code>独立的</code>、<code>自己的本地值</code>。</p>
<p>“<code>线程本地变量</code>” 可以看成专属于线程的变量，不受其他线程干扰，保存着线程的专属数据。</p>
<p>当线程结束后，每个线程所拥有的那一个本地值也会被释放。</p>
<p>在多线程并发操作“线程本地变量”时候，线程各自操作的是自己的本地值，从而规避了线程安全问题。</p>
<p>ThreadLocal如何是做到为每个线程存有一份独立的本地值的呢？</p>
<blockquote>
<p>一个ThreadLocal实例可以形象地理解为一个Map（早期版本的ThreadLocal是这样设计的）。当工作线程Thread实例向本地变量保持某个值时，会以“<strong>Key-Value对</strong>”的形式保存在ThreadLocal内部的Map中，其中<strong>Key为线程Thread实例</strong>，<strong>Value为待保存的值</strong>。当工作线程Thread实例从ThreadLocal本地变量取值时，会以Thread实例为Key，获取其绑定的Value。</p>
</blockquote>
<p>一个ThreadLocal实例内部结构的形象展示，大致如图1-18所示。</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJFRYicneTI4KZPbegqjrW0Vs6fhqplenrwI4PsPe8G3FVEJ3SdOwCRibQ/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>图1-18 一个ThreadLocal（早期版本）实例内部结构的形象展示</p>
<p>Java程序可以使用ThreadLocal的成员方法进行本地值操作，具体的成员方法如表1-2所示。</p>
<p>表1-2 ThreadLocal的成员方法                         </p>
<table>
<thead>
<tr>
<th>方 法  </th>
<th>  说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>set(T value)</td>
<td></td>
</tr>
</tbody>
</table>
<p>|</p>
<p>设置当前线程在“线程本地变量”实例中绑定的本地值</p>
<p>|
|</p>
<p>T get()</p>
<p>|</p>
<p>获得当前线程在“线程本地变量”实例中绑定的本地值</p>
<p>|
|</p>
<p>remove()</p>
<p>|</p>
<p>移除当前线程在“线程本地变量”实例中绑定的本地值</p>
<p>|</p>
<p>下面的例子，通过ThreadLocal的成员方法进行“线程本地变量”中线程本地值的设置、获取、移除，具体的代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;package&lt;/span&gt; com.crazymakercircle.mutithread.basic.threadlocal;&lt;br&gt;...省略&lt;span&gt;import&lt;/span&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocalTest&lt;/span&gt;&lt;br&gt;{&lt;br&gt;    &lt;span&gt;@Data&lt;/span&gt;&lt;br&gt;    &lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;Foo&lt;/span&gt;&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//实例总数&lt;/span&gt;&lt;br&gt;        &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; AtomicInteger AMOUNT = &lt;span&gt;new&lt;/span&gt; AtomicInteger(&lt;span&gt;0&lt;/span&gt;);&lt;br&gt;        &lt;span&gt;//对象的编号&lt;/span&gt;&lt;br&gt;        &lt;span&gt;int&lt;/span&gt; index = &lt;span&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span&gt;//对象的内容&lt;/span&gt;&lt;br&gt;        &lt;span&gt;int&lt;/span&gt; bar = &lt;span&gt;10&lt;/span&gt;;&lt;br&gt;        &lt;span&gt;//构造器&lt;/span&gt;&lt;br&gt;        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;Foo&lt;/span&gt;()&lt;br&gt;        {&lt;br&gt;            index = AMOUNT.incrementAndGet(); &lt;span&gt;//总数增加，并且给对象的编号&lt;/span&gt;&lt;br&gt;        }&lt;br&gt;        &lt;span&gt;@Override&lt;/span&gt;&lt;br&gt;        &lt;span&gt;public&lt;/span&gt; String &lt;span&gt;toString&lt;/span&gt;()&lt;br&gt;        {&lt;br&gt;            &lt;span&gt;return&lt;/span&gt; index + &lt;span&gt;&#34;@Foo{bar=&#34;&lt;/span&gt; + bar + &lt;span&gt;&#39;}&#39;&lt;/span&gt;;&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;//定义线程本地变量&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;Foo&amp;gt; LOCAL_FOO =  &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Foo&amp;gt;();&lt;br&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;(String[] args) &lt;span&gt;throws&lt;/span&gt; InterruptedException&lt;br&gt;    {&lt;br&gt;         &lt;span&gt;//获取自定义的混合型线程池&lt;/span&gt;&lt;br&gt;        ThreadPoolExecutor threadPool = &lt;br&gt;                                ThreadUtil.getMixedTargetThreadPool();&lt;br&gt;&lt;br&gt;        &lt;span&gt;//提交5个任务，将会用到5个线程&lt;/span&gt;&lt;br&gt;        &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; &lt;span&gt;5&lt;/span&gt;; i++)&lt;br&gt;        {&lt;br&gt;            threadPool.execute(&lt;span&gt;new&lt;/span&gt; Runnable()&lt;br&gt;            {&lt;br&gt;                &lt;span&gt;@Override&lt;/span&gt;&lt;br&gt;                &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;()&lt;br&gt;                {&lt;br&gt;                    &lt;span&gt;//获取“线程本地变量”中当前线程所绑定的值&lt;/span&gt;&lt;br&gt;                    &lt;span&gt;if&lt;/span&gt; (LOCAL_FOO.get() == &lt;span&gt;null&lt;/span&gt;)&lt;br&gt;                    {&lt;br&gt;                        &lt;span&gt;//设置“线程本地变量”中当前线程所绑定的值&lt;/span&gt;&lt;br&gt;                        LOCAL_FOO.set(&lt;span&gt;new&lt;/span&gt; Foo());&lt;br&gt;                    }&lt;br&gt;                       Print.tco(&lt;span&gt;&#34;初始的本地值：&#34;&lt;/span&gt; + LOCAL_FOO.get());&lt;br&gt;                    &lt;span&gt;//每个线程执行10次&lt;/span&gt;&lt;br&gt;                    &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; &lt;span&gt;10&lt;/span&gt;; i++)&lt;br&gt;                    {&lt;br&gt;                        Foo foo = LOCAL_FOO.get();&lt;br&gt;                        foo.setBar(foo.getBar() + &lt;span&gt;1&lt;/span&gt;);  &lt;span&gt;//值增1&lt;/span&gt;&lt;br&gt;                        sleepMilliSeconds(&lt;span&gt;10&lt;/span&gt;);&lt;br&gt;                    }&lt;br&gt;                    Print.tco(&lt;span&gt;&#34;累加10次之后的本地值：&#34;&lt;/span&gt; + LOCAL_FOO.get());&lt;br&gt;&lt;br&gt;                    &lt;span&gt;//删除“线程本地变量”中当前线程所绑定的值&lt;/span&gt;&lt;br&gt;                    LOCAL_FOO.remove(); &lt;span&gt;//这点对于线程池中的线程尤其重要&lt;/span&gt;&lt;br&gt;                }&lt;br&gt;            });&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>运行以上示例，其结果如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;3&lt;/span&gt;]：初始的本地值：&lt;span&gt;3&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;10&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;4&lt;/span&gt;]：初始的本地值：&lt;span&gt;4&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;10&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;5&lt;/span&gt;]：初始的本地值：&lt;span&gt;5&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;10&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;2&lt;/span&gt;]：初始的本地值：&lt;span&gt;1&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;10&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;1&lt;/span&gt;]：初始的本地值：&lt;span&gt;2&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;10&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;1&lt;/span&gt;]：累加&lt;span&gt;10&lt;/span&gt;次之后的本地值：&lt;span&gt;2&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;20&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;3&lt;/span&gt;]：累加&lt;span&gt;10&lt;/span&gt;次之后的本地值：&lt;span&gt;3&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;20&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;5&lt;/span&gt;]：累加&lt;span&gt;10&lt;/span&gt;次之后的本地值：&lt;span&gt;5&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;20&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;2&lt;/span&gt;]：累加&lt;span&gt;10&lt;/span&gt;次之后的本地值：&lt;span&gt;1&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;20&lt;/span&gt;}&lt;br&gt;[apppool-&lt;span&gt;1&lt;/span&gt;-mixed-&lt;span&gt;4&lt;/span&gt;]：累加&lt;span&gt;10&lt;/span&gt;次之后的本地值：&lt;span&gt;4&lt;/span&gt;&lt;span&gt;@Foo&lt;/span&gt;{bar=&lt;span&gt;20&lt;/span&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>通过输出的结果可以看出，在“线程本地变量”（LOCAL_FOO）中，每一个线程都绑定了一个独立的值（Foo对象），这些值对象是线程的私有财产，可以理解为线程的本地值</p>
<p>每一次操作都是在自己的同一个本地值上进行，例子中通过线程本地值的index始终一致可以看出，每个线程操作的是同一个Foo对象。 如果线程尚未在本地变量（如LOCAL_FOO）中绑定了一个值，直接通过get( )方法去获取本地值，会获取到一个空值，此时可以通过set( )方法设置一个值作为初始值，具体的代码如下所示：</p>
<pre tabindex="0"><code>    &lt;section&gt;&lt;span&gt;&lt;span&gt;//获取“线程本地变量”中当前线程所绑定的值&lt;/span&gt;&lt;br&gt;     &lt;span&gt;if&lt;/span&gt; (LOCAL_FOO.get() == &lt;span&gt;null&lt;/span&gt;)&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//设置“线程本地变量”中当前线程所绑定的初始值&lt;/span&gt;&lt;br&gt;        LOCAL_FOO.set(&lt;span&gt;new&lt;/span&gt; Foo());&lt;br&gt;    }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>在当前线程尚未绑定值时，如果希望能从线程本地变量获取 初始值，而且也不想采用以上的“判空后设值”的繁琐 方式，则可以在定义使用 <code>ThreadLocal.withInitial(…)</code>静态工厂方法，</p>
<p>使用ThreadLocal.withInitial(…) 的方式，可以在定义ThreadLocal对象时设置一个获取初始值的回调函数，具体的代码如下所示：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;ThreadLocal&amp;lt;Foo&amp;gt; LOCAL_FOO = ThreadLocal.withInitial(() -&amp;gt; &lt;span&gt;new&lt;/span&gt; Foo());&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>以上代码并没有使用new ThreadLocal()去构造一个ThreadLocal对象，而是使用withInitial(…)工厂方法创建一个ThreadLocal对象，并传递了一个获取初始值的Lamda回调函数。</p>
<p>在线程尚未绑定值而直接从“线程本地变量”获取值时，将会取得回调函数被调用之后所返回的值。</p>
<h3 id="threadlocal的成员方法">ThreadLocal的成员方法</h3>
<p>Java程序可以使用ThreadLocal的成员方法进行本地值操作，具体的成员方法如下所示：</p>
<blockquote>
<ul>
<li>
<p>set(T value) ：设置当前线程在“线程本地变量”实例中绑定的本地值</p>
</li>
<li>
<p>T get() ：获得当前线程在“线程本地变量”实例中绑定的本地值</p>
</li>
<li>
<p>remove() ：移除当前线程在“线程本地变量”实例中绑定的本地值</p>
</li>
<li>
<p>initialValue( ) ： 当“线程本地变量”在当前线程的ThreadLocalMap中尚未绑定值时，该方法用于获取初始值。</p>
</li>
</ul>
</blockquote>
<h3 id="threadlocal的作用和优劣势">ThreadLocal的作用和优劣势</h3>
<p>ThreadLocal的作用和优劣势主要体现在以下几个方面：</p>
<h5 id="作用">作用</h5>
<ol>
<li>
<p><strong>线程本地存储</strong>：ThreadLocal为每个线程提供各自的变量副本，每个线程都可以读取和修改自己线程的本地变量。这意味着在多线程环境中，不同线程对ThreadLocal变量的操作是独立的，不会互相干扰。</p>
</li>
<li>
<p><strong>简化线程间数据传递</strong>：通过使用ThreadLocal，可以将某些需要在多线程之间共享但又需要避免竞态条件的数据封装起来，每个线程访问的都是自己的数据副本，从而简化了线程间数据传递的复杂性。</p>
</li>
<li>
<p><strong>管理线程特定资源</strong>：ThreadLocal常用于存储线程上下文信息，如用户会话信息、事务信息等，这些信息通常与特定线程关联，不需要在多个线程之间共享。</p>
</li>
</ol>
<h5 id="优势">优势</h5>
<ol>
<li>
<p><strong>线程安全</strong>：由于每个线程操作的是自己的变量副本，因此避免了多线程访问共享变量时可能出现的竞态条件和数据不一致问题，从而保证了线程安全。</p>
</li>
<li>
<p><strong>简化编程模型</strong>：通过使用ThreadLocal，开发者可以更加专注于业务逻辑的实现，而不需要过多关注线程间数据同步和共享的问题，降低了编程复杂度。</p>
</li>
<li>
<p><strong>性能优化</strong>：由于避免了线程间数据同步的开销，以及减少了不必要的锁竞争，因此在某些场景下，使用ThreadLocal可以提高系统的并发性能。</p>
</li>
</ol>
<h5 id="劣势">劣势</h5>
<ol>
<li>
<p><strong>内存消耗</strong>：ThreadLocal为每个线程创建变量副本，这意味着当线程数量较多时，会占用较多的内存资源。特别是在长时间运行的系统中，如果线程频繁创建和销毁，可能会导致内存泄漏问题。</p>
</li>
<li>
<p><strong>数据共享限制</strong>：由于ThreadLocal变量是线程私有的，因此无法直接实现线程间的数据共享。如果需要在线程间传递数据，可能需要借助其他机制（如消息队列、共享内存等）。</p>
</li>
<li>
<p><strong>使用不当可能导致内存泄露问题</strong>：如果开发者在使用ThreadLocal时不小心忘记在线程结束后清理变量（例如通过调用<code>remove()</code>方法），那么这些变量可能会一直存在于内存中，造成内存泄漏。此外，如果多个线程需要访问和修改同一份数据，那么ThreadLocal可能并不适合，因为它提供的是每个线程私有的变量副本。</p>
</li>
<li>
<p><strong>性能开销</strong>：在ThreadLocal中ThreadLocalMap 是一种使用线性探测法实现的哈希表，底层采用数组存储数据。ThreadLocal.set()/get() 方法在数据密集时很容易出现 Hash 冲突，hash冲突使用的是线性探测法，需要 O(n) 时间复杂度解决冲突问题，效率较低。</p>
</li>
</ol>
<p><strong>综上所述</strong></p>
<blockquote>
<p>ThreadLocal在简化线程间数据传递、管理线程特定资源和提高线程安全性方面具有优势，但也需要注意其可能带来的内存消耗和数据共享限制等问题。在使用ThreadLocal时，应根据具体的应用场景和需求进行权衡和选择。</p>
</blockquote>
<h3 id="threadlocal的使用场景">ThreadLocal的使用场景</h3>
<p>ThreadLocal是解决线程安全问题一个较好方案，它通过为每个线程提供一个独立的本地值，去解决并发访问的冲突问题。很多情况下，使用ThreadLocal比直接使用同步机制（如<code>synchronized</code>）解决线程安全问题更简单，更方便，且结果程序拥有更高的并发性。 ThreadLocal使用场景，大致可以分为以下两类：</p>
<ol>
<li><strong>线程隔离</strong></li>
</ol>
<ul>
<li>
<p>ThreadLocal的主要价值在于线程隔离，ThreadLocal中数据只属于当前线程，其本地值对别的线程是不可见的，在多线程环境下，可以防止自己的变量被其他线程篡改。另外，由于各个线程之间的数据相互隔离，避免同步加锁带来的性能损失，大大提升了并发性的性能。</p>
</li>
<li>
<p>ThreadLocal在线程隔离的最常用案例为：可以每个线程绑定一个用户会话信息、数据库连接、HTTP请求等，这样一个线程的所有调用到的处理函数都可以非常方便地访问这些资源。</p>
</li>
<li>
<p>常见的ThreadLocal使用场景为数据库连接独享、Session数据管理等场景在“线程隔离”场景中使用ThreadLocal的典型案例为：可以每个线程绑定一个数据库连接，是的这个数据库连接为线程所独享，从而避免数据库连接被混用而导致操作异常问题。</p>
</li>
</ul>
<ol start="3">
<li><strong>跨函数传递数据</strong></li>
</ol>
<ul>
<li>通常用于同一个线程内，跨类、跨方法传递数据时，如果不用ThreadLocal，那么相互之间的数据传递势必要靠返回值和参数，这样无形之中增加了这些类或者方法之间的耦合度。、</li>
</ul>
<h3 id="场景1使用threadlocal进行线程隔离">场景1：使用ThreadLocal进行线程隔离</h3>
<p>ThreadLocal在“线程隔离”应用场景的典型应用为“数据库连接独享”。下面的代码来自Hibernate，代码中通过ThreadLocal进行数据库连接（Session）的“线程本地化”存储，主要的代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal threadSession = &lt;span&gt;new&lt;/span&gt; ThreadLocal();  &lt;br&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; Session &lt;span&gt;getSession&lt;/span&gt;() &lt;span&gt;throws&lt;/span&gt; InfrastructureException {  &lt;br&gt;    Session s = (Session) threadSession.get();  &lt;br&gt;    &lt;span&gt;try&lt;/span&gt; {  &lt;br&gt;        &lt;span&gt;if&lt;/span&gt; (s == &lt;span&gt;null&lt;/span&gt;) {  &lt;br&gt;            s = getSessionFactory().openSession();  &lt;br&gt;            threadSession.set(s);  &lt;br&gt;        }  &lt;br&gt;    } &lt;span&gt;catch&lt;/span&gt; (HibernateException ex) {  &lt;br&gt;        &lt;span&gt;throw&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; InfrastructureException(ex);  &lt;br&gt;    }  &lt;br&gt;    &lt;span&gt;return&lt;/span&gt; s;  &lt;br&gt;}  &lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p><code>Hibernate</code>对数据库连接进行了封装，一个Session 代表一个数据库连接。通过以上代码可以看到，</p>
<p>在Hibernate的getSession()方法中，首先判断当前线程中有没有放进去session，</p>
<p>如果还没有，那么通过sessionFactory().openSession()来创建一个Session ，再将Session 设置到ThreadLocal变量中，这个Session 相当于线程的私有变量，而不是所有线程共用的，显然其他线程中是取不到这个Session。</p>
<p>一般来说，完成数据库操作之后程序会将<code>Session</code>关闭，从而节省数据库连接资源。如果Session的使用方式为共享而不是独占，在这种情况下，Session是多线程共享使用的，如果某个线程使用完成之后，直接将Session关闭，其他线程在操作Session就会报错。所以Hibernate通过ThreadLocal非常简单实现了数据库连接的安全使用。</p>
<h3 id="场景2使用threadlocal进行跨函数数据传递">场景2：使用ThreadLocal进行跨函数数据传递</h3>
<p>ThreadLocal在“<code>跨函数数据传递</code>”应用场景的典型有很多：</p>
<blockquote>
<ul>
<li>
<p>用来传递请求过程中的用户ID。</p>
</li>
<li>
<p>用来传递请求过程中的用户会话（Session）。</p>
</li>
<li>
<p>用来传递HTTP的用户请求实例HttpRequest。</p>
</li>
<li>
<p>其他需要在函数之间频繁传递的数据。</p>
</li>
</ul>
</blockquote>
<p>以下代码来自于疯狂创客圈社群的微服务脚手架<code>Crazy-SpringCloud</code>工程，通过ThreadLocal在函数之间传递用户信息、会话信息等，并且封装成了一个独立的SessionHolder类，具体的代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;package&lt;/span&gt; com.crazymaker.springcloud.common.context;&lt;br&gt;...省略&lt;span&gt;import&lt;/span&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;SessionHolder&lt;/span&gt;&lt;br&gt;{&lt;br&gt;    &lt;span&gt;// session id  线程本地变量&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;String&amp;gt; sidLocal =&lt;br&gt;                                          &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;&amp;gt;(&lt;span&gt;&#34;sidLocal&#34;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;    &lt;span&gt;// 用户信息  线程本地变量&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;UserDTO&amp;gt; sessionUserLocal =&lt;br&gt;                                           &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;&amp;gt;(&lt;span&gt;&#34;sessionUserLocal&#34;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;    &lt;span&gt;// session  线程本地变量&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;HttpSession&amp;gt; sessionLocal = &lt;br&gt;                                              &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;&amp;gt;(&lt;span&gt;&#34;sessionLocal&#34;&lt;/span&gt;);&lt;br&gt;...省略其他  &lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     *保存session在线程本地变量中&lt;br&gt;      */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;setSession&lt;/span&gt;(HttpSession session)&lt;br&gt;    {&lt;br&gt;        sessionLocal.set(session);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 取得绑定在线程本地变量中的session &lt;br&gt;      */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; HttpSession &lt;span&gt;getSession&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        HttpSession session = sessionLocal.get();&lt;br&gt;        Assert.notNull(session, &lt;span&gt;&#34;session 未设置&#34;&lt;/span&gt;);&lt;br&gt;        &lt;span&gt;return&lt;/span&gt; session;&lt;br&gt;    }&lt;br&gt;    ...省略其他  &lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h3 id="场景3threadlocal在java框架中的应用">场景3：ThreadLocal在Java框架中的应用</h3>
<ol>
<li><strong>Spring</strong></li>
</ol>
<ul>
<li>
<p>在Spring框架中，ThreadLocal用于存储数据库连接等线程特定的资源。由于数据库连接是线程不安全的，因此每个线程都需要有自己的连接副本。Spring通过ThreadLocal将数据库连接与当前线程关联起来，从而避免了多线程环境下的数据竞争和不一致问题。</p>
</li>
<li>
<p>在Spring的事务管理中，ThreadLocal也扮演着重要角色。它确保了每个线程都有自己的事务上下文，包括事务状态、回滚点等信息，从而实现了事务的隔离性。</p>
</li>
</ul>
<ol start="3">
<li><strong>MyBatis</strong></li>
</ol>
<ul>
<li>MyBatis是一个优秀的持久层框架，它支持定制化SQL、存储过程以及高级映射。在MyBatis中，ThreadLocal可以用来存储SqlSession对象。由于SqlSession不是线程安全的，因此每个线程都应该拥有自己独立的SqlSession实例。通过ThreadLocal，MyBatis可以方便地实现SqlSession的线程局部存储，确保每个线程都能正确地执行SQL操作。</li>
</ul>
<ol start="5">
<li><strong>分布式系统</strong></li>
</ol>
<ul>
<li>在分布式系统中，ThreadLocal可以用来传递全局ID和分支ID等关键信息。这些ID对于分布式事务的追踪和诊断至关重要。通过将这些ID存储在ThreadLocal中，可以确保它们在整个请求处理过程中都能被正确传递和使用。</li>
</ul>
<ol start="7">
<li><strong>日志框架</strong></li>
</ol>
<ul>
<li>一些日志框架也利用ThreadLocal来存储与当前线程相关的日志上下文信息，如用户ID、操作类型等。这样，在记录日志时，可以方便地获取这些信息，并将其添加到日志条目中，从而方便后续的日志分析和排查问题。</li>
</ul>
<ol start="9">
<li><strong>RPC</strong></li>
</ol>
<ul>
<li>在远程过程调用（RPC）框架中，ThreadLocal用于存储和传递与当前调用相关的上下文信息。这些上下文信息可能包括调用者的身份、调用的参数、超时设置等。通过将这些信息存储在ThreadLocal中，可以确保它们在RPC调用过程中能够被正确地传递和使用。</li>
</ul>
<ol start="11">
<li><strong>Hibernate</strong></li>
</ol>
<ul>
<li>
<p><strong>SessionContext</strong>: 用于存储当前线程的Hibernate会话相关数据，如当前会话、持久化上下文等。</p>
</li>
<li>
<p><strong>TransactionManager</strong>: 管理事务状态，每个线程可以有独立的事务状态，如当前是否在事务中。</p>
</li>
</ul>
<ol start="13">
<li><strong>Tomcat</strong></li>
</ol>
<ul>
<li><strong>ThreadLocal变量</strong>: 用于跟踪每个请求的会话信息、用户认证数据等，确保这些数据不会在请求之间共享。</li>
</ul>
<ol start="15">
<li><strong>Kafka</strong></li>
</ol>
<ul>
<li><strong>Producer and Consumer Threads</strong>: 在消息生产和消费过程中，使用ThreadLocal来存储线程特定的配置和状态信息。</li>
</ul>
<h3 id="threadlocal综合使用案例">ThreadLocal综合使用案例</h3>
<p>由于ThreadLocal使用不当会导致严重的内存泄漏，所以为了更好的避免内存泄漏的发生，我们使用ThreadLocal时遵守以下两个原则：</p>
<ol>
<li>
<p>尽量使用private static final修饰ThreadLocal实例。使用 private 与final 修饰符，主要是尽可能不让他人修改、变更ThreadLocal变量的引用； 使用static 修饰符主要为了确保ThreadLocal实例的全局唯一。</p>
</li>
<li>
<p>ThreadLocal使用完成之后务必调用remove方法。这是简单、有效地避免ThreadLocal引发内存泄漏的方法。</p>
<p>下面用一个综合案例演示一下ThreadLocal的使用。此案例的功能为：记录执行过程中所调用的函数的执行耗时。比如在实际Web开发过程中，一次客户端请求往往会涉及到DB、缓存、RPC等多个耗时调用，一旦出现性能问题，就需要记录一下各个点耗时的时间，从而判断性能的瓶颈所在。 下面的代码定义了三个方法 <code>serviceMethod</code>、<code>daoMethod</code>、<code>rpcMethod</code>，用于模拟实际的DB、RPC等耗时调用，具体的代码如下：</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;package&lt;/span&gt; com.crazymakercircle.mutithread.basic.threadlocal;&lt;br&gt;...省略&lt;span&gt;import&lt;/span&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocalTest2&lt;/span&gt;&lt;br&gt;{&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 模拟业务方法&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;serviceMethod&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//睡眠500ms,模拟执行耗时&lt;/span&gt;&lt;br&gt;        sleepMilliSeconds(&lt;span&gt;500&lt;/span&gt;);&lt;br&gt;&lt;br&gt;        &lt;span&gt;//记录从开始调用到当前这个点（ &#34;point-1&#34;）的耗时&lt;/span&gt;&lt;br&gt;        SpeedLog.logPoint(&lt;span&gt;&#34;point-1 service&#34;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;        &lt;span&gt;//调用DAO方法：模拟dao业务方法&lt;/span&gt;&lt;br&gt;        daoMethod();&lt;br&gt;&lt;br&gt;        &lt;span&gt;//调用RPC方法：模拟RPC远程业务方法&lt;/span&gt;&lt;br&gt;        rpcMethod();&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 模拟dao业务方法&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;daoMethod&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//睡眠400ms,模拟执行耗时&lt;/span&gt;&lt;br&gt;        sleepMilliSeconds(&lt;span&gt;400&lt;/span&gt;);&lt;br&gt;&lt;br&gt;        &lt;span&gt;//记录上一个点（&#34;point-1&#34;）这里（&#34;point-2&#34;）的耗时&lt;/span&gt;&lt;br&gt;        SpeedLog.logPoint(&lt;span&gt;&#34;point-2 dao&#34;&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 模拟RPC远程业务方法&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;rpcMethod&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//睡眠400ms,模拟执行耗时&lt;/span&gt;&lt;br&gt;        sleepMilliSeconds(&lt;span&gt;600&lt;/span&gt;);&lt;br&gt;&lt;br&gt;        &lt;span&gt;//记录上一个点（&#34;point-2&#34;）这里（&#34;point-3&#34;）的耗时&lt;/span&gt;&lt;br&gt;        SpeedLog.logPoint(&lt;span&gt;&#34;point-3 rpc&#34;&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;    ...省略不相干代码&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>为了能灵活地记录各个执行埋点的耗时，这里定义了一个SpeedLog类。该类含有一个ThreadLocal类型的、初始值为一个Map&lt;String, Long&gt;实例的“线程本地变量”，名字叫做TIME_RECORD_LOCAL。 如果要记录某个函数的调用耗时，就需要进行耗时埋点，具体的方法为logPoint(String point)。该方法会操作TIME_RECORD_LOCAL本地变量，在其中增加一次耗时记录：Key为耗时埋点的名称，值为当前时间和上一次记录时间的差值，也就是上一次埋点到本次埋点之间的调用耗时。 SpeedLog类的代码，大致如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;package&lt;/span&gt; com.crazymakercircle.mutithread.basic.threadlocal;&lt;br&gt;...省略&lt;span&gt;import&lt;/span&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;SpeedLog&lt;/span&gt;&lt;br&gt;{&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 记录调用耗时的本地Map变量&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;Map&amp;lt;String, Long&amp;gt;&amp;gt;&lt;br&gt; TIME_RECORD_LOCAL =ThreadLocal.withInitial(SpeedLog::initialStartTime);&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 记录调用耗时的本地Map变量的初始化方法&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; Map&amp;lt;String, Long&amp;gt; &lt;span&gt;initialStartTime&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        Map&amp;lt;String, Long&amp;gt; map = &lt;span&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();&lt;br&gt;        map.put(&lt;span&gt;&#34;start&#34;&lt;/span&gt;, System.currentTimeMillis());&lt;br&gt;        map.put(&lt;span&gt;&#34;last&#34;&lt;/span&gt;, System.currentTimeMillis());&lt;br&gt;        &lt;span&gt;return&lt;/span&gt; map;&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 开始耗时记录&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;beginSpeedLog&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        Print.fo(&lt;span&gt;&#34;开始耗时记录&#34;&lt;/span&gt;);&lt;br&gt;        TIME_RECORD_LOCAL.get();&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 结束耗时记录&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;endSpeedLog&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        TIME_RECORD_LOCAL.remove();&lt;br&gt;        Print.fo(&lt;span&gt;&#34;结束耗时记录&#34;&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 耗时埋点&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;logPoint&lt;/span&gt;(String point)&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//获取上一次的时间&lt;/span&gt;&lt;br&gt;        Long last = TIME_RECORD_LOCAL.get().get(&lt;span&gt;&#34;last&#34;&lt;/span&gt;);&lt;br&gt;        &lt;span&gt;//计算上一次埋点到当前埋点的耗时&lt;/span&gt;&lt;br&gt;        Long cost = System.currentTimeMillis() - last;&lt;br&gt;&lt;br&gt;        &lt;span&gt;//保存上一次埋点到当前埋点的耗时&lt;/span&gt;&lt;br&gt;        TIME_RECORD_LOCAL.get().put(point + &lt;span&gt;&#34; cost:&#34;&lt;/span&gt;, cost);&lt;br&gt;&lt;br&gt;         &lt;span&gt;//保存当前时间，供下一次埋点使用&lt;/span&gt;&lt;br&gt;        TIME_RECORD_LOCAL.get().put(&lt;span&gt;&#34;last&#34;&lt;/span&gt;, System.currentTimeMillis());&lt;br&gt;    }&lt;br&gt;    ...省略不相干代码&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>下面是一个测试用例，演示一下在 serviceMethod、daoMethod、rpcMethod三个模拟方法的调用过程中，其耗时的记录和输出，具体的代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;package&lt;/span&gt; com.crazymakercircle.mutithread.basic.threadlocal;&lt;br&gt;...省略&lt;span&gt;import&lt;/span&gt;&lt;br&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocalTest2&lt;/span&gt;&lt;br&gt;{&lt;br&gt;&lt;br&gt;    &lt;span&gt;/**&lt;br&gt;     * 测试用例：线程方法调用的耗时&lt;br&gt;     */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;@org&lt;/span&gt;.junit.Test&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;testSpeedLog&lt;/span&gt;() &lt;span&gt;throws&lt;/span&gt; InterruptedException&lt;br&gt;    {&lt;br&gt;        Runnable runnable = () -&amp;gt;&lt;br&gt;        {&lt;br&gt;            &lt;span&gt;//开始耗时记录，保存当前时间&lt;/span&gt;&lt;br&gt;            SpeedLog.beginSpeedLog();&lt;br&gt;            &lt;span&gt;//调用模拟业务方法&lt;/span&gt;&lt;br&gt;            serviceMethod();&lt;br&gt;            &lt;span&gt;//打印耗时&lt;/span&gt;&lt;br&gt;             SpeedLog.printCost();&lt;br&gt;            &lt;span&gt;//结束耗时记录&lt;/span&gt;&lt;br&gt;            SpeedLog.endSpeedLog();&lt;br&gt;&lt;br&gt;        };&lt;br&gt;        &lt;span&gt;new&lt;/span&gt; Thread(runnable).start();&lt;br&gt;        sleepSeconds(&lt;span&gt;10&lt;/span&gt;);&lt;span&gt;//等待10s看结果&lt;/span&gt;&lt;br&gt;    }&lt;br&gt;    ...省略不相干代码&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>运行以上用例，三个模拟方法 serviceMethod、daoMethod、rpcMethod的耗时输出如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;[SpeedLog.beginSpeedLog]：开始耗时记录&lt;br&gt;[SpeedLog.printCost]：start =&amp;gt;&lt;span&gt;1600347227334&lt;/span&gt;&lt;br&gt;[SpeedLog.printCost]：point-&lt;span&gt;1&lt;/span&gt; service cost: =&amp;gt;&lt;span&gt;500&lt;/span&gt;&lt;br&gt;[SpeedLog.printCost]：point-&lt;span&gt;2&lt;/span&gt; dao cost: =&amp;gt;&lt;span&gt;401&lt;/span&gt;&lt;br&gt;[SpeedLog.printCost]：point-&lt;span&gt;3&lt;/span&gt; rpc cost: =&amp;gt;&lt;span&gt;600&lt;/span&gt;&lt;br&gt;[SpeedLog.printCost]：last =&amp;gt;&lt;span&gt;1600347228835&lt;/span&gt;&lt;br&gt;[SpeedLog.endSpeedLog]：结束耗时记录&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>以上案例中，将ThreadLocal变量声明成为<code>private static final</code>的形式，使得外部不能直接访问，外部能访问的是将ThreadLocal变量封装之后的接口函数如beginSpeedLog( )、logPoint(String point)、endSpeedLog( )等等。 总之，使用ThreadLocal能实现每个线程都有一份变量的本地值，其原因是由于每个线程都有自己独立的ThreadLocalMap空间，本质上属于以空间换时间的设计思路，该设计思路属于了另一种意义的 “无锁编程”。</p>
<h3 id="threadlocal-使用总结">ThreadLocal 使用总结</h3>
<p>总结起来，ThreadLocal在实际项目中的应用广泛且实用，但同时也需注意其潜在的风险和挑战。通过遵循最佳实践，合理设计和管理ThreadLocal变量，我们能够在多线程环境下高效地解决数据隔离问题，同时保持代码简洁易懂，确保系统稳定性和高性能运行。</p>
<h2 id="threadlocal的实现原理">ThreadLocal的实现原理</h2>
<p>在早期的JDK版本中，ThreadLocal的内部结构是一个Map，其中每一个线程实例作为Key，线程在“线程本地变量”中绑定的值为Value（本地值）。早期版本中的Map结构，其拥有者为ThreadLocal，每一个ThreadLocal实例，拥有一个Map实例。</p>
<p>在JDK8版本中，ThreadLocal的内部结构发生了演进，虽然还是使用了Map结构，但是Map结构的拥有者已经发生了变化，其拥有者为Thread（线程）实例，每一个Thread实例，拥有一个Map实例。另外，Map结构的Key值也发生了变化：新的Key为ThreadLocal实例。</p>
<p>在JDK8版本中，每一个Thread线程内部都有一个Map(ThreadLocalMap)，因为如我们给一个Thread创建多个Threadlocal实列，然乎放置本地数据，那么当前线程的ThreadLocalMap中就会有多个“Key-Value对”，其中ThreadLocal实例为key，本地数据为Value。</p>
<p>在代码的层面来说，新版本的ThreadLocalMap还是由ThreadLocal类维护的，由ThreadLocal负责ThreadLocalMap实例的获取、创建，并从中设置本地值、获取本地值。所以ThreadLocalMap还寄存于ThreadLocal内部，而并没有被迁移到Thread内部。</p>
<p>ThreadLocal内部使用ThreadLocalMap来保存每个线程的变量副本。每个Thread都持有一个ThreadLocalMap的引用，这个map的key是ThreadLocal实例本身，value是线程变量副本。</p>
<p>当线程首次调用ThreadLocal的get()或set()方法时，ThreadLocalMap会被创建并关联到当前线程。此后，线程就可以通过ThreadLocal实例的get()和set()方法访问自己的线程局部变量了。</p>
<p>简单来说：ThreadLocal 就是一种以<code>空间换时间</code>的做法，在每个 Thread 里面维护了一个以开放定址法实现的ThreadLocal.ThreadLocalMap，把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了。</p>
<h3 id="threadlocal内部结构演进">ThreadLocal内部结构演进</h3>
<p>在早期的JDK版本中，ThreadLocal的内部结构是一个Map，其中每一个线程实例作为Key，线程在“线程本地变量”中绑定的值为Value（本地值）。早期版本中的Map结构，其拥有者为<code>ThreadLocal</code>，每一个ThreadLocal实例，拥有一个<code>Map</code>实例。</p>
<p>JDK1.7的ThreadLocalMap 内部结构，大致如下：</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJY7O4JQMxFxic6mW94s141yNLhLNDrO5QlJYYjicxUeice8TfkfZSEwAicg/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>在JDK8版本中，ThreadLocal的内部结构发生了演进，虽然还是使用了Map结构，但是Map结构的拥有者已经发生了变化，其拥有者为<code>Thread（线程）实例</code>，每一个Thread实例，拥有一个<code>Map</code>实例。另外，Map结构的Key值也发生了变化：新的<code>Key为ThreadLocal实例</code>。</p>
<p>JDK1.8的ThreadLocalMap 内部结构，大致如下：</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJytBKZ4KfQq0SSoDyZ7TyvtCl0aHHx2dA0cLRCphV2Y362c0Gmz48pA/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>在JDK8版本中，每一个Thread线程内部都有一个Map(<code>ThreadLocalMap</code>)，因为如我们给一个Thread创建多个Threadlocal实列，然乎放置本地数据，那么当前线程的ThreadLocalMap中就会有多个“Key-Value对”，其中<code>ThreadLocal实例为key</code>，<code>本地数据为Value</code>。</p>
<p>在代码的层面来说，新版本的ThreadLocalMap还是由ThreadLocal类维护的，由ThreadLocal负责ThreadLocalMap实例的获取、创建，并从中设置本地值、获取本地值。</p>
<p>所以在代码维度，ThreadLocalMap还寄存于ThreadLocal内部，而并没有被迁移到Thread内部。</p>
<p>通过ThreadLocalMap，每一个thread线程在获取本地值时，将ThreadLocal实例作为Key从自己拥有的ThreadLocalMap中获取值，别的线程无法访问自己的ThreadLocalMap实例，自己也无法访问别人ThreadLocalMap实例，达到相互隔离，互不干扰。</p>
<p>jdk1.8版本ThreadLocalMap 与早期版本的ThreadLocalMap实现相比，主要的变化为：</p>
<ul>
<li>
<p><strong>拥有者发生了变化</strong>：新版本的ThreadLocalMap拥有者为<code>Thread</code>，早期版本的ThreadLocalMap拥有者为<code>ThreadLocal</code>。</p>
</li>
<li>
<p><strong>Key发生了变化</strong>：新版本的Key为<code>ThreadLocal</code>实例，早期版本的Key为<code>Thread</code>实例。</p>
</li>
</ul>
<p>jdk1.8版本ThreadLocalMap 与早期版本的ThreadLocalMap实现相比，<code>新版本的主要优势为</code>：</p>
<p>（1）<strong>每个ThreadLocalMap存储的“Key-Value对”数量变少</strong>。</p>
<ul>
<li>
<p>早期版本的“Key-Value对”数量与线程个数强关联，如果线程数量多，则ThreadLocalMap存储“Key-Value对”数量也多。</p>
</li>
<li>
<p>新版本的ThreadLocalMap的Key 为ThreadLocal实例，多线程情况下ThreadLocal实例比线程数少。</p>
</li>
</ul>
<p>（2）<strong>ThreadLocalMap拥有者为Thread，降低内存消耗</strong>。</p>
<ul>
<li>
<p>早期版本ThreadLocalMap的拥有者为ThreadLocal，在Thread（线程）实例销毁后，ThreadLocalMap还是存在的；</p>
</li>
<li>
<p>新版本的ThreadLocalMap的拥有者为Thread，现在当Thread实例销毁后，ThreadLocalMap也会随之销毁，在一定程度上能减少内存的消耗。</p>
</li>
</ul>
<h3 id="threadlocalmap对象和entry是什么">ThreadLocalMap对象和Entry是什么</h3>
<p>ThreadLocal的操作都是基于<code>ThreadLocalMap</code>展开的，而<code>ThreadLocalMap</code>是ThreadLocal的一个静态内部类，其实现了一套简单的Map结构（比HashMap简单）。</p>
<p>ThreadLocalMap内部维护Entry数组，作为ThreadLocalMap条目数组，作为散列表使用，如下图：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJlJnpDGrVibStThKsvLhfNv3QXEG3icwmwXD78nb3WPgtnm9zIERYicqjw/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<h3 id="threadlocal的结构模型">ThreadLocal的结构模型</h3>
<p>以jdk1.8的ThreadLocal 为标准， 总结一下 ThreadLocal的结构模型。</p>
<p>每个Thread都有一个 ThreadLocalMap 结构，其中就保存着当前线程所持有的所有 ThreadLocal。</p>
<p>ThreadLocal 本身只是一个引用，没有直接保存值，值是保存在 ThreadLocalMap 中，ThreadLocal 作为 key，值（实际保存的数据）作为 value。</p>
<p>可以用下面的图来概括：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJcYF9Zlb4XTtrjVL6JUtenU5rJIJIAmZ7ZkeEGLT2YibotIzcTL8kmSQ/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<h3 id="threadlocal源码分析">ThreadLocal源码分析</h3>
<p>ThreadLocal的源码提供的方法不多，主要的方法有：<code>set(T value)方法</code>、<code>get( )方法</code>、<code>remove( )方法</code>、<code>initialValue( )方法</code>。</p>
<h4 id="sett-value方法">set(T value)方法</h4>
<p><code>set(T value)方法</code>用于设置“线程本地变量”在当前线程的ThreadLocalMap中对应的值，相当于设置线程本地值，其核心源码如下：</p>
<pre tabindex="0"><code>    &lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;set&lt;/span&gt;(T value) {&lt;br&gt;        &lt;span&gt;//获取当前线程对象&lt;/span&gt;&lt;br&gt;        Thread t = Thread.currentThread(); &lt;br&gt;&lt;br&gt;        &lt;span&gt;//获取当前线程的ThreadLocalMap 成员&lt;/span&gt;&lt;br&gt;        ThreadLocalMap map = getMap(t);&lt;br&gt;&lt;br&gt;        &lt;span&gt;//判断map是否存在&lt;/span&gt;&lt;br&gt;        &lt;span&gt;if&lt;/span&gt; (map != &lt;span&gt;null&lt;/span&gt;) &lt;br&gt;        { &lt;br&gt;                &lt;span&gt;//value被绑定到threadLocal实例&lt;/span&gt;&lt;br&gt;            map.set(&lt;span&gt;this&lt;/span&gt;, value);   &lt;br&gt;        }&lt;br&gt;        &lt;span&gt;else&lt;/span&gt;&lt;br&gt;        {&lt;br&gt;            &lt;span&gt;// 如果当前线程没有ThreadLocalMap成员实例&lt;/span&gt;&lt;br&gt;            &lt;span&gt;// 创建一个ThreadLocalMap实例，然后，作为成员关联到t（thread实例）&lt;/span&gt;&lt;br&gt;            createMap(t, value);&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;// 获取线程t的ThreadLocalMap成员&lt;/span&gt;&lt;br&gt;    ThreadLocalMap &lt;span&gt;getMap&lt;/span&gt;(Thread t) {&lt;br&gt;        &lt;span&gt;return&lt;/span&gt; t.threadLocals;&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;// 线程t创建一个ThreadLocalMap成员&lt;/span&gt;&lt;br&gt;    &lt;span&gt;//并为新的Map成员设置第一个Key-Value对，Key为当前的ThreadLocal实例&lt;/span&gt;&lt;br&gt;    &lt;span&gt;void&lt;/span&gt; &lt;span&gt;createMap&lt;/span&gt;(Thread t, T firstValue) {&lt;br&gt;        t.threadLocals = &lt;span&gt;new&lt;/span&gt; ThreadLocalMap(&lt;span&gt;this&lt;/span&gt;, firstValue);&lt;br&gt;    }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>通过以上的源码，可以看出<code>set(T value)方法</code>的执行流程，大致如下：</p>
<blockquote>
<ul>
<li>
<p>获得当前线程，然后获得当前线程的ThreadLocalMap成员，暂存于map变量。</p>
</li>
<li>
<p>如果map不为空，则将Value设置到map中，当前的Threadlocal作为key。</p>
</li>
<li>
<p>如果map为空，给该线程创建map，然后设置第一个“Key-Value对”，Key为当前的ThreadLocal实例，Value为set方法的参数value值。</p>
</li>
</ul>
</blockquote>
<h4 id="get-方法">get( )方法</h4>
<p><code>get( )方法</code>用于获取“线程本地变量”在当前线程的<code>ThreadLocalMap</code>中对应的值，相当于获取线程本地值，其核心源码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; T &lt;span&gt;get&lt;/span&gt;() {&lt;br&gt;    &lt;span&gt;//获得当前线程对象&lt;/span&gt;&lt;br&gt;    Thread t = Thread.currentThread();&lt;br&gt;    &lt;span&gt;//获得线程对象的ThreadLocalMap 内部成员&lt;/span&gt;&lt;br&gt;    ThreadLocalMap map = getMap(t);&lt;br&gt;&lt;br&gt;   &lt;span&gt;// 如果当前线程的内部map成员存在&lt;/span&gt;&lt;br&gt;   &lt;span&gt;if&lt;/span&gt; (map != &lt;span&gt;null&lt;/span&gt;) {&lt;br&gt;        &lt;span&gt;// 以当前threadlocal为Key,尝试获得条目&lt;/span&gt;&lt;br&gt;        ThreadLocalMap.Entry e = map.getEntry(&lt;span&gt;this&lt;/span&gt;);&lt;br&gt;       &lt;span&gt;// 条目存在&lt;/span&gt;&lt;br&gt;        &lt;span&gt;if&lt;/span&gt; (e != &lt;span&gt;null&lt;/span&gt;) {&lt;br&gt;            T result = (T)e.value;&lt;br&gt;            &lt;span&gt;return&lt;/span&gt; result;&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;    &lt;span&gt;// 如果当前线程对应map不存在&lt;/span&gt;&lt;br&gt;    &lt;span&gt;//或者map存在，但是当前threadlocal实例没有对应的Key-Value，返回初始值&lt;/span&gt;&lt;br&gt;    &lt;span&gt;return&lt;/span&gt; setInitialValue();&lt;br&gt;}&lt;br&gt;&lt;br&gt;&lt;span&gt;// 设置threadlocal关联的初始值并返回&lt;/span&gt;&lt;br&gt;&lt;span&gt;private&lt;/span&gt; T &lt;span&gt;setInitialValue&lt;/span&gt;() {&lt;br&gt;    &lt;span&gt;//调用初始化钩子函数，获取初始值&lt;/span&gt;&lt;br&gt;    T value = initialValue();&lt;br&gt;    Thread t = Thread.currentThread();&lt;br&gt;    ThreadLocalMap map = getMap(t);&lt;br&gt;    &lt;span&gt;if&lt;/span&gt; (map != &lt;span&gt;null&lt;/span&gt;)&lt;br&gt;        map.set(&lt;span&gt;this&lt;/span&gt;, value);&lt;br&gt;    &lt;span&gt;else&lt;/span&gt;&lt;br&gt;        createMap(t, value);&lt;br&gt;    &lt;span&gt;return&lt;/span&gt; value;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>通过以上的源码，可以看出<code>T get()方法</code>的执行流程，大致如下：</p>
<blockquote>
<ul>
<li>
<p>先尝试获得当前线程，然后获得当前线程的ThreadLocalMap成员，暂存于map变量。</p>
</li>
<li>
<p>如果获得的map不为空，以当前threadlocal实例为Key尝试获得map中的Entry（条目）。</p>
</li>
<li>
<p>如果Entry条目不为空，返回Entry中的Value。</p>
</li>
<li>
<p>如果Entry为空，则通过调用initialValue初始化钩子函数获取“ThreadLocal”初始值，并设置在map中。如果map不存在，还会给当前线程创建新ThreadLocalMap成员，并绑定第一个“Key-Value对”。</p>
</li>
</ul>
</blockquote>
<h4 id="remove-方法">remove( )方法</h4>
<p><code>remove()方法</code>用于在当前线程的ThreadLocalMap中，移除“线程本地变量”所对应的值，其核心源码如下：</p>
<pre tabindex="0"><code>     &lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;remove&lt;/span&gt;() {&lt;br&gt;         ThreadLocalMap m = getMap(Thread.currentThread());&lt;br&gt;         &lt;span&gt;if&lt;/span&gt; (m != &lt;span&gt;null&lt;/span&gt;)&lt;br&gt;             m.remove(&lt;span&gt;this&lt;/span&gt;);&lt;br&gt;     }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h4 id="initialvalue--方法">initialValue( ) 方法</h4>
<p>当“线程本地变量”在当前线程的<code>ThreadLocalMap</code>中尚未绑定值时，<code>initialValue( )方法</code>用于获取初始值。其源码如下：</p>
<pre tabindex="0"><code>   &lt;section&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt; T &lt;span&gt;initialValue&lt;/span&gt;() {&lt;br&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;   }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>如果没有调用set直接调用get，则会调用此方法，但是该方法只会被调用一次。</p>
<p>默认情况下，initialValue( )方法返回null，如果不想返回null，可以继承ThreadLocal覆盖此方法。</p>
<p>真的需要继承ThreadLocal去重写initialValue()方法吗？其实没有必要。</p>
<p>JDK已经为大家定义了一个ThreadLocal的内部SuppliedThreadLocal静态子类，并且提供了<code>ThreadLocal.withInitial(…)</code>静态工厂方法，方便大家在定义ThreadLocal实例时设置初始值回调函数。</p>
<p>使用工厂方法构造ThreadLocal实例的代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;ThreadLocal&amp;lt;Foo&amp;gt; LOCAL_FOO = ThreadLocal.withInitial(() -&amp;gt; &lt;span&gt;new&lt;/span&gt; Foo());&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>JDK定义的<code>ThreadLocal.withInitial(…)</code>静态工厂方法，以及其内部子类SuppliedThreadLocal的源码如下：</p>
<pre tabindex="0"><code>    &lt;section&gt;&lt;span&gt;&lt;span&gt;//ThreadLocal工厂方法，可以设置本地变量初始值钩子函数&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &amp;lt;S&amp;gt; ThreadLocal&amp;lt;S&amp;gt; &lt;span&gt;withInitial&lt;/span&gt;(&lt;br&gt;                                Supplier&amp;lt;? extends S&amp;gt; supplier) {&lt;br&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; SuppliedThreadLocal&amp;lt;&amp;gt;(supplier);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span&gt;//内部静态子类&lt;/span&gt;&lt;br&gt;    &lt;span&gt;//继承了ThreadLocal，重写了initialValue()方法，返回钩子函数的值作为初始值&lt;/span&gt;&lt;br&gt;    &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;SuppliedThreadLocal&lt;/span&gt;&amp;lt;&lt;span&gt;T&lt;/span&gt;&amp;gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;ThreadLocal&lt;/span&gt;&amp;lt;&lt;span&gt;T&lt;/span&gt;&amp;gt; {&lt;br&gt;        &lt;span&gt;//保存钩子函数&lt;/span&gt;&lt;br&gt;        &lt;span&gt;private&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; Supplier&amp;lt;? extends T&amp;gt; supplier;&lt;br&gt;        &lt;span&gt;//传入钩子函数&lt;/span&gt;&lt;br&gt;        SuppliedThreadLocal(Supplier&amp;lt;? extends T&amp;gt; supplier) {&lt;br&gt;            &lt;span&gt;this&lt;/span&gt;.supplier = Objects.requireNonNull(supplier);&lt;br&gt;        }&lt;br&gt;&lt;br&gt;        &lt;span&gt;@Override&lt;/span&gt;&lt;br&gt;        &lt;span&gt;protected&lt;/span&gt; T &lt;span&gt;initialValue&lt;/span&gt;() {&lt;br&gt;            &lt;span&gt;return&lt;/span&gt; supplier.get();  &lt;span&gt;//返回钩子函数的值作为初始值&lt;/span&gt;&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h3 id="threadlocalmap源码分析">ThreadLocalMap源码分析</h3>
<p>ThreadLocal的操作都是基于<code>ThreadLocalMap</code>展开的，而<code>ThreadLocalMap</code>是ThreadLocal的一个静态内部类，其实现了一套简单的Map结构（比HashMap简单）。</p>
<h4 id="threadlocalmap的主要成员变量">ThreadLocalMap的主要成员变量</h4>
<p><code>ThreadLocalMap</code>的成员变量与HashMap的成员变量非常类似，其内部的主要成员如下所示：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocal&lt;/span&gt;&amp;lt;&lt;span&gt;T&lt;/span&gt;&amp;gt; {&lt;br&gt;    ...省略其他                            &lt;br&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocalMap&lt;/span&gt; {  &lt;br&gt;          &lt;span&gt;//Map的条目数组，作为散列表使用&lt;/span&gt;&lt;br&gt;        &lt;span&gt;private&lt;/span&gt; Entry[] table;&lt;br&gt;          &lt;span&gt;//Map的条目初始容量16&lt;/span&gt;&lt;br&gt;         &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; INITIAL_CAPACITY = &lt;span&gt;16&lt;/span&gt;;&lt;br&gt;        &lt;span&gt;//Map的条目数量 &lt;/span&gt;&lt;br&gt;        &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; size = &lt;span&gt;0&lt;/span&gt;;&lt;br&gt;       &lt;span&gt;//扩容因子&lt;/span&gt;&lt;br&gt;        &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; threshold; &lt;br&gt;&lt;br&gt;        &lt;span&gt;//Map的条目类型，一个静态的内部类&lt;/span&gt;&lt;br&gt;       &lt;span&gt;// Entry 继承子WeakReference,Key为ThreadLocal实例&lt;/span&gt;&lt;br&gt;       &lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;Entry&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;WeakReference&lt;/span&gt;&amp;lt;&lt;span&gt;ThreadLocal&lt;/span&gt;&amp;lt;?&amp;gt;&amp;gt; {&lt;br&gt;            Object value; &lt;span&gt;//条目的值&lt;/span&gt;&lt;br&gt;            Entry(ThreadLocal&amp;lt;?&amp;gt; k, Object v) {&lt;br&gt;                &lt;span&gt;super&lt;/span&gt;(k);&lt;br&gt;                value = v;&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;    ...省略其他        &lt;br&gt;} &lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>ThreadLocal源码中<code>get（）</code>、<code>set（ ）</code>、<code>remove（）方法</code>都涉及到ThreadLocalMap的方法调用，主要调用了ThreadLocalMap的如下几个函数：</p>
<blockquote>
<ul>
<li>
<p>set(ThreadLocal<?> key, Object value) ：向Map实例设置“Key-Value对”。</p>
</li>
<li>
<p>getEntry(ThreadLocal)：从Map实例获取Key（ThreadLocal实例）所属的Entry。</p>
</li>
<li>
<p>remove(ThreadLocal)：根据Key（ThreadLocal实例）从Map实例移除所属的Entry。</p>
</li>
</ul>
</blockquote>
<p>作为参考，这里只将<code>ThreadLocalMap</code>的<code>set(ThreadLocal&lt;?&gt; key, Object value) 方法</code>的代码以注释的形式做一个简单的分析，具体如下：</p>
<pre tabindex="0"><code>        &lt;section&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;set&lt;/span&gt;(ThreadLocal&amp;lt;?&amp;gt; key, Object value) {&lt;br&gt;            Entry[] tab = table;&lt;br&gt;            &lt;span&gt;int&lt;/span&gt; len = tab.length;&lt;br&gt;&lt;br&gt;             &lt;span&gt;//根据key的HashCode，找到key在数组上的槽点i&lt;/span&gt;&lt;br&gt;             &lt;span&gt;int&lt;/span&gt; i = key.threadLocalHashCode &amp;amp; (len-&lt;span&gt;1&lt;/span&gt;);&lt;br&gt;&lt;br&gt;            &lt;span&gt;// 从槽点i开始向后循环搜索，找空余槽点（空余位置）或者找现有槽点&lt;/span&gt;&lt;br&gt;            &lt;span&gt;//如果没有现有槽点，则必定有空余槽点，因为没有空间时会扩容 &lt;/span&gt;&lt;br&gt;            &lt;span&gt;for&lt;/span&gt; (Entry e = tab[i];   e != &lt;span&gt;null&lt;/span&gt;; &lt;br&gt;                                     e = tab[i = nextIndex(i, len)]) {&lt;br&gt;                ThreadLocal&amp;lt;?&amp;gt; k = e.get();&lt;br&gt;                &lt;span&gt;//找到现有槽点：Key值为ThreadLocal实例&lt;/span&gt;&lt;br&gt;                &lt;span&gt;if&lt;/span&gt; (k == key) {&lt;br&gt;                    e.value = value;&lt;br&gt;                    &lt;span&gt;return&lt;/span&gt;;&lt;br&gt;                }&lt;br&gt;                &lt;span&gt;//找到异常槽点：槽点被GC掉，重设Key值和Value值 &lt;/span&gt;&lt;br&gt;                &lt;span&gt;if&lt;/span&gt; (k == &lt;span&gt;null&lt;/span&gt;) {&lt;br&gt;                    replaceStaleEntry(key, value, i);&lt;br&gt;                    &lt;span&gt;return&lt;/span&gt;;&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;            &lt;span&gt;//没有找到现有的槽点，增加新的Entry&lt;/span&gt;&lt;br&gt;            tab[i] = &lt;span&gt;new&lt;/span&gt; Entry(key, value);&lt;br&gt;            &lt;span&gt;//设置ThreadLocal数量&lt;/span&gt;&lt;br&gt;            &lt;span&gt;int&lt;/span&gt; sz = ++size;&lt;br&gt;&lt;br&gt;            &lt;span&gt;//清理Key为null的无效Entry&lt;/span&gt;&lt;br&gt;            &lt;span&gt;//没有可清理的Entry，并且现有条目数量大于扩容因子值，进行扩容&lt;/span&gt;&lt;br&gt;            &lt;span&gt;if&lt;/span&gt; (!cleanSomeSlots(i, sz) &amp;amp;&amp;amp; sz &amp;gt;= threshold)&lt;br&gt;                rehash();&lt;br&gt;        }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h4 id="entry的key需要使用弱引用">Entry的Key需要使用弱引用</h4>
<p><code>Entry</code>用于保存ThreadLocalMap的“<code>Key-Value</code>”条目，但是Entry使用了对Threadlocal实例进行包装之后的弱引用（<code>WeakReference</code>）作为Key，其代码如下：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;// Entry 继承了WeakReference,并使用WeakReference对Key进行包装&lt;/span&gt;&lt;br&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;Entry&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;WeakReference&lt;/span&gt;&amp;lt;&lt;span&gt;ThreadLocal&lt;/span&gt;&amp;lt;?&amp;gt;&amp;gt; {&lt;br&gt;    Object value; &lt;span&gt;//值&lt;/span&gt;&lt;br&gt;    Entry(ThreadLocal&amp;lt;?&amp;gt; k, Object v) {&lt;br&gt;        &lt;span&gt;super&lt;/span&gt;(k);  &lt;span&gt;//使用WeakReference对Key值进行包装&lt;/span&gt;&lt;br&gt;        value = v;&lt;br&gt;    }&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>为什么Entry需要使用弱引用对Key进行包装，而不是直接使用Threadlocal实例作为Key呢？</p>
<p>这个问题有点儿复杂，如果要分析清楚还有点难度。这里从一个简单的例子入手，假设有一个方法funcA( )创建了一个“线程本地变量”，具体如下：</p>
<pre tabindex="0"><code>    &lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;funcA&lt;/span&gt;()&lt;br&gt;    {&lt;br&gt;        &lt;span&gt;//创建一个线程本地变量&lt;/span&gt;&lt;br&gt;        ThreadLocal local = &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Integer&amp;gt;(); &lt;br&gt;        &lt;span&gt;//设置值&lt;/span&gt;&lt;br&gt;        local.set(&lt;span&gt;100&lt;/span&gt;);   &lt;br&gt;        &lt;span&gt;//获取值&lt;/span&gt;&lt;br&gt;        local.get();  &lt;br&gt;        &lt;span&gt;//函数末尾&lt;/span&gt;&lt;br&gt;    }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>当线程tn执行funcA方法到其末尾时，线程tn相关的JVM栈内存以及内部ThreadLocalMap成员的结构，大致如图1-20所示。</p>
<p>线程tn调用funcA（）方法新建了一个ThreadLocal实例，并使用local 局部变量指向这个实例，并且此local 是强引用；</p>
<p>在调用<code>local.set（100）</code>之后，线程tn的ThreadLocalMap成员内部会新建一个Entry实例，其Key 以弱引用包装的方式指向ThreadLocal实例。</p>
<p>当线程tn执行完funcA方法后，funcA的方法栈帧将被销毁，强引用 local 的值也就没有了，但此时线程的ThreadLocalMap里的对应的Entry的 Key 引用还指向了<code>ThreadLocal</code>实例。</p>
<p>若Entry的 Key 引用是<code>强引用</code>，<code>就会导致Key引用指向的ThreadLocal实例、及其Value值都不能被GC回收</code>，这将造成严重的<code>内存泄露</code>，具体如图1-21所示。</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJekMwX7UptWj2UuZfKib31lTDViaNP4X6Lx6ytbWnQWlFOArLPdUm3fCw/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>                                         图1-20 当线程tn执行funcA方法末尾时内存结构</p>
<p>                         
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJicmeCf6iaAgrNRw1TLPCtViciaAs4PCSSErS1UWTQFVRH563FSZDCStjMQ/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>                         图1-21 若Entry的Key为强引用将导致ThreadLocal实例不能回收</p>
<p><strong>什么是弱引用呢？</strong></p>
<blockquote>
<p>仅有弱引用（WeakReference）指向的对象，只能生存到下一次垃圾回收之前。</p>
<p>换句话说，当GC发生时，不管内存够不够，仅有弱引用所指向的对象都会被回收。而拥有强引用指向的对象，则不会被直接回收。</p>
</blockquote>
<p><strong>什么是内存泄漏呢？</strong></p>
<blockquote>
<p>不再用到的内存，没有及时释放，就叫做内存泄漏。</p>
<p>对于持续运行的服务进程，必须及时释放内存，否则内存占用率越来越高，轻则影响系统性能，重则导致进程崩溃。</p>
</blockquote>
<p>由于ThreadLocalMap中Entry的 Key 使用了弱引用，在下次GC发生时，就可以使那些没有被其他强引用指向、仅被Entry的Key 所指向的ThreadLocal实例能被顺利回收。并且，在Entry的Key引用被回收之后，其Entry的Key值变为null。后续当ThreadLocal的<code>get</code>、<code>set</code>或<code>remove</code>被调用时，ThreadLocalMap的内部代码会清除这些Key为null的Entry，从而完成相应的内存释放。</p>
<p>总结一下，使用ThreadLocal会发生<code>内存泄漏</code>的前提条件：</p>
<blockquote>
<ul>
<li>
<p>线程长时间运行而没有被销毁。<code>线程池</code>中的Thread实例很容易满足此条件。</p>
</li>
<li>
<p>ThreadLocal引用被设置为null，且后续在同一Thread实例的执行期间，没有发生对其他ThreadLocal实例的get、set或remove操作。</p>
</li>
</ul>
</blockquote>
<p>只要存在一个针对任何ThreadLocal实例的get、set或remove操作，就会触发Thread实例拥有的ThreadLocalMap的Key为null的Entry清理工作，释放掉ThreadLocal弱引用为null的Entry。</p>
<p>综合以上两条可以看出：使用ThreadLocal出现内存泄漏还是比较容易的。但是一般公司对如何使用ThreadLocal都有编程规范要求，只要大家按照规范编写程序，也没有那么容易发生内存泄漏。</p>
<h2 id="面试难点threadlocal造成内存泄露的问题">面试难点：ThreadLocal造成内存泄露的问题</h2>
<p><strong>什么是内存泄漏？</strong></p>
<blockquote>
<p>不再用到的内存，没有及时释放，就叫做内存泄漏。</p>
<p>对于持续运行的服务进程，必须及时释放内存，否则内存占用率越来越高，轻则影响系统性能，重则导致进程崩溃。</p>
</blockquote>
<h3 id="threadlocal是怎么造成内存泄露的呢">ThreadLocal是怎么造成内存泄露的呢？</h3>
<p>如果发生了下面的情况：</p>
<ul>
<li>
<p>如果ThreadLocal是null了，也就是要被GC回收了，</p>
</li>
<li>
<p>但是此时我们的ThreadLocalMap（thread 的内部属性）生命周期和Thread的一样，它不会回收，这时候就出现了一个现象。</p>
</li>
</ul>
<p>总之，就是ThreadLocalMap的key没了，但是value还在，这就造成了内存泄漏。</p>
<p>我们细致的分析一下。</p>
<h3 id="threadlocal-有两个引用链">ThreadLocal 有两个引用链</h3>
<p>ThreadLocalMap中的Key就是ThreadLocal对象，ThreadLocal 有两个引用链：</p>
<ul>
<li>
<p><strong>一个引用链是栈内存中ThreadLocal引用</strong>：</p>
</li>
<li>
<p><strong>一个引用链是ThreadLocalMap中的Key对它的引用</strong>：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJAJylDOjISNXhWoMuCyFY9MNe5gCpZlX4dDvcaZNIPeZf3hsnXvsI8g/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
</li>
</ul>
<p>而对于Value（实际保存的值）来说，它的引用链只有一条，就是从Thread对象引用过来的，如下图：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJT1pKHw46kCM1DaibDI7zgibMnFZuc1L2gVUFAiaDOuibgnxlnNWXBvA7UA/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>上述过程分析后，就会出现如下的两种情况：</p>
<p>情况1： key的泄漏</p>
<p>情况2： value的泄漏</p>
<h3 id="情况1key的泄漏">情况1：key的泄漏</h3>
<p>栈上的ThreadLocal Ref引用不再使用了，即当前方法结束处理后，这个对象引用就不再使用了，</p>
<p>那么，ThreadLocal对象因为还有一条引用链存在，如果是强引用的话，这里就会导致ThreadLocal对象无法被回收，可能导致OOM。
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJpjLKR44qAnB0ib6Yoic1g8c8oYnC7zBm3zUsOXicTmKWrJ9qHRicw9u9xQ/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>情况1 的解决方案，使用弱引用解决 。</p>
<h3 id="情况2-value的泄漏">情况2： value的泄漏</h3>
<p>情况2.假设我们使用了线程池，如果Thread对象一直被占用使用中（<code>如在线程池中被重复使用</code>），但是此时我们的ThreadLocalMap（thread 的内部属性）生命周期和Thread的一样，它不会回收，这时候就出现了一个现象。</p>
<p>这就意味着，Value这条引用链就一直存在，那么就会导致ThreadLocalMap无法被JVM回收，可能导致OOM，如上图。</p>
<p>情况2 ，比较严重。还得另想办法。</p>
<h3 id="情况1的解决方案使用弱引用解决key的内存泄露">情况1的解决方案：使用弱引用，解决key的内存泄露</h3>
<p>从如下ThreadLocal中内部类Entry代码可知：</p>
<p>Entry类的父类是弱引用WeakReference，ThreadLocal的引用k通过 WeakReference 构造方法传递给了 父类WeakReference的构造方法，</p>
<p>从而，ThreadLocalMap中的Key是ThreadLocal的弱引用，通过弱引用来解决内存泄露问题。</p>
<p>具体的代码如下</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;ThreadLocalMap&lt;/span&gt; {&lt;br&gt;        &lt;span&gt;static&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;Entry&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;WeakReference&lt;/span&gt;&amp;lt;&lt;span&gt;ThreadLocal&lt;/span&gt;&amp;lt;?&amp;gt;&amp;gt; {&lt;br&gt;            Object value;&lt;br&gt;            Entry(ThreadLocal&amp;lt;?&amp;gt; k, Object v) {&lt;br&gt;                &lt;span&gt;super&lt;/span&gt;(k); &lt;span&gt;// key为弱引用&lt;/span&gt;&lt;br&gt;                value = v;&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>栈内存中的ThreadLocal Ref引用不再使用了，即当当前方法结束处理后，这个key对象引用就不再使用了，</p>
<p>那么，如果这里 不用弱引用而是强引用的话，这里ThreadLocal对象因为还有一条引用链存在，所以就会导致他无法被回收，可能导致OOM。
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJpjLKR44qAnB0ib6Yoic1g8c8oYnC7zBm3zUsOXicTmKWrJ9qHRicw9u9xQ/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>回顾Java中4种引用类型</p>
<blockquote>
<ol>
<li><strong>强引用（Strong Reference）</strong>：</li>
</ol>
<ul>
<li>
<p>这是最常见的引用类型。一个对象具有强引用，垃圾收集器就不会回收它，即使系统内存空间不足。</p>
</li>
<li>
<p>示例：<code>Object obj = new Object();</code> 在这里，<code>obj</code>就是<code>new Object()</code>的一个强引用。</p>
</li>
</ul>
<ol start="3">
<li><strong>软引用（Soft Reference）</strong>：</li>
</ol>
<ul>
<li>
<p>用来描述一些可能还有用但并非必需的对象。在系统将要发生内存溢出异常前，将会把这些对象列进回收范围之中进行第二次回收。如果这次回收还没有足够的内存，才会抛出内存溢出异常。</p>
</li>
<li>
<p>在Java中，软引用是用来实现内存敏感的高速缓存。</p>
</li>
<li>
<p>示例：使用<code>java.lang.ref.SoftReference</code>类可以创建软引用。</p>
</li>
</ul>
<ol start="5">
<li><strong>弱引用（Weak Reference）</strong>：</li>
</ol>
<ul>
<li>
<p>这里讨论ThreadLocalMap中Entry类的重点。</p>
</li>
<li>
<p>弱引用也是用来描述非必需对象的，它的强度比软引用更弱一些，被弱引用关联的对象只能生存到下一次垃圾收集发生之前。当垃圾收集器工作时，无论当前内存是否足够，都会回收被弱引用关联的对象。</p>
</li>
<li>
<p>在Java中，弱引用是用来描述那些非关键的数据，在Java里用<code>java.lang.ref.WeakReference</code>类来表示。</p>
</li>
<li>
<p>示例：使用<code>java.lang.ref.WeakReference</code>类可以创建弱引用。</p>
</li>
</ul>
<ol start="7">
<li><strong>虚引用（Phantom Reference）</strong>：</li>
</ol>
<ul>
<li>
<p>一个虚引用关联着的对象，在任何时候都可能被垃圾收集器回收，它不能单独用来获取被引用的对象。虚引用必须和引用队列(<code>ReferenceQueue</code>)联合使用。主要用来跟踪对象被垃圾回收的活动。</p>
</li>
<li>
<p>虚引用对于一般的应用程序来说意义不大，主要使用在能比较精确控制Java垃圾收集器的高级场景中。</p>
</li>
<li>
<p>示例：使用<code>java.lang.ref.PhantomReference</code>类可以创建虚引用。</p>
</li>
</ul>
</blockquote>
<p>弱引用也是用来描述非必需对象的，它的强度比软引用更弱一些，被弱引用关联的对象只能生存到下一次垃圾收集发生之前。当垃圾收集器工作时，无论当前内存是否足够，都会回收被弱引用关联的对象。</p>
<p>至此，key的泄漏问题，JDK已经帮我们顺利解决。 </p>
<p>更复杂的是： 如何解决value内存泄露问题？ </p>
<p>这个问题，网上有上万篇文章， 都是抄来抄去， 没有一篇文章写清楚了。</p>
<p>大家看了那些文章，甚至看了很多视频，还是不能理解透彻， 迷迷糊糊的， 说不清楚，也很容易忘了。</p>
<p>尼恩团队看不下去，用咱们的雄厚技术实力（洪荒之力）， 给大家来一次穿透式的解读。 用这个 《ThreadLocal学习圣经》，第一次帮助大家搞清楚。</p>
<h3 id="情况2的解决方案清理策略解决value内存泄露图片httpsmmbizqpiccnsz_mmbiz_pngxlgvgpaib7wn8ablicickcrra5j7agicyrbjibxueyicdoumgergicsyticklt1o2arwrkue9ohm6bgpvgn6gzvp7ouewa640wx_fmtpngfromappmsg">情况2的解决方案：清理策略解决value内存泄露
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJibxueyicDOUmGErgicSyTickLt1O2ArwRkUE9OhM6bgpVgn6GzVP7OuewA/640?wx_fmt=png&amp;from=appmsg" />   
    </h3>
<p>为了解决value内存泄露问题，Java 的 ThreadLocal 实现了两大清理方式：</p>
<ul>
<li>
<p>探测式清理（Proactive Cleanup）</p>
</li>
<li>
<p>启发式清理（Heuristic Cleanup） 。</p>
</li>
</ul>
<h3 id="源码value的-探测式清理-">源码：value的 探测式清理 ：</h3>
<p>当线程调用 <code>ThreadLocal</code>的 <code>get()</code>、<code>set()</code> 或 <code>remove()</code>方法时，会探测式的去触发对 ThreadLocalMap 的清理。</p>
<p>此时，ThreadLocalMap 会检查所有键（ThreadLocal 实例），并移除那些已经被垃圾回收的key键及其对应的value 值。</p>
<p>这种清理是主动的，因为它是在每次操作 ThreadLocal 时进行的。</p>
<p><strong>探测式清理（Proactive Cleanup）如何实现的呢？</strong>：</p>
<p>从当前节点开始遍历数组，将key等于null的entry置为null，key不等于null则rehash重新分配位置，若重新分配上的位置有元素则往后顺延。</p>
<p>注意：这里把清理的开销放到了get、set操作上，如果get的时候无用Entry（Entry的Key为null）特别多，那这次get相对而言就比较慢了。</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; &lt;span&gt;expungeStaleEntry&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; staleSlot) {&lt;br&gt;            Entry[] tab = table;&lt;br&gt;            &lt;span&gt;int&lt;/span&gt; len = tab.length;&lt;br&gt;&lt;br&gt;            &lt;span&gt;// expunge entry at staleSlot&lt;/span&gt;&lt;br&gt;            tab[staleSlot].value = &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;            tab[staleSlot] = &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;            size--;&lt;br&gt;&lt;br&gt;            &lt;span&gt;// Rehash until we encounter null&lt;/span&gt;&lt;br&gt;            Entry e;&lt;br&gt;            &lt;span&gt;int&lt;/span&gt; i;&lt;br&gt;            &lt;span&gt;for&lt;/span&gt; (i = nextIndex(staleSlot, len);&lt;br&gt;                 (e = tab[i]) != &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;                 i = nextIndex(i, len)) {&lt;br&gt;                ThreadLocal&amp;lt;?&amp;gt; k = e.get();&lt;br&gt;                &lt;span&gt;if&lt;/span&gt; (k == &lt;span&gt;null&lt;/span&gt;) {&lt;br&gt;                    &lt;span&gt;// 将k=null的entry置为null&lt;/span&gt;&lt;br&gt;                    e.value = &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;                    tab[i] = &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;                    size--;&lt;br&gt;                } &lt;span&gt;else&lt;/span&gt; {&lt;br&gt;                    &lt;span&gt;// k不为null，则rehash从新分配配置&lt;/span&gt;&lt;br&gt;                    &lt;span&gt;int&lt;/span&gt; h = k.threadLocalHashCode &amp;amp; (len - &lt;span&gt;1&lt;/span&gt;);&lt;br&gt;                    &lt;span&gt;if&lt;/span&gt; (h != i) {&lt;br&gt;                        tab[i] = &lt;span&gt;null&lt;/span&gt;;&lt;br&gt;&lt;br&gt;                        &lt;span&gt;// Unlike Knuth 6.4 Algorithm R, we must scan until&lt;/span&gt;&lt;br&gt;                        &lt;span&gt;// null because multiple entries could have been stale.&lt;/span&gt;&lt;br&gt;                        &lt;span&gt;while&lt;/span&gt; (tab[h] != &lt;span&gt;null&lt;/span&gt;)&lt;br&gt;                            &lt;span&gt;// 重新分配后的位置上有元素则往后顺延。&lt;/span&gt;&lt;br&gt;                            h = nextIndex(h, len);&lt;br&gt;                        tab[h] = e;&lt;br&gt;                    }&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;            &lt;span&gt;return&lt;/span&gt; i;&lt;br&gt;        }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h3 id="源码value的启发式清理">源码：value的启发式清理：</h3>
<p>在 <code>ThreadLocalMap</code> 的 set() 方法中，有一个阈值（默认为 ThreadLocalMap.Entry 数组长度的 1/4）。</p>
<p>当 ThreadLocalMap 中的 Entry 对象被删除（通过键的弱引用被垃圾回收）并且剩余的 Entry 数量大于这个阈值时，会触发一次启发式清理操作。</p>
<p>这种清理是启发式的，因为它不是每次操作都进行，而是基于一定的条件和概率。</p>
<p><strong>启发式清理（Heuristic Cleanup）如何实现？</strong>：</p>
<blockquote>
<p>从当前节点开始，进行do-while循环检查清理过期key，结束条件是连续n次未发现过期key就跳出循环，n是经过位运算计算得出的，可以简单理解为数组长度的2的多少次幂次。</p>
</blockquote>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt; &lt;span&gt;boolean&lt;/span&gt; &lt;span&gt;cleanSomeSlots&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt; i, &lt;span&gt;int&lt;/span&gt; n) {&lt;br&gt;            &lt;span&gt;boolean&lt;/span&gt; removed = &lt;span&gt;false&lt;/span&gt;;&lt;br&gt;            Entry[] tab = table;&lt;br&gt;            &lt;span&gt;int&lt;/span&gt; len = tab.length;&lt;br&gt;            &lt;span&gt;do&lt;/span&gt; {&lt;br&gt;                i = nextIndex(i, len);&lt;br&gt;                Entry e = tab[i];&lt;br&gt;                &lt;span&gt;if&lt;/span&gt; (e != &lt;span&gt;null&lt;/span&gt; &amp;amp;&amp;amp; e.get() == &lt;span&gt;null&lt;/span&gt;) {&lt;br&gt;                    n = len;&lt;br&gt;                    removed = &lt;span&gt;true&lt;/span&gt;;&lt;br&gt;                    &lt;span&gt;// 移除&lt;/span&gt;&lt;br&gt;                    i = expungeStaleEntry(i);&lt;br&gt;                }&lt;br&gt;            } &lt;span&gt;while&lt;/span&gt; ( (n &amp;gt;&amp;gt;&amp;gt;= &lt;span&gt;1&lt;/span&gt;) != &lt;span&gt;0&lt;/span&gt;);&lt;br&gt;            &lt;span&gt;return&lt;/span&gt; removed;&lt;br&gt;        }&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h3 id="业务主动清理手动清除解决内存泄露">业务主动清理：手动清除解决内存泄露</h3>
<p>要知道，ThreadLocal的一个常见问题是内存泄露。</p>
<p>这通常发生在使用线程池的场景中，因为线程池中的线程通常是长期存在的，它们的ThreadLocal变量也不会自动清理，这可能导致内存泄漏。</p>
<p>前面讲了，JDK已经用尽全力去解决了，JDK 用了三个办法，来解决内存泄漏。</p>
<p>尽管有弱引用以及这些清理机制，但最佳实践业务主动清理，</p>
<p>业务上解决这个问题的一个方法是，每当使用完ThreadLocal变量后，显式地调用<code>remove()</code>方法来清除它：</p>
<p>如何业务主动清理？在使用完 ThreadLocal 后显式调用 <code>remove()方法</code>，以确保不再需要的值能够被及时回收，key和value 都同时清理，一锅端。</p>
<p>这样可以避免潜在的内存泄漏问题，并减少垃圾回收的压力。</p>
<p>讲到这里，尼恩团队给大家，用一个大的图总结一下 ThreadLocal的内存泄露与解决方案，具体如下：</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJccCRicc2xZrb9ibK3L8zUiaNEmIAgETcPae0U8IZNgvZ3OXZibpWl5H77g/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>此图，是全网的第一张彻底穿透式的解读 ThreadLocal的内存泄露图。 用这个图，第一次帮助大家搞清楚复杂的 ThreadLocal的内存泄露。</p>
<p>这张图很容易理解，很容易记忆。大家可收藏起来， 面试之前复习一下，<strong>一定能吊打面试官。</strong></p>
<p><strong>不对，是吊死面试官。</strong></p>
<p>尼恩团队用深厚的架构功力，非常喜欢、非常善于把复杂的问题做清晰深入的穿透式梳理比如：</p>
<ul>
<li>
<p>比如Netty的内存池和对象池（那个超级难，很多人穷其一生都搞不懂），</p>
</li>
<li>
<p>比如DDD的建模和落地， </p>
</li>
<li>
<p>比如Caffeine的底层架构，</p>
</li>
<li>
<p>比如高性能葵花宝典</p>
</li>
<li>
<p>等等等等。</p>
</li>
</ul>
<p>掌握这个技术难题，帮助大家提升技术的核心内功。 建议大家去看看尼恩的这些核心内容。</p>
<p>而且，尼恩团队正在用深厚的架构功力， 帮助大家来一个真正的架构版本的AI架构，帮助大家穿透AI架构。</p>
<p>扯远了，言归正传。 </p>
<h2 id="使用threadlocal的性能问题和优化措施">使用ThreadLocal的性能问题和优化措施</h2>
<p>虽然ThreadLocal提供了很方便的线程隔离机制，但有性能损耗的。</p>
<h3 id="threadlocal的性能开销">ThreadLocal的性能开销</h3>
<p>ThreadLocal的性能开销主要来自两个方面：</p>
<blockquote>
<ul>
<li>
<p>ThreadLocalMap的维护。</p>
</li>
<li>
<p>ThreadLocal变量的创建和销毁。</p>
</li>
</ul>
</blockquote>
<p>在使用ThreadLocal时，尤其是在高并发的环境下，要注意其对性能的影响。</p>
<p>因此，在使用ThreadLocal时，要尽量复用、重用ThreadLocal变量，避免在高频率的操作中频繁地创建和销毁它们。`</p>
<h3 id="编程规范推荐使用-static-final-修饰threadlocal对象">编程规范：推荐使用 static final 修饰ThreadLocal对象</h3>
<p>如何 要尽量复用、重用ThreadLocal变量？</p>
<p>编程规范有云：ThreadLocal 实例作为ThreadLocalMap的Key，针对一个线程内所有操作是共享的，所以建议设置static修饰符，以便被所有的对象共享。</p>
<p>由于静态变量会在类第一次被使用时装载，只会分配一次存储空间，此类的所有实例都会共享这个存储空间，所以使用 <code>static</code>修饰ThreadLocal 就会节约内存空间。</p>
<p>另外，为了确保ThreadLocal 实例的唯一性，除了使用static修饰之外，还会使用<code>final</code>进行加强修饰，以防止其在使用过程中发生动态变更。参考的实例如下：</p>
<pre tabindex="0"><code> &lt;section&gt;&lt;span&gt;&lt;span&gt;//推荐使用static final线程本地变量&lt;/span&gt;&lt;br&gt; &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;Foo&amp;gt; LOCAL_FOO = &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Foo&amp;gt;();&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>以上代码，为什么ThreadLocal实例除了添加static final 修饰之后，还常常加上了 <code>private</code>修饰呢？</p>
<p>主要目的是 缩小使用的范围，尽可能不让他人引用。</p>
<p>凡事都有两面性，使用static 、final修饰ThreadLocal实例也会带来副作用： 内存泄漏。</p>
<ul>
<li>
<p>为啥内存泄露又出来了？</p>
</li>
<li>
<p>上面不是解决了吗？</p>
</li>
<li>
<p>呜呜呜 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</p>
</li>
</ul>
<p>由于使用static 、final修饰TheadLocal对象实例， 导致了咱们这个被 ThreadLocalMap中Entry的Key所引用的ThreadLocal对象实例，一直存在强引用。</p>
<p>这里有一个严重后果，这个 使用static 、final修饰TheadLocal对象实例 一直不会被GC，一直存在，一直存在。
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJPNh2V6WYYCB7x3dgCNS8xVr8VkiaA77c2vuoJibu7Ufp1EYy5nj24ibcw/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<h3 id="theadlocal对象实例存在强引用会导致三个彻底失效">TheadLocal对象实例存在强引用，会导致三个彻底失效：</h3>
<p>这个地方，又很重要了。</p>
<p>使用static 、final修饰ThreadLocal实例也会带来副作用： 内存泄漏。</p>
<p>什么副作用呢？ 使用static 、final修饰ThreadLocal实例，导致了两个恶果：</p>
<p>恶果1：导致JDK解决key内存泄露问题的弱引用清理方式彻底失效。</p>
<p>恶果2：导致JDK解决value内存泄露问题的两大清理方式彻底失效。</p>
<ul>
<li>
<p>探测式清理（Proactive Cleanup） 彻底失效</p>
</li>
<li>
<p>启发式清理（Heuristic Cleanup）彻底失效 。
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJD1BF4XP4tZCsRgjuAZNQKib6gSBDBYTnmuNEXdcboUQ2pp6K4fmq0Tg/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
</li>
</ul>
<p>这使得Thread实例内部的ThreadLocalMap中Entry的Key在Thread实例的生命期内将始终保持为非null，从而导致Key所在的Entry不会被自动清空，这就会导致Entry中的Value指向的对象一直存在强引用，Value指向的对象在线程生命期内不会被释放，最终导致内存泄露。</p>
<p>所以，使用static 、final修饰TheadLocal实例，使用完后必须使用<code>remove（）</code>进行手动释放。</p>
<p>如果使用线程池，可以定制线程池的<code>afterExecute</code>方法（任务执行完成之后的钩子方法），在任务执行完成之后，调用TheadLocal实例的<code>remove（）方法</code>对其手动释放，从而实现的其线程内部的Entry得到释放，参考的代码如下：</p>
<pre tabindex="0"><code>    &lt;section&gt;&lt;span&gt;&lt;span&gt;//线程本地变量,用于记录线程异步任务的开始执行时间&lt;/span&gt;&lt;br&gt;  &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;Long&amp;gt; START_TIME= &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;&amp;gt;();&lt;br&gt;     ExecutorService pool = &lt;span&gt;new&lt;/span&gt; ThreadPoolExecutor(&lt;span&gt;2&lt;/span&gt;,&lt;br&gt;            &lt;span&gt;4&lt;/span&gt;, &lt;span&gt;60&lt;/span&gt;,&lt;br&gt;            TimeUnit.SECONDS, &lt;span&gt;new&lt;/span&gt; LinkedBlockingQueue&amp;lt;&amp;gt;(&lt;span&gt;2&lt;/span&gt;)) {&lt;br&gt;           ...省略其他        &lt;br&gt;            &lt;span&gt;//异步任务执行完成之后的钩子方法&lt;/span&gt;&lt;br&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br&gt;            &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;afterExecute&lt;/span&gt;(Runnable target, Throwable t)&lt;br&gt;            {&lt;br&gt;              ...省略其他        &lt;br&gt;                &lt;span&gt;//清空TheadLocal实例的本地值&lt;/span&gt;&lt;br&gt;                startTime.remove();&lt;br&gt;            }&lt;br&gt;  };&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><h2 id="threadlocal升级版1inheritablethreadlocal-可继承本地变量">ThreadLocal升级版1：InheritableThreadLocal 可继承本地变量</h2>
<h3 id="什么是可继承本地变量inheritablethreadlocalitl">什么是可继承本地变量InheritableThreadLocal（ITL）?</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="inheritablethreadlocal的基本使用">InheritableThreadLocal的基本使用</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="inheritablethrealocal的原理分析">InheritableThreaLocal的原理分析</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="inheritablethrealocal所带来的问题">InheritableThreaLocal所带来的问题</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h2 id="threadlocal升级版2transmittablethreadlocal-可透传本地变量">ThreadLocal升级版2：TransmittableThreadLocal 可透传本地变量</h2>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="什么是transmittablethreadlocalttl">什么是TransmittableThreadLocal（TTL）？</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="ttl-使用场景">TTL 使用场景</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="transmittablethreadlocal的原理分析">TransmittableThreadLocal的原理分析</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="threadlocalinheritablethrealocal与transmittablethreadlocal的比较">ThreadLocal、InheritableThreaLocal与TransmittableThreadLocal的比较</h3>
<p><strong>ThreadLocal</strong>、<strong>InheritableThreadLocal</strong>与<strong>TransmittableThreadLocal</strong>在Java中都是用于处理线程局部变量的工具，但它们在使用场景和特性上有所不同。</p>
<ol>
<li>ThreadLocal</li>
</ol>
<ul>
<li>
<p><strong>使用场景</strong>：适用于需要在线程内部存储和获取数据，且不希望与其他线程共享数据的场景。</p>
</li>
<li>
<p><strong>变量存储</strong>：提供了一种在线程内部存储变量的机制，每个线程可以独立地改变自己的副本，而不会影响到其他线程。</p>
</li>
<li>
<p><strong>线程隔离</strong>：通过为每个线程创建变量副本，ThreadLocal实现了线程间的数据隔离，提高了多线程程序的性能。</p>
</li>
<li>
<p><strong>定义</strong>：ThreadLocal是Java中一个非常重要的线程技术，它为每个线程提供了它自己的变量副本，使得线程间无法相互访问对方的变量，从而避免了线程间的竞争和数据泄露问题。</p>
</li>
<li>
<p><strong>特性</strong>：</p>
</li>
<li>
<p><strong>变量连续性</strong>：当线程切换时，ThreadLocal可以保持变量的连续性。</p>
</li>
</ul>
<ol start="4">
<li>InheritableThreadLocal</li>
</ol>
<ul>
<li>
<p><strong>线程继承</strong>：允许父线程中的InheritableThreadLocal变量的值被子线程继承。当创建一个新的线程时，这个新线程可以访问其父线程中InheritableThreadLocal变量的值。</p>
</li>
<li>
<p><strong>定义</strong>：InheritableThreadLocal是ThreadLocal的一个子类，它包含了ThreadLocal的所有功能，并扩展了ThreadLocal的功能。</p>
</li>
<li>
<p><strong>特性</strong>：</p>
</li>
<li>
<p><strong>使用场景</strong>：适用于需要在父线程和子线程之间传递数据的场景，如线程池中的任务传递等。</p>
</li>
</ul>
<ol start="7">
<li>
<p>TransmittableThreadLocal</p>
<p><strong>总结起来如下</strong>：</p>
</li>
</ol>
<ul>
<li>
<p>跨线程传递：能够在多线程传递中保持变量的传递性，确保在父线程和子线程之间正确传递ThreadLocal变量。</p>
</li>
<li>
<p>copy 方法用于定制 任务提交给线程池时 的 ThreadLocal 值传递到 任务执行时 的拷贝行为，缺省传递的是引用。注意：如果跨线程传递了对象引用因为不再有线程封闭，与 InheritableThreadLocal.childValue 一样，使用者/业务逻辑要注意传递对象的线程安全。</p>
</li>
<li>
<p>protected 的 beforeExecute/afterExecute 方法执行任务(Runnable/Callable)的前/后的生命周期回调。</p>
</li>
<li>
<p><strong>定义</strong>：TransmittableThreadLocal是阿里巴巴开源的一个框架，用于解决在使用线程池等场景下，ThreadLocal变量无法跨线程传递的问题。</p>
</li>
<li>
<p><strong>特性</strong>：</p>
</li>
<li>
<p><strong>使用场景</strong>：适用于需要在线程池等场景下跨线程传递ThreadLocal变量的场景。</p>
</li>
</ul>
<blockquote>
<ul>
<li>
<p><strong>ThreadLocal</strong>适用于线程内部的数据存储和访问，确保数据在线程间的隔离。</p>
</li>
<li>
<p><strong>InheritableThreadLocal</strong>适用于需要在父线程和子线程间传递数据的场景，实现数据的继承。</p>
</li>
<li>
<p><strong>TransmittableThreadLocal</strong>则是为了解决在使用线程池等场景下，ThreadLocal变量无法跨线程传递的问题，实现数据的跨线程传递。</p>
</li>
</ul>
</blockquote>
<p>在选择使用哪个类时，应根据具体的业务场景和需求进行权衡。同时，也需要注意在使用完这些类后，及时清理不再需要的数据，避免内存泄漏。</p>
<h3 id="threadlocal和synchronized之间的比较">ThreadLocal和synchronized之间的比较</h3>
<p>ThreadLocal和synchronized在Java中都是用于处理多线程问题的机制，但它们之间存在一些关键的区别。</p>
<ol>
<li>核心思想</li>
</ol>
<ul>
<li>
<p><strong>ThreadLocal</strong>：其核心思想是以空间换时间。它为每个线程提供了一个独立的变量副本，使得每个线程都可以访问和修改自己的变量副本，而不会影响到其他线程。由于每个线程操作的是自己的变量副本，因此多个线程可以同时访问该变量，且相互之间不会产生影响。这种机制主要用于保存线程私有数据、提高性能、管理线程特定的资源等场景。</p>
</li>
<li>
<p><strong>synchronized</strong>：其核心思想是以时间换空间。它确保同一时刻只有一个线程能够执行被synchronized修饰的代码块或方法，其他线程必须等待锁的释放。多个线程访问的是同一个变量，当多个线程同时访问该变量时，需要抢占锁，并且等待获取锁的线程释放锁，因此会消耗较多的时间。synchronized主要用于保护共享资源，防止竞态条件和数据不一致问题。</p>
</li>
</ul>
<ol start="3">
<li>应用场景</li>
</ol>
<ul>
<li>
<p><strong>ThreadLocal</strong>主要用于线程间的数据隔离，常见应用场景包括线程封闭（将对象封闭在单个线程中，避免线程安全问题）、保存线程上下文信息（如在Web开发中存储用户信息和请求参数）、数据库连接管理（确保每个线程获取到自己的数据库连接）以及线程池中的任务隔离等。</p>
</li>
<li>
<p><strong>Synchronized</strong>主要用于线程间的数据共享，常用于保护共享资源，如共享数据或对象，确保同一时间只有一个线程访问这些资源。此外，它还可以用于保护需要原子性执行的代码块，防止多线程并发执行导致的问题。</p>
</li>
</ul>
<ol start="5">
<li>
<p>性能和资源消耗</p>
<p><strong>综上所述</strong>：</p>
</li>
</ol>
<ul>
<li>
<p><strong>ThreadLocal</strong>为每个线程创建变量副本，因此会消耗较多的内存。但由于线程间互不干扰，所以并发性能较高。</p>
</li>
<li>
<p><strong>synchronized</strong>则通过锁机制来控制线程对共享资源的访问，虽然节省了内存空间，但在多线程环境下可能会因为锁竞争而降低性能。</p>
</li>
</ul>
<blockquote>
<p>ThreadLocal和synchronized在解决多线程访问相同变量的冲突问题上各有其特点和适用场景。选择使用哪种机制应根据具体的业务需求、性能要求和资源限制来决定。</p>
</blockquote>
<h2 id="fastthreadlocal-ftl的实现原理">FastThreadLocal （FTL）的实现原理</h2>
<p><code>ThreadLocal</code> 是一个常用的工具类，它允许我们创建线程局部变量。这意味着每个线程都可以独立地改变自己的副本，而不会影响其他线程所持有的数据。</p>
<p>然而，<code>ThreadLocal</code> 在高并发环境下存在一些问题：</p>
<ol>
<li>
<p><strong>内存占用</strong>：每个 <code>ThreadLocal</code> 变量都会在每个线程中持有一个独立的副本，这可能导致大量的内存占用。</p>
</li>
<li>
<p><strong>性能开销</strong>：创建和销毁这些线程局部变量会带来额外的性能开销。</p>
</li>
</ol>
<p>Netty 是一个追求极致高性能的组件， Netty 的 <code>FastThreadLocal</code> 就是为了解决这些问题而诞生的。</p>
<h3 id="什么是fastthreadlocal-ftl">什么是FastThreadLocal （FTL）？</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="fastthreadlocal-如何使用">FastThreadLocal 如何使用</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="fastthreadlocal-的优势">FastThreadLocal 的优势</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="fastthreadlocal-为什么快">FastThreadLocal 为什么快</h3>
<p>FastThreadLocal 的实现与 ThreadLocal 非常类似，Netty 为 FastThreadLocal 量身打造了 FastThreadLocalThread 和 InternalThreadLocalMap 两个重要的类。</p>
<p>下面我们看下这两个类是如何实现的。 FastThreadLocalThread 是对 Thread 类的一层包装，每个线程对应一个 InternalThreadLocalMap 实 例。</p>
<p>只有 FastThreadLocal 和 FastThreadLocalThread 组合使用时，才能发挥 FastThreadLocal 的性 能优势。</p>
<p>首先看下 FastThreadLocalThread 的源码定义：</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;FastThreadLocalThread&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;Thread&lt;/span&gt; {&lt;br&gt;&lt;span&gt;private&lt;/span&gt; InternalThreadLocalMap threadLocalMap;&lt;br&gt;&lt;span&gt;// 省略其他代码&lt;/span&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>可以看出 FastThreadLocalThread 主要扩展了 InternalThreadLocalMap 字段，</p>
<p>FastThreadLocalThread 主要使用 InternalThreadLocalMap 存储数据</p>
<p>注意， FastThreadLocalThread 不再是使用 Thread 中的ThreadLocalMap。</p>
<p>所以想知道 FastThreadLocalThread 高性能的奥秘，必须要了解InternalThreadLocalMap 的设计原理。</p>
<p>上文中我们讲到了 ThreadLocal 的一个重要缺点，就是 ThreadLocalMap 采用线性探测法解决 Hash冲突性能较慢，那么 InternalThreadLocalMap 又是如何优化的呢？</p>
<p>首先一起看下 InternalThreadLocalMap 的内部构造。</p>
<pre tabindex="0"><code>&lt;section&gt;&lt;br&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;InternalThreadLocalMap&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;UnpaddedInternalThreadLocalMap&lt;/span&gt; {&lt;br&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; InternalLogger logger = InternalLoggerFactory.getInstance(InternalThreadLocalMap.&lt;span&gt;class&lt;/span&gt;);&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; ThreadLocal&amp;lt;InternalThreadLocalMap&amp;gt; slowThreadLocalMap =&lt;br&gt;            &lt;span&gt;new&lt;/span&gt; ThreadLocal&amp;lt;InternalThreadLocalMap&amp;gt;();&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; AtomicInteger nextIndex = &lt;span&gt;new&lt;/span&gt; AtomicInteger();&lt;br&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; DEFAULT_ARRAY_LIST_INITIAL_CAPACITY = &lt;span&gt;8&lt;/span&gt;;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; ARRAY_LIST_CAPACITY_EXPAND_THRESHOLD = &lt;span&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span&gt;30&lt;/span&gt;;&lt;br&gt;    &lt;span&gt;// Reference: &lt;a target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; href=&#34;https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l229&#34;&gt;https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l229&lt;/a&gt;&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; ARRAY_LIST_CAPACITY_MAX_SIZE = Integer.MAX_VALUE - &lt;span&gt;8&lt;/span&gt;;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; STRING_BUILDER_INITIAL_SIZE;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; STRING_BUILDER_MAX_SIZE;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; HANDLER_SHARABLE_CACHE_INITIAL_CAPACITY = &lt;span&gt;4&lt;/span&gt;;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; INDEXED_VARIABLE_TABLE_INITIAL_SIZE = &lt;span&gt;32&lt;/span&gt;;&lt;br&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; Object UNSET = &lt;span&gt;new&lt;/span&gt; Object();&lt;br&gt;&lt;br&gt;    &lt;span&gt;/** Used by {&lt;span&gt;@link&lt;/span&gt; FastThreadLocal} */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Object[] indexedVariables;&lt;br&gt;&lt;br&gt;    &lt;span&gt;// Core thread-locals&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; futureListenerStackDepth;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; localChannelReaderStackDepth;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, Boolean&amp;gt; handlerSharableCache;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; IntegerHolder counterHashCode;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; ThreadLocalRandom random;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, TypeParameterMatcher&amp;gt; typeParameterMatcherGetCache;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Map&amp;lt;Class&amp;lt;?&amp;gt;, Map&amp;lt;String, TypeParameterMatcher&amp;gt;&amp;gt; typeParameterMatcherFindCache;&lt;br&gt;&lt;br&gt;    &lt;span&gt;// String-related thread-locals&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; StringBuilder stringBuilder;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Map&amp;lt;Charset, CharsetEncoder&amp;gt; charsetEncoderCache;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; Map&amp;lt;Charset, CharsetDecoder&amp;gt; charsetDecoderCache;&lt;br&gt;&lt;br&gt;    &lt;span&gt;// ArrayList-related thread-locals&lt;/span&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; ArrayList&amp;lt;Object&amp;gt; arrayList;&lt;br&gt;&lt;br&gt;    &lt;span&gt;private&lt;/span&gt; BitSet cleanerFlags;&lt;br&gt;&lt;br&gt;    &lt;span&gt;/** &lt;span&gt;@deprecated&lt;/span&gt; These padding fields will be removed in the future. */&lt;/span&gt;&lt;br&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;long&lt;/span&gt; rp1, rp2, rp3, rp4, rp5, rp6, rp7, rp8;&lt;br&gt;&lt;br&gt;    &lt;span&gt;static&lt;/span&gt; {&lt;br&gt;        STRING_BUILDER_INITIAL_SIZE =&lt;br&gt;                SystemPropertyUtil.getInt(&lt;span&gt;&#34;io.netty.threadLocalMap.stringBuilder.initialSize&#34;&lt;/span&gt;, &lt;span&gt;1024&lt;/span&gt;);&lt;br&gt;        logger.debug(&lt;span&gt;&#34;-Dio.netty.threadLocalMap.stringBuilder.initialSize: {}&#34;&lt;/span&gt;, STRING_BUILDER_INITIAL_SIZE);&lt;br&gt;&lt;br&gt;        STRING_BUILDER_MAX_SIZE = SystemPropertyUtil.getInt(&lt;span&gt;&#34;io.netty.threadLocalMap.stringBuilder.maxSize&#34;&lt;/span&gt;, &lt;span&gt;1024&lt;/span&gt; * &lt;span&gt;4&lt;/span&gt;);&lt;br&gt;        logger.debug(&lt;span&gt;&#34;-Dio.netty.threadLocalMap.stringBuil&lt;br&gt;&lt;br&gt;der.maxSize: {}&#34;&lt;/span&gt;, STRING_BUILDER_MAX_SIZE);&lt;br&gt;    }&lt;br&gt;&lt;br&gt;&lt;span&gt;// 省略其他代码&lt;/span&gt;&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;/section&gt;
</code></pre><p>从 InternalThreadLocalMap 内部实现来看，与 ThreadLocalMap 一样都是采用<code>数组</code>的存储方式。</p>
<p>但是InternalThreadLocalMap 并没有使用线性探测法来解决 Hash 冲突，而是另辟蹊径，使用数组替代map。</p>
<p>简单来说，而是在 FastThreadLocal 初始化 的时候，为每一个本地变量，分配一个<code>全局唯一的索引 index</code>，数组索引 index 的值采用原子类 <code>AtomicInteger</code> 保证顺序递增，</p>
<ul>
<li>
<p><strong>每一个本地变量，分配一个</strong>**<code>全局唯一的索引 index</code> .**</p>
</li>
<li>
<p><strong>这个数组索引 index 的值 和本地变量绑定， 通过调用InternalThreadLocalMap.nextVariableIndex() 方法获得。</strong></p>
</li>
</ul>
<p>然后在读写数据的时候通过数组下标index直接定位到 FastThreadLocal 的位置，时间复杂度为 O(1)。</p>
<p>和 普通的ThreadLocalMap 相比， InternalThreadLocalMap 的 大致内部结构，如下：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJgeLIfE1LKPBY5W4uM1xrVua95eoLJCU0osRAs9BtkicuiaBvwVFDK99w/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>假设现在我们有一批数据需要添加到数组中，分别为 value1、value2、value3、value4，对应的 FastThreadLocal 在初始化的时候生成的数组索引分别为 1、2、3、4。如下图所示：
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJD9T6lRA1Vor2qZZwlSG0V8Pf5jshAEsJfyVRqOfRxmFFXRbr9P5B8w/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<p>如果数组下标递增到非常大，那么数组也会比较大，所以 FastThreadLocal 是通过空间换时间的思想提升读写性能。</p>
<p>完整的 FastThreadLocal结构分析，下面通过一幅具体的图，描述InternalThreadLocalMap、index 和 FastThreadLocal 之间的关系。</p>
<p>
        <img class="mx-auto" alt="图片" src="https://mmbiz.qpic.cn/sz_mmbiz_png/xlgvgPaib7WN8aBlicicKCrra5J7aGicYRBJ5B4nmGKLEWc4Fia5cichgrzicib3q0TOqegandiaI1yt1A6GCwJYtibHO5Ag/640?wx_fmt=png&amp;from=appmsg" />   
    </p>
<ol>
<li>
<p>InternalThreadLocalMap中并不是Entry的key-value结构, 而是Object数组</p>
</li>
<li>
<p>索引0位置存放FastThreadLocal的Set集合, 其他索引位置初始化为UNSET, 数据存入的时候更新为具体的Object</p>
</li>
<li>
<p>FastThreadLocal中包含一个自增的index表示在InternalThreadLocalMap的数组中的索引位置</p>
</li>
<li>
<p>Set&lt;FastThreadLocal<?>&gt;结构中存放FastThreadLocal的引用, 更容易解决内存泄漏的问题</p>
<p>通过上面 FastThreadLocal 的内部结构图，我们对比下与 ThreadLocal 有哪些区别？</p>
</li>
</ol>
<ul>
<li>
<p>FastThreadLocal 使用 Object 数组替代了 Entry 数组，</p>
</li>
<li>
<p>Object[0] 存储的是一个Set集合，</p>
</li>
<li>
<p>从数组下标 1 开始都是直接存储的 value 数据，不再采用ThreadLocal 的键值对形式进行存储。</p>
</li>
</ul>
<h3 id="fastthreadlocal-源码分析">FastThreadLocal 源码分析</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h4 id="fastthreadlocal-的回收机制">FastThreadLocal 的回收机制</h4>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h4 id="fastthreadlocal-在netty中的应用">FastThreadLocal 在Netty中的应用</h4>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h3 id="和threadlocal相比-fastthreadlocal-的优势">和ThreadLocal相比， FastThreadLocal 的优势：</h3>
<blockquote>
<p>文档太长，超过了 平台限制&hellip;&hellip;..</p>
<p>这部分详细内容略，请参见PDF 《ThreadLocal 学习圣经：一次穿透TL、ITL、TTL、FTL》</p>
</blockquote>
<h2 id="说在最后有问题找老架构取经">说在最后：有问题找老架构取经</h2>
<p>ThreadLocal 相关的面试题( 如内存泄露)，是非常常见的面试题。</p>
<p>以上的内容，如果大家能对答如流，如数家珍，基本上 面试官会被你 震惊到、吸引到。最终，<strong>让面试官爱到 “不能自已、口水直流”</strong>。offer， 也就来了。</p>
<p>在面试之前，建议大家系统化的刷一波 5000页《<a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247484558&amp;idx=3&amp;sn=3c498b0f8e3897e899acf154ad1ac8ee&amp;chksm=c142be0af635371c06b830243517aae063e23814195df1cc75ab2123c5b3ab9cb1217cbd80e3&amp;scene=21#wechat_redirect">尼恩Java面试宝典</a>》V174，在刷题过程中，如果有啥问题，大家可以来 找 40岁老架构师尼恩交流。</p>
<p>另外，如果没有面试机会，可以找尼恩来帮扶、领路。尼恩已经指导了大量的就业困难的小伙伴上岸.</p>
<p>前段时间，帮助一个40岁+就业困难小伙伴拿到了一个<strong>年薪100W</strong>的offer，小伙伴实现了 <strong>逆天改命</strong> 。</p>
<h2 id="部分历史案例">部分历史案例</h2>
<ul>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486132&amp;idx=1&amp;sn=bb949c992b3a35935bf5fca57f19e2d8&amp;chksm=97b57b3ca0c2f22aeb0e648191801aff933164dcf2b06eb4b6274df6499bffb0bba8e8169205&amp;scene=21#wechat_redirect">**绝地逢生：**9年经验</a><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486132&amp;idx=1&amp;sn=bb949c992b3a35935bf5fca57f19e2d8&amp;chksm=97b57b3ca0c2f22aeb0e648191801aff933164dcf2b06eb4b6274df6499bffb0bba8e8169205&amp;scene=21#wechat_redirect">自考</a>小伙伴，跟着尼恩狠卷3月硬核技术，面试机会爆表，2周后收3个offer ，满血复活</p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486098&amp;idx=1&amp;sn=bbc5732b071477573bfab8a259d208d3&amp;chksm=97b57b1aa0c2f20c27dd74b490b6062c9eec262a3ac25548534ff70290b172dcc51c6eafe532&amp;scene=21#wechat_redirect">**硬转架构：**35岁被裁6个月 职业绝望，转架构急救上岸，DDD和3高项目太重要了</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486077&amp;idx=1&amp;sn=090ad8d19559c727b80e321cd70e3c32&amp;chksm=97b57bf5a0c2f2e32a982b62cfeb2db8744260d7e2d80efdf11ad7c1c5257057ea9b1f7419ec&amp;scene=21#wechat_redirect">**逆天改命：**3年经验2本，卷3个月涨薪60%，进准大厂(得物、乐信、58集团等)，年薪36W</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486059&amp;idx=1&amp;sn=23fa04e6ea781525732f021ab1afaeeb&amp;scene=21#wechat_redirect">女35岁CRUD程序媛，12月被裁后，拿30个机会2个offer上岸，年底大裁员太不容易了</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247486028&amp;idx=1&amp;sn=cf10ecda7a986b26e0359eba7a9cfeff&amp;scene=21#wechat_redirect">38还有救吗？有。42岁被裁2年天快塌了，急救1个月上岸，成开发经理offer，起死回生</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485994&amp;idx=1&amp;sn=50b95d3ae3009d395458c8740595977f&amp;scene=21#wechat_redirect">被裁不慌，9年小伙1个月喜提年薪60W offer，做中间件架构，爽歪了</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485972&amp;idx=1&amp;sn=9f2b5059aaad70c8018b7c6c95a08994&amp;scene=21#wechat_redirect">12年小伙转架构，1小时蜕变收年薪55万offer，秘诀：GO+Java双栖架构</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485942&amp;idx=1&amp;sn=faa999fc9508435db7a88af2716492d9&amp;chksm=97b5787ea0c2f168ac80d344670df16be12614d37161a893ebed88d4c915384fcbc024996403&amp;scene=21#wechat_redirect">**年薪百万：**40岁小伙被裁6个月，跟着尼恩猛卷3月硬核技术，100W年薪逆袭 ，上岸秘诀：首席架构/总架构</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485914&amp;idx=1&amp;sn=7832d0b63155f12eb8036321a99991c8&amp;scene=21#wechat_redirect">不怕裁员，8年小伙去中年危机，秘诀：换架构师赛道，上得厅堂，下得厨房，越早越好</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485881&amp;idx=1&amp;sn=97aae4d5edf8ea30d363e22ca86b5955&amp;scene=21#wechat_redirect">被裁员后因祸得福，拿N+1后，逆涨30%，如何实现？</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485855&amp;idx=1&amp;sn=e9f6b1de7352f09d686c1481632fc454&amp;scene=21#wechat_redirect">逆天啦：4年crud小伙收shein+银行两优质offer，狠卷1月收年薪43万大涨30%</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485838&amp;idx=1&amp;sn=72d9733544a5310ee5068fc4533173ea&amp;scene=21#wechat_redirect">原来，拿大厂offer 有捷径&hellip;&hellip;</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485812&amp;idx=1&amp;sn=d87729bea8a8e22f3c2b3eb207d3b38b&amp;scene=21#wechat_redirect">太劲爆&hellip;. 被裁4个月，38岁Android转Java，2个月提架构offer</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485780&amp;idx=1&amp;sn=03be191625369d33ac54b5c5066c7a68&amp;scene=21#wechat_redirect">起死回生：8年小伙高中毕业+频繁跳槽，狠卷2月，提Java高级offer</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485663&amp;idx=1&amp;sn=357ab76bc6695485b7941e8eb24a0b42&amp;scene=21#wechat_redirect">爽翻了：指导3轮，5年小伙收5大offer，涨50%，领路模式太牛</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485643&amp;idx=1&amp;sn=ce71b19e7c9745ab2fe8bfc75f54d993&amp;chksm=97b57943a0c2f055e5c085eec48586e9ba05ae661acabe4cfb7e984c5aeb03d6beeafd204eba&amp;scene=21#wechat_redirect">降维攻击，37年大龄老伙喜提60W年薪offer，1个月顺利上岸</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485571&amp;idx=1&amp;sn=c0096484fd2e1202c14a4bd9d37427c2&amp;chksm=97b5790ba0c2f01da764b8b7b5e3c8a5b02f42d2ed30809f9d7b2d8e73a5bebc9102ef502bc8&amp;scene=21#wechat_redirect">架构速成：从一面杀到一次过，记7年女架构的速成经历</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzIxMzYwODY3OQ==&amp;mid=2247485452&amp;idx=1&amp;sn=68102559298564895b1496e2230dddb2&amp;chksm=97b57984a0c2f0927d80f8719a7dc56f43ff13e373eb3886d39be98538180f919225b5ac05f2&amp;scene=21#wechat_redirect">极速拿offer：阿里P6被裁后极速上岸，1个月内喜提2优质offer(含滴滴)</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247496226&amp;idx=1&amp;sn=459a566cfa5915a720e80e1880fd730d&amp;chksm=c14148a6f636c1b08a321d08384c5d76e184c22f8f4457f980452c45c163bdc5ab91ca17b919&amp;scene=21#wechat_redirect">大逆袭：做化工12年，35岁转Java，被裁4个月后，1个月收架构Offer，大龄跨行，超级牛</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247492928&amp;idx=1&amp;sn=82fd1c530d0ad8ad798b5c35c040641b&amp;chksm=c1415fc4f636d6d25f16e12a73a2635073994ef742efdddcc1185c5d7727785c98fac14e8de8&amp;scene=21#wechat_redirect">被裁后炸爽：10年小伙12天火速上岸，反涨20%，爽暴了</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247492621&amp;idx=1&amp;sn=f6ada03c596baedcf995e5cb60d255b2&amp;chksm=c1415e89f636d79f13b25d7f3691fb79931515f15b421d65fab1c5e34d4cce4165b6d1772737&amp;scene=21#wechat_redirect">裁就裁，6年小伙60W极速上岸，白拿20W还游一圈拉萨，真香</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247491450&amp;idx=1&amp;sn=98379c07e430562a8a244121e63f47d7&amp;chksm=c142a5fef6352ce8e3ee64090a6d0619a9d40484f358302d96990e7655ec16f8d8e7624ca88e&amp;scene=21#wechat_redirect">极速拿offer：被毕业3个月，11年经验小伙0.5个月极速拿offer，领路模式的巨大威力</a></p>
</li>
<li>
<p><a href="http://zshipu.com/t/index.html?url=https://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&amp;mid=2247491496&amp;idx=1&amp;sn=cb31f7510a7c2efb7daf6cad793860ad&amp;scene=21#wechat_redirect">惊天大逆袭：8年小伙20天时间提75W年薪offer，逆涨50%，秘诀在这</a></p>
</li>
</ul>

        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="https://index.zshipu.com/geek001">知识铺</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="https://index.zshipu.com/geek001/post/20240424/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAThreadLocal--%E7%9F%A5%E8%AF%86%E9%93%BA/">https://index.zshipu.com/geek001/post/20240424/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAThreadLocal--%E7%9F%A5%E8%AF%86%E9%93%BA/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
        <li><strong>免责声明：</strong>本页面内容均来源于站内编辑发布，部分信息来源互联网，并不意味着本站赞同其观点或者证实其内容的真实性，如涉及版权等问题，请立即联系客服进行更改或删除，保证您的合法权益。转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。也可以邮件至 sblig@126.com</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/geek001/post/20240424/%E9%AB%98%E5%B9%B6%E5%8F%91%E4%B8%8B%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E4%B8%8B%E5%8D%95%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88--%E7%9F%A5%E8%AF%86%E9%93%BA/">高并发下防止重复下单的解决方案 -- 知识铺</a></li>
        
        <li><a href="/geek001/post/20240424/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E8%B7%B3%E8%A1%A8%E8%80%8C%E4%B8%8D%E7%94%A8%E5%B9%B3%E8%A1%A1%E6%A0%91--%E7%9F%A5%E8%AF%86%E9%93%BA/">Redis为什么使用跳表而不用平衡树 -- 知识铺</a></li>
        
        <li><a href="/geek001/post/20240424/GraphQL%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%E4%B8%8E%E9%98%B2%E6%8A%A4%E7%AD%96%E7%95%A5--%E7%9F%A5%E8%AF%86%E9%93%BA/">GraphQL安全漏洞与防护策略 -- 知识铺</a></li>
        
        <li><a href="/geek001/post/20240424/%E4%BD%BF%E7%94%A8-ThinkJS-%E6%90%AD%E5%BB%BA-GraphQL-API--%E7%9F%A5%E8%AF%86%E9%93%BA/">使用 ThinkJS 搭建 GraphQL API -- 知识铺</a></li>
        
        <li><a href="/geek001/post/20240424/%E4%BD%BF%E7%94%A8Spring-Boot%E5%92%8CShiro%E9%9B%86%E6%88%90Pac4j%E5%AE%9E%E7%8E%B0CAS%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95--%E7%9F%A5%E8%AF%86%E9%93%BA/">使用Spring Boot和Shiro集成Pac4j实现CAS单点登录 -- 知识铺</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/geek001/tags/ThreadLocal'>ThreadLocal</a></li>
                
                <li><a href='/geek001/tags/%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2'>内存泄露</a></li>
                
                <li><a href='/geek001/tags/%E9%AB%98%E5%B9%B6%E5%8F%91'>高并发</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "zshipu/zshipu-index"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2024 <a href="https://index.zshipu.com/geek001">知识铺的博客 By 知识铺</a>
        
        | <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">浙 ICP 备19032823号-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/geek001/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://index.zshipu.com/geek001/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://index.zshipu.com/geek001">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/RAG%E5%85%A8%E6%99%AF%E5%9B%BE%E4%BB%8E%E5%90%AF%E8%92%99%E5%88%B0%E9%AB%98%E7%BA%A736%E6%8A%80%E8%87%B3%E7%BB%88%E7%AB%A0Agentic-RAG--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="RAG全景图：从启蒙到高级36技，至终章Agentic RAG -- 知识铺">RAG全景图：从启蒙到高级36技，至终章Agentic RAG -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90RAG%E6%8A%80%E6%9C%AF%E5%9C%A8%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%97%B6%E4%BB%A3%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA-%E8%85%BE%E8%AE%AF%E4%BA%91--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="深度解析RAG技术在大模型时代的原理与实践-腾讯云开发者社区-腾讯云 -- 知识铺">深度解析RAG技术在大模型时代的原理与实践-腾讯云开发者社区-腾讯云 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/%E6%9E%84%E5%BB%BARAG%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="构建RAG项目实战指南 -- 知识铺">构建RAG项目实战指南 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/2024%E5%B9%B4%E7%BD%91%E7%AB%99UXUI%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%BB%E8%A6%81%E8%B6%8B%E5%8A%BF--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="2024年网站UXUI设计的主要趋势 -- 知识铺">2024年网站UXUI设计的主要趋势 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/2024%E5%B9%B4UIUX%E8%AE%BE%E8%AE%A1%E8%B6%8B%E5%8A%BF%E5%88%9B%E6%96%B0%E7%9A%84%E6%8B%A5%E6%8A%B1--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="2024年UIUX设计趋势：创新的拥抱 -- 知识铺">2024年UIUX设计趋势：创新的拥抱 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/Qwen2%E8%BF%9B%E8%A1%8CRAG%E4%BB%A3%E7%A0%81%E5%AE%9E%E8%B7%B5%E6%95%99%E7%A8%8B--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="Qwen2进行RAG代码实践教程 -- 知识铺">Qwen2进行RAG代码实践教程 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/2024%E5%B9%B4UI-UX%E7%9A%84%E4%B8%BB%E8%A6%81%E8%B6%8B%E5%8A%BF--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="2024年UI UX的主要趋势 -- 知识铺">2024年UI UX的主要趋势 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/Python%E9%AB%98%E6%95%88%E5%A4%84%E7%90%86%E5%A4%A7%E6%95%B0%E6%8D%AE--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="Python高效处理大数据 -- 知识铺">Python高效处理大数据 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1ACR%E7%9A%84%E6%AD%A5%E9%AA%A4%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="配置阿里云容器镜像服务(ACR)的步骤和注意事项 -- 知识铺">配置阿里云容器镜像服务(ACR)的步骤和注意事项 -- 知识铺</a>
    </li>
    
    <li>
        <a href="https://index.zshipu.com/geek001/post/20240828/%E9%AB%98%E6%95%88%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E5%B7%A5%E5%85%B7--%E7%9F%A5%E8%AF%86%E9%93%BA/" title="高效日志打印工具 -- 知识铺">高效日志打印工具 -- 知识铺</a>
    </li>
    
</ul>
    </section>

    
<section class="widget">
    <h3 class="widget-title" style="color:red">福利派送</h3>
    <ul class="widget-list">
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【2019双12】ALL IN CLoud 低至1折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1_rYHo7P2gK0jSZPxXXacQpXa-690-388.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="助力产业智慧升级，云服务器首年88元起，更有千元代金券礼包免费领！" target="_blank" style="color:red">
                
                    <img src="https://upload-dianshi-1255598498.file.myqcloud.com/345-7c71532bd4935fbdd9a67c1a71e577b1767b805c.200%E7%89%88%E6%9C%ACB.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="【渠道专享低折扣】11月特惠 限时2折" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1hblJl7Y2gK0jSZFgXXc5OFXa-750-400.jpg">
                
            </a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title"><a href='/geek001/categories/'>分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/geek001/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://index.zshipu.com/geek001/tags/.NET%E5%BC%80%E6%BA%90%E6%8E%A7%E4%BB%B6%E5%BA%93/">.NET开源控件库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/2024%E8%B6%8B%E5%8A%BF/">2024趋势</a>
    
    <a href="https://index.zshipu.com/geek001/tags/2PC/">2PC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/3PC/">3PC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/404/">404</a>
    
    <a href="https://index.zshipu.com/geek001/tags/51CTO%E5%8D%9A%E5%AE%A2/">51CTO博客</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ABP%E6%A1%86%E6%9E%B6/">ABP框架</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AGI/">AGI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI/">AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI-Agent/">AI Agent</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI-Agents/">AI Agents</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI-Native/">AI Native</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AIGC/">AIGC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B/">AI大模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E5%A5%97%E4%BB%B6/">AI套件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E5%B7%A5%E7%A8%8B%E5%8C%96/">AI工程化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E6%8A%80%E6%9C%AF/">AI技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E6%90%9C%E7%B4%A2/">AI搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E6%9C%80%E6%96%B0%E5%8A%A8%E6%80%81/">AI最新动态</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/">AI编程工具</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E8%9E%8D%E5%90%88/">AI融合</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AI%E8%B5%8B%E8%83%BD/">AI赋能</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AJAX/">AJAX</a>
    
    <a href="https://index.zshipu.com/geek001/tags/API/">API</a>
    
    <a href="https://index.zshipu.com/geek001/tags/API%E7%BD%91%E5%85%B3/">API网关</a>
    
    <a href="https://index.zshipu.com/geek001/tags/API%E8%AE%BE%E8%AE%A1/">API设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/APS/">APS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ARM/">ARM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Agentic-RAG/">Agentic RAG</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Angular/">Angular</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Apache-Knox/">Apache Knox</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Apache-Shiro/">Apache Shiro</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Apache-Spark/">Apache Spark</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Apache-Zeppelin/">Apache Zeppelin</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Apollo/">Apollo</a>
    
    <a href="https://index.zshipu.com/geek001/tags/App-Router/">App Router</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ArrayBuffer/">ArrayBuffer</a>
    
    <a href="https://index.zshipu.com/geek001/tags/AspectJ/">AspectJ</a>
    
    <a href="https://index.zshipu.com/geek001/tags/BERT/">BERT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/BFF%E6%9E%B6%E6%9E%84/">BFF架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Bootstrap/">Bootstrap</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Bun/">Bun</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ByteBuffer/">ByteBuffer</a>
    
    <a href="https://index.zshipu.com/geek001/tags/B%E7%AB%AF/">B端</a>
    
    <a href="https://index.zshipu.com/geek001/tags/B%E7%AB%AF%E4%B8%9A%E5%8A%A1/">B端业务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/B%E7%AB%AF%E8%90%A5%E9%94%80/">B端营销</a>
    
    <a href="https://index.zshipu.com/geek001/tags/C&#43;&#43;%E5%85%A5%E9%97%A8/">C&#43;&#43;入门</a>
    
    <a href="https://index.zshipu.com/geek001/tags/C&#43;&#43;%E8%BF%9B%E9%98%B6/">C&#43;&#43;进阶</a>
    
    <a href="https://index.zshipu.com/geek001/tags/C&#43;&#43;%E9%AB%98%E7%BA%A7/">C&#43;&#43;高级</a>
    
    <a href="https://index.zshipu.com/geek001/tags/C/C&#43;&#43;/">C/C&#43;&#43;</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Cas/">Cas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CAS5/">CAS5</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CAS%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95/">CAS单点登录</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CAS%E6%9C%8D%E5%8A%A1/">CAS服务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CAS%E6%9C%8D%E5%8A%A1%E5%99%A8/">CAS服务器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CGLIB%E4%BB%A3%E7%90%86/">CGLIB代理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CI/CD/">CI/CD</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CQRS/">CQRS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CQRS%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%BA%AF%E6%BA%90/">CQRS和事件溯源</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CRM/">CRM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CRUD-Operations/">CRUD Operations</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CRUD%E6%8E%A5%E5%8F%A3/">CRUD接口</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CSDN%E5%8D%9A%E5%AE%A2/">CSDN博客</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CSS/">CSS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CSS-%E5%A1%AB%E5%85%85/">CSS 填充</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CSS%E6%A8%A1%E5%9D%97/">CSS模块</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CUDA/">CUDA</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Canvas/">Canvas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Cas/">Cas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CentOS-7.x/">CentOS 7.x</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CentOS7/">CentOS7</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ChatGPT/">ChatGPT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Chroma/">Chroma</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Class-%E7%B1%BB/">Class 类</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Clickhouse/">Clickhouse</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Clickhouse/">Clickhouse</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Cloud-Computing/">Cloud Computing</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CoT/">CoT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Components%E7%9B%AE%E5%BD%95/">Components目录</a>
    
    <a href="https://index.zshipu.com/geek001/tags/CondaSSLError/">CondaSSLError</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Core-Web-Vitals/">Core Web Vitals</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Cortex-M3/">Cortex-M3</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Coze%E5%B9%B3%E5%8F%B0/">Coze平台</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Curotec/">Curotec</a>
    
    <a href="https://index.zshipu.com/geek001/tags/C%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B/">C语言编程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DDD/">DDD</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DDD%E6%9E%B6%E6%9E%84/">DDD架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DDD%E6%A8%A1%E5%BC%8F/">DDD模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DDD%E8%90%BD%E5%9C%B0/">DDD落地</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DDD%E8%AF%8A%E6%89%80/">DDD诊所</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Dao%E5%B1%82/">Dao层</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DataOutputStream/">DataOutputStream</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DataView/">DataView</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DeFi/">DeFi</a>
    
    <a href="https://index.zshipu.com/geek001/tags/DevOps/">DevOps</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Docker/">Docker</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Domain-Driven-Design/">Domain-Driven Design</a>
    
    <a href="https://index.zshipu.com/geek001/tags/EAM/">EAM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ELK/">ELK</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ELK-Stack/">ELK Stack</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ERP/">ERP</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ETL%E5%B7%A5%E5%85%B7/">ETL工具</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Elastic-Stack/">Elastic Stack</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Elasticsearch/">Elasticsearch</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Embedding/">Embedding</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Event-Storming/">Event Storming</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Expedia/">Expedia</a>
    
    <a href="https://index.zshipu.com/geek001/tags/FAA/">FAA</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Faiss/">Faiss</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Faiss/">Faiss</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Feign/">Feign</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Fetch/">Fetch</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Filebeat/">Filebeat</a>
    
    <a href="https://index.zshipu.com/geek001/tags/FinTech/">FinTech</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Flink/">Flink</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Flutter/">Flutter</a>
    
    <a href="https://index.zshipu.com/geek001/tags/FreeMarker/">FreeMarker</a>
    
    <a href="https://index.zshipu.com/geek001/tags/GPT-4o/">GPT-4o</a>
    
    <a href="https://index.zshipu.com/geek001/tags/GenAI/">GenAI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Genspark/">Genspark</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Geoserver%E6%BC%8F%E6%B4%9E/">Geoserver漏洞</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Getting-Started/">Getting Started</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Git/">Git</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Go-%E8%AF%AD%E8%A8%80/">Go 语言</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Golang/">Golang</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Go%E8%AF%AD%E8%A8%80/">Go语言</a>
    
    <a href="https://index.zshipu.com/geek001/tags/GraphQL/">GraphQL</a>
    
    <a href="https://index.zshipu.com/geek001/tags/GraphQL%E6%BC%8F%E6%B4%9E/">GraphQL漏洞</a>
    
    <a href="https://index.zshipu.com/geek001/tags/GraphRAG/">GraphRAG</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Guava/">Guava</a>
    
    <a href="https://index.zshipu.com/geek001/tags/HTML/">HTML</a>
    
    <a href="https://index.zshipu.com/geek001/tags/HTML5/">HTML5</a>
    
    <a href="https://index.zshipu.com/geek001/tags/HZHControls/">HZHControls</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Hybrid-Search/">Hybrid Search</a>
    
    <a href="https://index.zshipu.com/geek001/tags/IBM/">IBM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ITPUB%E5%8D%9A%E5%AE%A2/">ITPUB博客</a>
    
    <a href="https://index.zshipu.com/geek001/tags/IT%E7%A4%BE%E5%8C%BA/">IT社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/IaC/">IaC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Idea%E6%8F%92%E4%BB%B6/">Idea插件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/InfoQ/">InfoQ</a>
    
    <a href="https://index.zshipu.com/geek001/tags/InfoQ%E5%86%99%E4%BD%9C%E7%A4%BE%E5%8C%BA/">InfoQ写作社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/InnoDB/">InnoDB</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-423/">JEP 423</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-447/">JEP 447</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-454/">JEP 454</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-456/">JEP 456</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-457/">JEP 457</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-458/">JEP 458</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-459/">JEP 459</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-460/">JEP 460</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-461/">JEP 461</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-462/">JEP 462</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-463/">JEP 463</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JEP-464/">JEP 464</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JFinal/">JFinal</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JVM/">JVM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/">JVM内存结构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JWT/">JWT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JWT%E9%AA%8C%E8%AF%81/">JWT验证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java/">Java</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java-17/">Java 17</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java-22/">Java 22</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java-Web%E5%AE%89%E5%85%A8/">Java Web安全</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JavaScript/">JavaScript</a>
    
    <a href="https://index.zshipu.com/geek001/tags/JavaScript-%E8%BF%90%E8%A1%8C%E6%97%B6/">JavaScript 运行时</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E5%85%A5%E9%97%A8/">Java入门</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E5%B7%A5%E5%85%B7/">Java工具</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E5%B7%A5%E7%A8%8B%E5%B8%88/">Java工程师</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E6%8C%81%E4%B9%85%E6%80%A7/">Java持久性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E8%99%9A%E6%8B%9F%E6%9C%BA/">Java虚拟机</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Java%E8%BF%90%E8%A1%8C%E6%97%A5%E5%BF%97/">Java运行日志</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Kimi-API/">Kimi API</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LLM/">LLM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LLMs/">LLMs</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LLM%E5%A4%A7%E6%A8%A1%E5%9E%8B/">LLM大模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LLM%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">LLM应用程序</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LLM%E7%BC%96%E7%A8%8B%E6%A1%86%E6%9E%B6/">LLM编程框架</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LM393/">LM393</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LONGTEXT/">LONGTEXT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LangChain/">LangChain</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Lepod-Pro/">Lepod Pro</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Link-%E7%BB%84%E4%BB%B6/">Link 组件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Link%E7%BB%84%E4%BB%B6/">Link组件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Linux%E7%B3%BB%E7%BB%9FRPM%E7%AE%A1%E7%90%86%E5%99%A8/">Linux系统RPM管理器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Llama-3/">Llama 3</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Llama3/">Llama3</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Llama3%E4%B8%AD%E6%96%87%E6%A8%A1%E5%9E%8B/">Llama3中文模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/LlamaIndex/">LlamaIndex</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Lockfile/">Lockfile</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Logstash/">Logstash</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Lombok/">Lombok</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MCU/">MCU</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MDK5/">MDK5</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MES/">MES</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MVCC/">MVCC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Maven/">Maven</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Milvus/">Milvus</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Multiline%E6%8F%92%E4%BB%B6/">Multiline插件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MyBatis/">MyBatis</a>
    
    <a href="https://index.zshipu.com/geek001/tags/MySQL/">MySQL</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Mybatis-Plus/">Mybatis-Plus</a>
    
    <a href="https://index.zshipu.com/geek001/tags/NIO/">NIO</a>
    
    <a href="https://index.zshipu.com/geek001/tags/NLP/">NLP</a>
    
    <a href="https://index.zshipu.com/geek001/tags/NLP%E4%BB%BB%E5%8A%A1/">NLP任务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Nest/">Nest</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Nest.js/">Nest.js</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Netty/">Netty</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Next-Js/">Next Js</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Next.js/">Next.js</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Next.js-App-Router/">Next.js App Router</a>
    
    <a href="https://index.zshipu.com/geek001/tags/NextJS/">NextJS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Node.js/">Node.js</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Node.js-API/">Node.js API</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Node.js-%E6%9B%BF%E4%BB%A3%E5%93%81/">Node.js 替代品</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Nuitka/">Nuitka</a>
    
    <a href="https://index.zshipu.com/geek001/tags/OAuth-%E9%9B%86%E6%88%90/">OAuth 集成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/OLAP/">OLAP</a>
    
    <a href="https://index.zshipu.com/geek001/tags/OORT/">OORT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Ollama/">Ollama</a>
    
    <a href="https://index.zshipu.com/geek001/tags/OpenAI/">OpenAI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/PDF%E5%90%91%E9%87%8F%E5%8C%96/">PDF向量化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/PDF%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/">PDF文档处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/PLM/">PLM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/POM/">POM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Pac4j/">Pac4j</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Pac4j-4.0.0/">Pac4j 4.0.0</a>
    
    <a href="https://index.zshipu.com/geek001/tags/pac4j-cas/">pac4j-cas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Performance-Tuning/">Performance Tuning</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Pinboard/">Pinboard</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Prisma/">Prisma</a>
    
    <a href="https://index.zshipu.com/geek001/tags/PyTorch/">PyTorch</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Python/">Python</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Python3.8/">Python3.8</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Python%E5%AE%9E%E7%8E%B0/">Python实现</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Python%E7%BC%96%E7%A8%8B/">Python编程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/QA%E7%B3%BB%E7%BB%9F/">QA系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/QMS/">QMS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/">QQ机器人</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Qunar/">Qunar</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Quora%E6%9B%BF%E4%BB%A3%E5%93%81/">Quora替代品</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Qwen2/">Qwen2</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG/">RAG</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E5%BA%94%E7%94%A8/">RAG应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E6%8A%80%E6%9C%AF/">RAG技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E6%8A%80%E6%9C%AF-%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%97%B6%E4%BB%A3-%E8%85%BE%E8%AE%AF%E4%BA%91/">RAG技术， 大模型时代， 腾讯云</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E6%A1%86%E6%9E%B6/">RAG框架</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E6%A8%A1%E5%9E%8B/">RAG模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RAG%E7%B3%BB%E7%BB%9F/">RAG系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/REST/">REST</a>
    
    <a href="https://index.zshipu.com/geek001/tags/REST-API/">REST API</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RapidOCR/">RapidOCR</a>
    
    <a href="https://index.zshipu.com/geek001/tags/React/">React</a>
    
    <a href="https://index.zshipu.com/geek001/tags/React-Query/">React Query</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Redis/">Redis</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Ribbon/">Ribbon</a>
    
    <a href="https://index.zshipu.com/geek001/tags/RubyGems/">RubyGems</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SCADA/">SCADA</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SCM/">SCM</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SPL/">SPL</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SSENSE-TECH/">SSENSE-TECH</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SSG/">SSG</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SSO-Shiro-CAS/">SSO-Shiro-CAS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/STDOUT/">STDOUT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/STM32/">STM32</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Scala/">Scala</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Scaled-Agile-Framework/">Scaled Agile Framework</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Scrum-%E5%8F%8D%E6%A8%A1%E5%BC%8F/">Scrum 反模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Sega/">Sega</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Server-Rendering/">Server Rendering</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Service%E5%B1%82/">Service层</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Session%E5%85%B1%E4%BA%AB/">Session共享</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Sharding-JDBC/">Sharding-JDBC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Shiro/">Shiro</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Socket-%E7%BC%96%E7%A8%8B/">Socket 编程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring/">Spring</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-AI/">Spring AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-AOP/">Spring AOP</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-Boot/">Spring Boot</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-Boot-2.0/">Spring Boot 2.0</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-Framework/">Spring Framework</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-MVC/">Spring MVC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-Security/">Spring Security</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring-Validation/">Spring Validation</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SpringBoot/">SpringBoot</a>
    
    <a href="https://index.zshipu.com/geek001/tags/SpringBoot/">SpringBoot</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Spring%E7%8A%B6%E6%80%81%E6%9C%BA/">Spring状态机</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Storybook/">Storybook</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Swagger%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/">Swagger接口文档</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TCC/">TCC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TCP%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98/">TCP粘包问题</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TEXT/">TEXT</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Tailwind-CSS/">Tailwind CSS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TeamCity/">TeamCity</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Text2SQL/">Text2SQL</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ThinkJS/">ThinkJS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/ThreadLocal/">ThreadLocal</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Troubleshooting/">Troubleshooting</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TypeScript/">TypeScript</a>
    
    <a href="https://index.zshipu.com/geek001/tags/TypedArray/">TypedArray</a>
    
    <a href="https://index.zshipu.com/geek001/tags/UIUX%E8%AE%BE%E8%AE%A1/">UIUX设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/UI%E8%AE%BE%E8%AE%A1/">UI设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/UI%E8%B6%8B%E5%8A%BF/">UI趋势</a>
    
    <a href="https://index.zshipu.com/geek001/tags/UX%E8%AE%BE%E8%AE%A1/">UX设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Vaadin/">Vaadin</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Vue.js/">Vue.js</a>
    
    <a href="https://index.zshipu.com/geek001/tags/WMS/">WMS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Weaviate/">Weaviate</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">Web 应用程序</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">Web 应用程序开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/WebSocket/">WebSocket</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Webpack/">Webpack</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Web%E5%BC%80%E5%8F%91/">Web开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Web%E6%A1%86%E6%9E%B6%E5%92%8C%E5%BA%93/">Web框架和库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/WinForms/">WinForms</a>
    
    <a href="https://index.zshipu.com/geek001/tags/WinFrom%E6%8E%A7%E4%BB%B6/">WinFrom控件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Windows/">Windows</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Windows%E5%AE%89%E8%A3%85/">Windows安装</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Word2Vec/">Word2Vec</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Word%E6%96%87%E6%A1%A3/">Word文档</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Zilliz/">Zilliz</a>
    
    <a href="https://index.zshipu.com/geek001/tags/backend-development/">backend development</a>
    
    <a href="https://index.zshipu.com/geek001/tags/buji-pac4j/">buji-pac4j</a>
    
    <a href="https://index.zshipu.com/geek001/tags/bundler/">bundler</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Cas/">Cas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/conda/">conda</a>
    
    <a href="https://index.zshipu.com/geek001/tags/cookie/">cookie</a>
    
    <a href="https://index.zshipu.com/geek001/tags/domain-driven-design-pattern/">domain-driven design pattern</a>
    
    <a href="https://index.zshipu.com/geek001/tags/exchange%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">exchange信息收集</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Filebeat/">Filebeat</a>
    
    <a href="https://index.zshipu.com/geek001/tags/gRPC/">gRPC</a>
    
    <a href="https://index.zshipu.com/geek001/tags/gem-install-redis/">gem install redis</a>
    
    <a href="https://index.zshipu.com/geek001/tags/graphql-go-%E5%BA%93/">graphql-go 库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/java-virtual-machine-architecture/">java virtual machine architecture</a>
    
    <a href="https://index.zshipu.com/geek001/tags/jvm-runtime-data-areas/">jvm runtime data areas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Logstash/">Logstash</a>
    
    <a href="https://index.zshipu.com/geek001/tags/macOS/">macOS</a>
    
    <a href="https://index.zshipu.com/geek001/tags/microservices-architecture/">microservices architecture</a>
    
    <a href="https://index.zshipu.com/geek001/tags/multiline/">multiline</a>
    
    <a href="https://index.zshipu.com/geek001/tags/openssl/">openssl</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Pac4j/">Pac4j</a>
    
    <a href="https://index.zshipu.com/geek001/tags/pac4j-cas/">pac4j-cas</a>
    
    <a href="https://index.zshipu.com/geek001/tags/pom.xml/">pom.xml</a>
    
    <a href="https://index.zshipu.com/geek001/tags/serviceValidate/">serviceValidate</a>
    
    <a href="https://index.zshipu.com/geek001/tags/session/">session</a>
    
    <a href="https://index.zshipu.com/geek001/tags/Shiro/">Shiro</a>
    
    <a href="https://index.zshipu.com/geek001/tags/splitChunks/">splitChunks</a>
    
    <a href="https://index.zshipu.com/geek001/tags/systemctl/">systemctl</a>
    
    <a href="https://index.zshipu.com/geek001/tags/time.After/">time.After</a>
    
    <a href="https://index.zshipu.com/geek001/tags/virtual-machine-memory-model/">virtual machine memory model</a>
    
    <a href="https://index.zshipu.com/geek001/tags/webStorage/">webStorage</a>
    
    <a href="https://index.zshipu.com/geek001/tags/wisemodel.cn/">wisemodel.cn</a>
    
    <a href="https://index.zshipu.com/geek001/tags/zlib/">zlib</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82/">一文读懂</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%87%E5%AD%97%E6%80%BB%E7%BB%93/">万字总结</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%93%E4%B8%9A%E8%B5%B7%E6%BA%90/">专业起源</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%9A%E5%8A%A1%E6%9E%B6%E6%9E%84/">业务架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%9E%8B/">业务模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%9A%E5%8A%A1%E7%B3%BB%E7%BB%9F/">业务系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%9A%E5%8A%A1%E8%AE%BE%E8%AE%A1/">业务设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%AD%E5%8F%B0/">中台</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%AD%E5%B9%B4%E5%8D%B1%E6%9C%BA/">中年危机</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%AD%E6%96%87%E5%AF%B9%E8%AF%9D%E6%A8%A1%E5%9E%8B/">中文对话模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0/">主动学习</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%B8%BB%E5%8A%A8%E9%80%82%E9%85%8D/">主动适配</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%8B%E4%BB%B6%E9%A3%8E%E6%9A%B4/">事件风暴</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8/">事件驱动</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E6%A8%A1%E5%9E%8B/">事件驱动模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1/">云服务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%92%E8%81%94%E7%BD%91%E4%B8%9A%E5%8A%A1/">互联网业务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6/">产生条件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%AC%E4%B8%9C/">京东</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%AC%E4%B8%9C%E4%BA%91/">京东云</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%AC%E8%A5%BF%E5%95%86%E5%9F%8E/">京西商城</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">人工智能</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BA%BA%E6%95%99%E7%89%88/">人教版</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%8E0%E5%88%B01/">从0到1</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%90%86%E5%99%A8%E5%86%B2%E7%AA%81/">代理器冲突</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/">代码优化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/">代码实现</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E5%AE%9E%E8%B7%B5/">代码实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91/">代码开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/">代码生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8/">代码生成器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B/">代码示例</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84/">代码结构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BB%BB%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">任务解决方案</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8/">企业应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%81%E4%B8%9A%E6%95%B0%E6%8D%AE/">企业数据</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%BA%94%E7%94%A8/">企业级应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">企业级应用开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%98%E5%8C%96%E5%AE%9E%E8%B7%B5/">优化实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%98%E9%9B%85%E8%AE%BE%E8%AE%A1/">优雅设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BC%9A%E8%AE%AE%E7%AC%94%E8%AE%B0/">会议笔记</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BD%8D%E6%93%8D%E4%BD%9C/">位操作</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BD%9C%E7%94%A8/">作用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BD%9C%E7%94%A8%E5%9F%9F/">作用域</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BE%9B%E5%BA%94%E9%93%BE/">供应链</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/">依赖注入</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/">依赖管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%81%A5%E5%BA%B7%E7%AE%A1%E7%90%86/">健康管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%83%E6%95%B0%E6%8D%AE%E8%BF%87%E6%BB%A4/">元数据过滤</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%83%E7%A9%BA%E9%97%B4/">元空间</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%85%E8%A1%80%E6%A8%A1%E5%9E%8B/">充血模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%89%E6%95%8F%E7%94%B5%E9%98%BB/">光敏电阻</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8/">免费使用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/">入门学习</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">全局异常处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/">全栈开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%A8%E6%A1%88%E8%AE%BE%E8%AE%A1/">全案设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%A8%E9%93%BE%E8%B7%AF/">全链路</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%AD%E6%AD%A5%E6%8B%86%E8%A7%A3/">六步拆解</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%AD%E8%BE%B9%E5%BD%A2%E6%9E%B6%E6%9E%84/">六边形架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%85%B3%E9%97%AD%E8%A1%8C%E4%B8%BA/">关闭行为</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/">内存分配</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2/">内存泄露</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA/">内存溢出</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">内存管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/">内存结构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E5%AE%B9%E5%88%9B%E4%BD%9C%E6%88%96%E5%86%85%E5%AE%B9%E8%90%A5%E9%94%80/">内容创作(或&#39;内容营销&#39;)</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%86%85%E7%9C%81%E6%BC%8F%E6%B4%9E/">内省漏洞</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84/">分层架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">分布式事务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86/">分布式会话管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%8A%80%E6%9C%AF%E6%A0%88/">分布式技术栈</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">分库分表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%86%E9%A1%B5%E6%8A%80%E6%9C%AF/">分页技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%9B%E6%96%B0/">创新</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%88%9D%E4%B8%AD/">初中</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%89%8D%E7%99%BE%E5%BA%A6%E9%AB%98%E7%AE%A1/">前百度高管</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%89%8D%E7%AB%AF/">前端</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%A4%87/">功能完备</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2/">动态页面</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8C%BB%E7%96%97%E5%A4%A7%E6%A8%A1%E5%9E%8B/">医疗大模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8C%BB%E7%96%97%E9%97%AE%E7%AD%94/">医疗问答</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%8F%E5%90%8C%E5%8A%9E%E5%85%AC/">协同办公</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%95%E6%8D%AE%E7%B3%BB%E7%BB%9F/">单据系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%95%E7%82%B9%E7%99%BB%E5%87%BA/">单点登出</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95/">单点登录</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%95%E7%89%87%E6%9C%BA/">单片机</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8D%AB%E6%8A%A5/">卫报</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8E%8B%E6%B5%8B%E5%88%86%E6%9E%90/">压测分析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/">原子操作</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8E%BB%E5%93%AA%E5%84%BF%E7%BD%91/">去哪儿网</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C/">参数校验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8F%8D%E5%B0%84/">反射</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8F%AF%E6%8C%81%E7%BB%AD%E5%8F%91%E5%B1%95/">可持续发展</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/">可视化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81/">合并冲突</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%8C%E6%AD%A5%E4%B8%80%E8%87%B4%E6%80%A7%E6%A0%A1%E9%AA%8C/">同步一致性校验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/">后台运行</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">后端开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E5%8C%96/">向量化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E5%8C%96%E6%9F%A5%E8%AF%A2/">向量化查询</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E6%90%9C%E7%B4%A2/">向量搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">向量数据库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2/">向量检索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%91%E9%87%8F%E7%B4%A2%E5%BC%95%E7%AE%97%E6%B3%95/">向量索引算法</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%90%AF%E8%92%99/">启蒙</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%91%BD%E4%BB%A4%E6%8A%80%E5%B7%A7/">命令技巧</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%91%BD%E4%BB%A4%E6%9F%A5%E8%AF%A2%E5%88%86%E7%A6%BB/">命令查询分离</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%91%BD%E4%BB%A4%E9%A3%8E%E6%9A%B4/">命令风暴</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4/">响应时间</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%95%86%E5%93%81%E5%9F%9F/">商品域</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%9B%E5%B1%82%E6%9E%B6%E6%9E%84/">四层架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%9B%E9%87%8D%E8%BE%B9%E7%95%8C/">四重边界</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/">团队协作</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%A2%E9%98%9F%E7%94%9F%E4%BA%A7%E5%8A%9B/">团队生产力</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%BE%E5%83%8F%E4%BC%98%E5%8C%96/">图像优化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/">图数据库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9B%BE%E6%A3%80%E7%B4%A2/">图检索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8/">垃圾收集器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">基本概念</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD/">基础设施</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A2%9E%E9%87%8F%E7%AB%99%E7%82%B9%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90/">增量站点重新生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%8D%E6%9D%82%E6%80%A7%E7%AE%A1%E7%90%86/">复杂性管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%96%E6%8C%82%E7%9F%A5%E8%AF%86%E5%BA%93/">外挂知识库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E4%BA%91%E6%94%BB%E5%87%BB%E9%9D%A2%E8%B5%84%E4%BA%A7%E6%A2%B3%E7%90%86/">多云攻击面资产梳理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E6%AD%A5%E6%8E%A8%E7%90%86/">多步推理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/">多界上下文集成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E7%A7%9F%E6%88%B7/">多租户</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%9F%E4%B8%80%E8%AE%BF%E9%97%AE/">多端数据统一访问</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E8%A1%8C%E5%90%88%E5%B9%B6/">多行合并</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%9A%E8%A1%8C%E6%97%A5%E5%BF%97/">多行日志</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%A7%E5%9E%8B%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/">大型语言模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">大数据分析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/">大模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/">大语言模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%A7%8B%E6%99%BAAI/">始智AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%90%E5%9F%9F%E5%88%92%E5%88%86/">子域划分</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%97%E6%AE%B5%E5%90%8D%E5%BC%82%E5%B8%B8/">字段名异常</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/">字节跳动</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8/">学习应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AD%A6%E4%B9%A0%E6%9C%BA%E5%88%B6/">学习机制</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E5%85%A8/">安全</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E5%85%A8%E5%8C%BB%E7%96%97AI/">安全医疗AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E5%85%A8%E5%BA%93/">安全库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E5%85%A8%E6%80%A7/">安全性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/">安全框架</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E8%A3%85/">安装</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">安装教程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%8C%E7%BB%93%E7%AF%87/">完结篇</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%88%98/">实战</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%88%98%E5%88%86%E4%BA%AB/">实战分享</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%88%98%E8%90%BD%E5%9C%B0/">实战落地</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B/">实战课程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%96%BD%E6%8C%91%E6%88%98/">实施挑战</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%96%BD%E7%AD%96%E7%95%A5/">实施策略</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%96%BD%E9%9A%BE%E7%82%B9/">实施难点</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%97%B6%E6%95%B0%E6%8D%AE%E6%8E%A8%E9%80%81/">实时数据推送</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97/">实时计算</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E7%94%A8%E5%9C%BA%E6%99%AF/">实用场景</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E7%94%A8%E6%8C%87%E5%8D%97/">实用指南</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%B1%BB/">实用程序类</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E8%B7%B5/">实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8/">实践应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E8%B7%B5%E8%90%BD%E5%9C%B0/">实践落地</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%9E%E9%AA%8C/">实验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%A2%E6%88%B7%E6%94%AF%E6%8C%81/">客户支持</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%9B%86%E6%88%90/">客户端集成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%B6%E5%BA%AD%E5%88%86%E4%BA%AB/">家庭分享</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/">容器化部署</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1/">容器镜像服务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AF%B9%E8%B1%A1/">对象</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%AF%BC%E8%88%AA/">导航</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B0%8F%E4%BC%81%E4%B8%9A%E6%9E%B6%E6%9E%84%E5%B8%88/">小企业架构师</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B0%8F%E8%AF%9A%E4%BF%A1%E9%A9%BF%E7%AB%99/">小诚信驿站</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B0%8F%E8%BD%A6%E5%BE%AA%E8%BF%B9/">小车循迹</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B0%8F%E8%BD%A6%E8%AE%BE%E8%AE%A1/">小车设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/">嵌入式开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/">嵌入式系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B5%8C%E5%85%A5%E6%8A%80%E6%9C%AF/">嵌入技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B7%A1%E7%BA%BF%E5%B0%8F%E8%BD%A6/">巡线小车</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B7%A5%E7%A8%8B%E5%88%9B%E5%BB%BA/">工程创建</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/">工程实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B9%82%E7%AD%89%E6%80%A7/">幂等性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/">平衡树</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B/">应用实例</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">应用开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84/">应用架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6/">应用软件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BB%BA%E6%A8%A1/">建模</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BB%BA%E6%A8%A1%E6%96%B9%E6%B3%95%E8%AE%BA/">建模方法论</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91/">开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5/">开发实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91%E6%9D%BF/">开发板</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/">开发环境</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91%E8%80%85/">开发者</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA/">开发者社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E6%BA%90/">开源</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E6%BA%90%E5%A4%A7%E6%A8%A1%E5%9E%8B/">开源大模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E6%BA%90%E7%A4%BE%E5%8C%BA/">开源社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E5%BA%94%E7%94%A8/">开源项目应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">异常处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%B5%8B/">异常检测</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/">异步处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BD%A2%E7%8A%B6/">形状</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%97%E7%89%A9%E6%8A%80%E6%9C%AF/">得物技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/">微信公众号</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">微前端架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E6%8E%A7%E5%88%B6%E5%99%A8/">微控制器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86/">微服务拆分</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/">微服务架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BF%83%E7%94%B5%E7%9B%91%E6%B5%8B/">心电监测</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E5%BF%83%E7%9F%A5%E4%BA%86/">心知了</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%80%A7%E8%83%BD/">性能</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87/">性能提升</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">性能测试</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%88%98%E6%9C%AF%E6%A8%A1%E5%BC%8F/">战术模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%88%98%E6%9C%AF%E8%AE%BE%E8%AE%A1/">战术设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%88%98%E7%95%A5/">战略</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%88%98%E7%95%A5%E6%A8%A1%E5%BC%8F/">战略模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%88%98%E7%95%A5%E8%AE%BE%E8%AE%A1/">战略设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%89%93%E5%8C%85/">打包</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/">执行引擎</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%89%B9%E9%87%8F%E5%A4%84%E7%90%86/">批量处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%89%B9%E9%87%8F%E6%89%93%E5%BC%80/">批量打开</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E4%B8%8E%E4%B8%9A%E5%8A%A1/">技术与业务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E5%89%8D%E6%B2%BF/">技术前沿</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E5%8D%93%E8%B6%8A/">技术卓越</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD/">技术实施</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0/">技术实现</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/">技术提升</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88/">技术方案</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/">技术架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E6%A6%82%E5%BF%B5/">技术概念</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E7%B2%BE%E7%B2%B9/">技术精粹</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%80%E6%9C%AF%E8%B6%8B%E5%8A%BF/">技术趋势</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%A5%E9%94%99/">报错</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%BD%E5%A5%96%E5%B9%B3%E5%8F%B0/">抽奖平台</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8A%BD%E5%A5%96%E7%A7%92%E6%9D%80/">抽奖秒杀</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8B%86%E5%8C%85/">拆包</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">持续集成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8C%87%E5%8D%97/">指南</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8E%88%E6%9D%83/">授权</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8E%A5%E5%8F%A3/">接口</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/">接口管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8E%A7%E5%88%B6%E5%99%A8/">控制器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8F%90%E4%BE%9B%E5%99%A8/">提供器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%8F%90%E5%8D%87%E8%B4%A8%E9%87%8F/">提升质量</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%9C%E7%B4%A2/">搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%9C%E7%B4%A2%E5%8F%AC%E5%9B%9E%E7%8E%87/">搜索召回率</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%9C%E7%B4%A2%E6%8A%80%E6%9C%AF/">搜索技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%9C%E7%B4%A2%E6%8E%A8%E8%8D%90/">搜索推荐</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%BA%E7%A8%8B/">携程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%90%BA%E7%A8%8B%E5%9B%BD%E9%99%85/">携程国际</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95/">操作方法</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%94%AF%E4%BB%98%E7%B3%BB%E7%BB%9F/">支付系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/">效率提升</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%99%E8%82%B2%E8%B4%AC%E5%80%BC/">教育贬值</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E5%AD%97%E5%8C%96%E8%BD%AC%E5%9E%8B/">数字化转型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E5%AD%97%E7%9B%B8%E5%86%8C/">数字相册</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">数据处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/">数据存储</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B/">数据工程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%A5%E9%97%A8/">数据库入门</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E5%BA%93/">数据库分库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E8%A1%A8/">数据库分表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/">数据库查询</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/">数据库设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E6%96%87%E5%8C%96/">数据文化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/">数据查询</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81/">数据特征</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/">数据采集</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%8D%AE%E9%9C%80%E6%B1%82%E5%8F%98%E5%8C%96/">数据需求变化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B0%E6%99%BA%E5%8C%96%E8%BD%AC%E5%9E%8B/">数智化转型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%95%B4%E6%B4%81%E6%9E%B6%E6%9E%84/">整洁架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%9C%AC%E5%90%91%E9%87%8F%E5%8C%96/">文本向量化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2/">文本搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%9C%AC%E7%90%86%E8%A7%A3/">文本理解</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%9C%AC%E7%94%9F%E6%88%90/">文本生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%9C%AC%E7%9B%B8%E4%BC%BC%E5%BA%A6/">文本相似度</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%A1%A3/">文档</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86/">文档管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%B0%E6%97%B6%E4%BB%A3/">新时代</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%B0%E7%89%B9%E6%80%A7/">新特性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%B0%E8%8C%83%E5%BC%8F/">新范式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%96%B0%E9%A1%B9%E7%9B%AE/">新项目</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8A%80%E6%9C%AF/">无服务器技术</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%A5%E5%BF%97%E5%A4%84%E7%90%86/">日志处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/">日志收集</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%A5%E5%BF%97%E8%84%B1%E6%95%8F/">日志脱敏</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE/">日志配置</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%97%B6%E5%B0%9A%E5%BA%94%E7%94%A8/">时尚应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%98%A0%E5%B0%84%E5%81%8F%E7%A7%BB/">映射偏移</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/">智能合约</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%99%BA%E8%83%BD%E7%A1%AC%E4%BB%B6/">智能硬件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%99%BA%E8%83%BD%E8%AF%8A%E7%96%97/">智能诊疗</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">最佳实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9C%89%E8%B5%9E/">有赞</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93/">服务器端渲染</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%84%E5%BB%BA%E6%96%B9%E6%B3%95/">构建方法</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84/">架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E5%AE%9E%E8%B7%B5/">架构实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E5%B8%88/">架构师</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3/">架构思想</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/">架构模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E6%A8%A1%E6%9D%BF/">架构模板</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/">架构演进</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">架构设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E8%BD%AC%E5%9E%8B/">架构转型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9E%B6%E6%9E%84%E9%87%8D%E6%9E%84/">架构重构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/">查询优化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A0%B7%E5%BC%8F%E8%A1%A8/">样式表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/">核心概念</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA/">检索增强</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90/">检索增强生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A6%82%E5%BF%B5%E5%88%B0%E5%AE%9E%E8%B7%B5/">概念到实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A6%82%E5%BF%B5%E7%AF%87/">概念篇</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A8%A1%E5%9E%8B%E4%B8%80%E8%87%B4%E6%80%A7/">模型一致性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A8%A1%E5%9E%8B%E4%BB%8B%E7%BB%8D/">模型介绍</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A8%A1%E5%BC%8F/">模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A8%A1%E6%80%81%E6%A1%86/">模态框</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90/">模板生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%AD%BB%E9%94%81/">死锁</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B3%A8%E9%94%80%E8%AF%B7%E6%B1%82/">注销请求</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B4%8B%E8%91%B1%E6%9E%B6%E6%9E%84/">洋葱架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B4%8B%E8%91%B1%E6%A8%A1%E5%9E%8B/">洋葱模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B5%8B%E8%AF%95/">测试</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8A%80%E5%B7%A7/">浏览器技巧</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B6%88%E6%81%AF%E8%BE%B9%E7%95%8C%E6%A0%87%E8%AE%B0/">消息边界标记</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B7%B1%E5%BA%A6%E8%B0%83%E7%A0%94/">深度调研</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/">溯源分析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%81%B5%E6%B4%BB%E6%80%A7/">灵活性</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/">热门文章</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%89%9B%E6%B4%A5%E5%A4%A7%E5%AD%A6/">牛津大学</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%89%9B%E6%B4%A5%E6%95%99%E6%8E%88/">牛津教授</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%89%B9%E5%AE%9A%E8%BD%AF%E4%BB%B6/">特定软件</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%8E%AF%E4%BF%9D/">环保</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%8E%AF%E5%A2%83%E5%BD%B1%E5%93%8D/">环境影响</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%8E%B0%E4%BB%A3Web%E5%BC%80%E5%8F%91/">现代Web开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%8E%B0%E4%BB%A3%E5%8C%96/">现代化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%9F%E4%BA%A7%E8%90%BD%E5%9C%B0/">生产落地</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%9F%E4%BA%A7%E9%A1%B9%E7%9B%AE/">生产项目</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%9F%E6%88%90AI/">生成AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%9F%E6%88%90%E5%BC%8FAI/">生成式AI</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/">生成模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/">用户体验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/">用户管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E9%AA%8C%E8%AF%81%E6%8E%88%E6%9D%83/">用户角色验证授权</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%B5%E5%95%86/">电商</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%B5%E5%95%86%E6%94%AF%E4%BB%98/">电商支付</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%94%B5%E6%9C%BA%E9%A9%B1%E5%8A%A8/">电机驱动</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%99%BB%E5%87%BA%E5%A4%84%E7%90%86/">登出处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%99%BB%E5%BD%95%E4%BD%93%E9%AA%8C/">登录体验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/">登录认证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81/">登录验证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9C%9F%E9%A6%99%E4%BD%93%E9%AA%8C/">真香体验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A2%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">矢量数据库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E4%B9%8E/">知乎</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/">知识体系</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%88%86%E4%BA%AB/">知识分享</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/">知识图谱</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%9C%B0%E5%9B%BE/">知识地图</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%AE%9D%E5%BA%93/">知识宝库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%AF%86%E9%9B%86%E4%BB%BB%E5%8A%A1/">知识密集任务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%AF%86%E9%9B%86%E5%9E%8B/">知识密集型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E5%BA%93/">知识库</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E6%8C%96%E6%8E%98/">知识挖掘</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E6%99%AE%E5%8F%8A/">知识普及</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E6%A3%80%E7%B4%A2/">知识检索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/">知识管理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E9%93%BA/">知识铺</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%9F%A5%E8%AF%86%E9%97%AE%E7%AD%94/">知识问答</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81/">示例代码</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A4%BE%E4%BC%9A%E4%B8%AA%E4%BD%93/">社会个体</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A5%9E%E5%99%A8/">神器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">神经网络</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85/">离线安装</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%A7%8D%E5%AD%90%E8%BD%AE%E8%9E%8D%E8%B5%84/">种子轮融资</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AC%94%E8%AE%B0/">笔记</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91/">笔记本电脑</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AC%94%E8%AE%B0%E7%B3%BB%E7%BB%9F/">笔记系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AD%96%E7%95%A5/">策略</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/">策略模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AE%80%E4%B9%A6/">简书</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AE%97%E6%B3%95/">算法</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AE%97%E6%B3%95%E6%95%88%E7%8E%87/">算法效率</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%AE%97%E6%B3%95%E6%9E%B6%E6%9E%84%E5%B8%88/">算法架构师</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/">类加载器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B1%BB%E5%9E%8B/">类型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/">系统开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/">系统架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B4%A2%E5%BC%95%E5%8A%A0%E9%80%9F/">索引加速</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%B4%A2%E5%BC%95%E6%98%A0%E5%B0%84/">索引映射</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BA%A2%E5%A4%96%E5%B7%A1%E7%BA%BF/">红外巡线</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BA%A2%E5%A4%96%E5%BE%AA%E8%BF%B9/">红外循迹</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/">线程安全</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%AE%BA/">经济理论</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F/">统一返回格式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BB%BC%E8%BF%B0/">综述</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BB%BF%E8%89%B2%E7%BC%96%E7%A0%81/">绿色编码</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BC%93%E5%86%B2%E6%B1%A0/">缓冲池</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BC%96%E7%A8%8B/">编程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/">网站用户体验</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/">网站设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/">网络工程师</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BD%91%E9%A1%B5%E6%A0%B7%E5%BC%8F/">网页样式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5/">网页链接</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E7%BE%8E%E5%9B%A2/">美团</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA/">聊天机器人</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%8C%E4%B8%9A%E5%8D%87%E7%BA%A7/">职业升级</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%8C%E4%B8%9A%E8%BD%AC%E5%9E%8B/">职业转型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%9A%E5%90%88/">聚合</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%9A%E5%90%88%E6%8E%A5%E5%8F%A3/">聚合接口</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%9A%E5%90%88%E6%A0%B9/">聚合根</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%81%9A%E5%90%88%E8%BF%87%E5%A4%A7%E7%BB%BC%E5%90%88%E7%97%87/">聚合过大综合症</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%85%BE%E8%AE%AF/">腾讯</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/">腾讯云</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA/">腾讯云开发者社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/">自动化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/">自动装配</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/">自然语言处理</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%87%AA%E7%94%B1%E8%B5%84%E8%AE%AF/">自由资讯</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%87%B3%E9%A1%B6%E7%BD%91/">至顶网</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%88%AA%E7%8F%AD%E6%90%9C%E7%B4%A2/">航班搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%8B%B1%E8%AF%AD%E6%95%99%E8%82%B2/">英语教育</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%A5%E9%94%80%E7%AD%96%E7%95%A5/">营销策略</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%BD%E5%9C%B0%E5%AE%9E%E6%96%BD/">落地实施</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">落地实践</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%BD%E5%9C%B0%E6%80%9D%E8%80%83/">落地思考</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%BD%E5%9C%B0%E6%8C%91%E6%88%98/">落地挑战</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%90%BD%E5%9C%B0%E6%96%B9%E6%A1%88/">落地方案</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%93%9D%E7%89%99%E9%81%A5%E6%8E%A7/">蓝牙遥控</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/">虚拟机</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%9A%82%E8%9A%81%E9%87%91%E6%9C%8D/">蚂蚁金服</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">解决方案</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%A7%A3%E6%83%91/">解惑</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%A7%A3%E6%9E%90/">解析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%A7%A3%E9%87%8A/">解释</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%A2%E5%8D%95%E7%B3%BB%E7%BB%9F/">订单系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%A4%E8%AF%81/">认证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE/">训练数据</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%B0%E5%BF%86%E4%BF%9D%E5%AD%98/">记忆保存</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/">设计原则</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%BE%E8%AE%A1%E7%A0%94%E5%8F%91/">设计研发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AE%BF%E9%97%AE%E8%A7%84%E5%88%99/">访问规则</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%8D%E5%90%91%E9%87%8F/">词向量</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%8D%E5%90%91%E9%87%8F%E6%A8%A1%E5%9E%8B/">词向量模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%8D%E5%B5%8C%E5%85%A5/">词嵌入</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%AD%E4%B9%89%E6%90%9C%E7%B4%A2/">语义搜索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%AD%E4%B9%89%E6%A3%80%E7%B4%A2/">语义检索</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%AF%E5%8C%BA/">误区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%AF%BE%E7%A8%8B/">课程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">负载均衡</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B4%AB%E8%A1%80%E6%A8%A1%E5%9E%8B/">贫血模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B7%AF%E7%94%B1/">路由</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B7%AF%E7%94%B1%E7%BA%A6%E5%AE%9A/">路由约定</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%B7%B3%E8%A1%A8/">跳表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81/">身份认证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81/">身份验证</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E6%8E%88%E6%9D%83/">身份验证授权</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E4%B8%8E%E6%9C%8D%E5%8A%A1/">软件与服务</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E5%A4%8D%E6%9D%82%E5%BA%A6/">软件复杂度</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">软件工程</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/">软件开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84/">软件架构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/">软件设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BF%81%E7%A7%BB%E5%8E%9F%E5%9B%A0/">迁移原因</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E8%BF%90%E8%A1%8C%E6%97%B6/">运行时</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%81%BF%E5%85%8D%E9%94%81%E8%A1%A8/">避免锁表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%85%8D%E7%BD%AE/">配置</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%85%92%E5%BA%97%E6%95%B0%E6%8D%AE%E9%87%8D%E6%9E%84/">酒店数据重构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%87%8D%E5%A4%8D%E4%B8%8B%E5%8D%95/">重复下单</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%87%8D%E5%AE%9A%E5%90%91/">重定向</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%87%91%E8%9E%8D%E7%A7%91%E6%8A%80/">金融科技</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%94%81%E8%A1%A8/">锁表</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%95%BF%E5%BA%A6/">长度</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%95%BF%E6%96%87%E6%9C%AC/">长文本</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%97%AE%E7%AD%94%E7%A4%BE%E5%8C%BA/">问答社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%97%AE%E7%AD%94%E7%B3%BB%E7%BB%9F/">问答系统</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BB%E5%A1%9E-IO/">阻塞 IO</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BF%E9%87%8C/">阿里</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BF%E9%87%8C%E4%BA%91/">阿里云</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BF%E9%87%8C%E4%BA%91%E5%B8%AE%E5%8A%A9%E4%B8%AD%E5%BF%83/">阿里云帮助中心</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E8%80%85%E7%A4%BE%E5%8C%BA/">阿里云开发者社区</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4/">阿里巴巴</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%99%80%E8%9E%BA%E4%BB%AA%E6%8E%A7%E5%88%B6/">陀螺仪控制</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87/">限界上下文</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9B%86%E6%88%90/">集成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9B%86%E6%88%90%E5%BA%94%E7%94%A8/">集成应用</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9B%86%E6%88%90%E9%85%8D%E7%BD%AE/">集成配置</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9B%B6%E6%8B%B7%E8%B4%9D/">零拷贝</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/">需求分析</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%99%E6%80%81%E5%85%8D%E6%9D%80/">静态免杀</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%99%E6%80%81%E7%AB%99%E7%82%B9%E7%94%9F%E6%88%90/">静态站点生成</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%99%E6%80%81%E7%AB%99%E7%82%B9%E7%94%9F%E6%88%90SSG/">静态站点生成(SSG)</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%9E%E9%98%BB%E5%A1%9E-IO/">非阻塞 IO</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%A2%E8%AF%95/">面试</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%A2%E8%AF%95%E6%89%8B%E5%86%8C/">面试手册</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA/">页面导航</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B5%E9%9D%A2%E9%93%BE%E6%8E%A5/">页面链接</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B6%E7%BA%A7%E5%BC%80%E6%BA%90/">顶级开源</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B9%E7%9B%AE%E4%BA%A7%E5%93%81%E5%8C%96/">项目产品化</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/">项目开发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/">项目结构</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%84%E6%B8%B2%E6%9F%93/">预渲染</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E5%B1%82/">领域层</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E5%BB%BA%E6%A8%A1/">领域建模</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B/">领域模型</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1/">领域模型设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8/">领域驱动</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/">领域驱动设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1-DDD/">领域驱动设计 (DDD)</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A4%90%E5%8E%85/">餐厅</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%A4%90%E5%8E%85%E8%AE%BE%E8%AE%A1/">餐厅设计</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E6%80%A7%E8%83%BD/">高性能</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E6%95%88Prompt/">高效Prompt</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E6%B8%85%E6%B8%B2%E6%9F%93/">高清渲染</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E7%BA%A7%E5%8D%8F%E8%AE%AE%E6%94%AF%E6%8C%81/">高级协议支持</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/">高级技巧</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E7%BB%B4%E7%B4%A2%E5%BC%95/">高维索引</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%AB%98%E8%A1%80%E5%8E%8B/">高血压</a>
    
    <a href="https://index.zshipu.com/geek001/tags/%E9%BB%91%E9%AD%94%E6%B3%95/">黑魔法</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://blog.zshipu.com//" title="知识铺的博客">知识铺的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://index.zshipu.com/geek001/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>